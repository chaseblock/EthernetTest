ARM GAS  /tmp/cc3tDhb2.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"sockets.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tryget_socket_unconn_nouse,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	tryget_socket_unconn_nouse:
  26              	.LVL0:
  27              	.LFB161:
  28              		.file 1 "Middlewares/Third_Party/LwIP/src/api/sockets.c"
   1:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Sockets BSD-Like API module
   4:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
   5:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
   6:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /*
   7:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   8:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All rights reserved.
   9:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  10:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Redistribution and use in source and binary forms, with or without modification,
  11:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * are permitted provided that the following conditions are met:
  12:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  13:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  14:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer.
  15:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  16:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer in the documentation
  17:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    and/or other materials provided with the distribution.
  18:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 3. The name of the author may not be used to endorse or promote products
  19:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    derived from this software without specific prior written permission.
  20:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  21:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  22:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  23:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  24:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  25:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  26:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  29:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  30:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUCH DAMAGE.
ARM GAS  /tmp/cc3tDhb2.s 			page 2


  31:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  32:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This file is part of the lwIP TCP/IP stack.
  33:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  34:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Author: Adam Dunkels <adam@sics.se>
  35:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  36:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Improved by Marc Boucher <marc@mbsi.ca> and David Haas <dhaas@alum.rpi.edu>
  37:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  38:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
  39:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  40:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/opt.h"
  41:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  42:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET /* don't build if not configured for use in lwipopts.h */
  43:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  44:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/sockets.h"
  45:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/sockets_priv.h"
  46:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/api.h"
  47:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/igmp.h"
  48:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet.h"
  49:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/tcp.h"
  50:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/raw.h"
  51:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/udp.h"
  52:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/memp.h"
  53:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/pbuf.h"
  54:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/netif.h"
  55:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/mld6.h"
  57:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
  58:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet_chksum.h"
  59:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  60:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  61:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
  62:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <stdarg.h>
  63:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  64:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  65:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <string.h>
  66:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  67:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_FILENAME
  68:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include LWIP_HOOK_FILENAME
  69:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  70:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  71:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* If the netconn API is not required publicly, then we include the necessary
  72:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    files here to get the implementation */
  73:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_NETCONN
  74:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  75:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 1
  76:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_msg.c"
  77:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_lib.c"
  78:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "netbuf.c"
  79:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  80:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 0
  81:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  82:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  83:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_REF(name)               API_VAR_REF(name)
  84:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_DECLARE(name)           API_VAR_DECLARE(struct lwip_select_cb, name)
  85:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_ALLOC(name, retblock)   API_VAR_ALLOC_EXT(struct lwip_select_cb, MEMP_SEL
  86:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_FREE(name)              API_VAR_FREE(MEMP_SELECT_CB, name)
  87:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 3


  88:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
  89:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP4ADDR_PORT_TO_SOCKADDR(sin, ipaddr, port) do { \
  90:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_len = sizeof(struct sockaddr_in); \
  91:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_family = AF_INET; \
  92:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_port = lwip_htons((port)); \
  93:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet_addr_from_ip4addr(&(sin)->sin_addr, ipaddr); \
  94:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset((sin)->sin_zero, 0, SIN_ZERO_LEN); }while(0)
  95:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR4_TO_IP4ADDR_PORT(sin, ipaddr, port) do { \
  96:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet_addr_to_ip4addr(ip_2_ip4(ipaddr), &((sin)->sin_addr)); \
  97:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin)->sin_port); }while(0)
  98:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
  99:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 100:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 101:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP6ADDR_PORT_TO_SOCKADDR(sin6, ipaddr, port) do { \
 102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_len = sizeof(struct sockaddr_in6); \
 103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_family = AF_INET6; \
 104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_port = lwip_htons((port)); \
 105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_flowinfo = 0; \
 106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet6_addr_from_ip6addr(&(sin6)->sin6_addr, ipaddr); \
 107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_scope_id = ip6_addr_zone(ipaddr); }while(0)
 108:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR6_TO_IP6ADDR_PORT(sin6, ipaddr, port) do { \
 109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet6_addr_to_ip6addr(ip_2_ip6(ipaddr), &((sin6)->sin6_addr)); \
 110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (ip6_addr_has_scope(ip_2_ip6(ipaddr), IP6_UNKNOWN)) { \
 111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_set_zone(ip_2_ip6(ipaddr), (u8_t)((sin6)->sin6_scope_id)); \
 112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } \
 113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin6)->sin6_port); }while(0)
 114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 115:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 116:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 117:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port
 118:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 119:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  (((namelen) == sizeof(struct sockaddr_in)) || \
 120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((namelen) == sizeof(struct sockaddr_in6)))
 121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    (((name)->sa_family == AF_INET) || \
 122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((name)->sa_family == AF_INET6))
 123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) \
 124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        ((((name)->sa_family == AF_INET) && !(NETCONNTYPE_ISIPV6((sock)->conn->type))) || \
 125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        (((name)->sa_family == AF_INET6) && (NETCONNTYPE_ISIPV6((sock)->conn->type))))
 126:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) do { \
 127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_ANY_TYPE_VAL(*ipaddr) || IP_IS_V6_VAL(*ipaddr)) { \
 128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port); \
 129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else { \
 130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port); \
 131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } } while(0)
 132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) sockaddr_to_ipaddr_port(sockaddr, ipaddr, &
 133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, type) (((domain) == AF_INET) ? \
 134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   (type) : (enum netconn_type)((type) | NETCONN_TYPE_IPV6))
 135:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #elif LWIP_IPV6 /* LWIP_IPV4 && LWIP_IPV6 */
 136:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in6))
 137:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET6)
 138:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port)
 141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, port
 143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 144:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /*-> LWIP_IPV4: LWIP_IPV4 && LWIP_IPV6 */
ARM GAS  /tmp/cc3tDhb2.s 			page 4


 145:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in))
 146:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET)
 147:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 148:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port)
 150:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, port)
 152:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 154:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name)    (((name)->sa_family == AF_UNSPEC) || \
 156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     IS_SOCK_ADDR_TYPE_VALID(name))
 157:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock) (((name)->sa_family == AF_UNSPEC) || \
 158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     SOCK_ADDR_TYPE_MATCH(name, sock))
 159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_ALIGNED(name)      ((((mem_ptr_t)(name)) % 4) == 0)
 160:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 161:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 162:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype) do { if ((optlen) < sizeof(opttype)) { don
 163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, opttype) do { \
 164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sock)->conn == NULL) { done_socket(sock); return EINVAL; } }while(0)
 166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype) do { \
 167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (((sock)->conn == NULL) || ((sock)->conn->pcb.tcp == NULL)) { done_socket(sock); return EINVAL
 169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, opttype, netconntype) do { \
 170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype); \
 171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type((sock)->conn)) != netconntype) { done_socket(sock); return ENO
 172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 173:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_REF(name)     API_VAR_REF(name)
 175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(name) API_VAR_DECLARE(struct lwip_setgetsockopt_data, n
 176:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_FREE(name)    API_VAR_FREE(MEMP_SOCKET_SETGETSOCKOPT_DATA, name
 177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
 178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock) do { \
 179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   name = (struct lwip_setgetsockopt_data *)memp_malloc(MEMP_SOCKET_SETGETSOCKOPT_DATA); \
 180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name == NULL) { \
 181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOMEM); \
 182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock); \
 183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1; \
 184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } }while(0)
 185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
 186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock)
 187:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
 188:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 189:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDRCVTIMEO_NONSTANDARD
 190:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE int
 191:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val) (*(int *)(optval) = (val))
 192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval)   ((long)*(const int*)(optval))
 193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE struct timeval
 195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val)  do { \
 196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t loc = (val); \
 197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_sec = (long)((loc) / 1000U); \
 198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_usec = (long)(((loc) % 1000U) * 1000U); }while(0)
 199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval) ((((const struct timeval *)(optval))->tv_sec * 1000) + (
 200:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 5


 202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A struct sockaddr replacement that has the same alignment as sockaddr_in/
 204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *  sockaddr_in6 if instantiated.
 205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** union sockaddr_aligned {
 207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr sa;
 208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in6 sin6;
 210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 211:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
 212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in sin;
 213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
 214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 215:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 216:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Define the number of IPv4 multicast memberships, default is one per socket */
 217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef LWIP_SOCKET_MAX_MEMBERSHIPS
 218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_MAX_MEMBERSHIPS NUM_SOCKETS
 219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 220:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 222:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_ADD_MEMBERSHIP calls to drop the membership when
 223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_pair {
 225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface address */
 228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t if_addr;
 229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t multi_addr;
 231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_pair socket_ipv4_multicast_memberships[LWIP_SOCKET_MAX_MEMBERSH
 234:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 235:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *mul
 236:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *m
 237:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_memberships(int s);
 238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 241:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_JOIN_GROUP calls to drop the membership when
 242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 243:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_mld6_pair {
 244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface index */
 247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t if_idx;
 248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip6_addr_t multi_addr;
 250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_mld6_pair socket_ipv6_multicast_memberships[LWIP_SOCKET_MAX_MEM
 253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mult
 255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mu
 256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_mld6_memberships(int s);
 257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 6


 259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global array of available sockets */
 260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock sockets[NUM_SOCKETS];
 261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 262:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 263:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 264:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using core lock */
 265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)
 266:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)   LOCK_TCPIP_CORE()
 267:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev) UNLOCK_TCPIP_CORE()
 268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using SYS_LIGHTWEIGHT_PROT */
 270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)  SYS_ARCH_DECL_PROTECT(lev)
 271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)       SYS_ARCH_PROTECT(lev)
 272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev)     SYS_ARCH_UNPROTECT(lev)
 273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** This counter is increased from lwip_select when the list is changed
 274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     and checked in select_check_waiters to see if it has changed. */
 275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static volatile int select_cb_ctr;
 276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global list of tasks waiting for select */
 278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_select_cb *select_cb_list;
 279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_set_errno(sk, e) do { \
 282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const int sockerr = (e); \
 283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(sockerr); \
 284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** } while (0)
 285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Forward declaration of some functions */
 287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len);
 289:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB event_callback
 290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent);
 291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB NULL
 293:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_getsockopt_callback(void *arg);
 296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_setsockopt_callback(void *arg);
 297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen);
 299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen
 300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               union lwip_sock_lastdata *lastdata);
 302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *l
 303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 305:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 306:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port)
 307:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sockaddr->sa_family) == AF_INET6) {
 309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6 *)(const void *)(sockaddr), ipaddr, *port)
 310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V6;
 311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in *)(const void *)(sockaddr), ipaddr, *port);
 313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V4;
 314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 7


 316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: initialize thread-local semaphore */
 319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_init(void)
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 325:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: destroy thread-local semaphore */
 326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_cleanup(void)
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 331:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Thread-safe increment of sock->fd_used, with overflow check */
 334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 335:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used(struct lwip_sock *sock)
 336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret;
 338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 339:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 341:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* prevent new usage of this socket if free is pending */
 345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 0;
 346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ++sock->fd_used;
 348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 1;
 349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 355:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like sock_inc_used(), but called under SYS_ARCH_PROTECT lock. */
 356:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 357:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used_locked(struct lwip_sock *sock)
 358:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 360:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ++sock->fd_used;
 367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 370:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* In full-duplex mode,sock->fd_used != 0 prevents a socket descriptor from being
 372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * released (and possibly reused) when used from more than one thread
ARM GAS  /tmp/cc3tDhb2.s 			page 8


 373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * (e.g. read-while-write or close-while-write, etc)
 374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This function is called at the end of functions using (try)get_socket*().
 375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 376:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** done_socket(struct lwip_sock *sock)
 378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed = 0;
 380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn = NULL;
 382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 385:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (--sock->fd_used == 0) {
 389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->fd_free_pending) {
 390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* free the socket */
 391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->fd_used = 1;
 392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       is_tcp = sock->fd_free_pending & LWIP_SOCK_FD_FREE_TCP;
 393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used(sock)         1
 405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used_locked(sock)  1
 406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define done_socket(sock)
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_nouse(int fd)
 412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  29              		.loc 1 412 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s = fd - LWIP_SOCKET_OFFSET;
  34              		.loc 1 413 3 view .LVU1
 414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
  35              		.loc 1 414 3 view .LVU2
  36              		.loc 1 414 6 is_stmt 0 view .LVU3
  37 0000 0328     		cmp	r0, #3
  38 0002 03D8     		bhi	.L3
 415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("tryget_socket_unconn(%d): invalid\n", fd));
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return &sockets[s];
  39              		.loc 1 418 3 is_stmt 1 view .LVU4
ARM GAS  /tmp/cc3tDhb2.s 			page 9


  40              		.loc 1 418 10 is_stmt 0 view .LVU5
  41 0004 024B     		ldr	r3, .L4
  42 0006 03EB0010 		add	r0, r3, r0, lsl #4
  43              	.LVL1:
  44              		.loc 1 418 10 view .LVU6
  45 000a 7047     		bx	lr
  46              	.LVL2:
  47              	.L3:
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
  48              		.loc 1 416 12 view .LVU7
  49 000c 0020     		movs	r0, #0
  50              	.LVL3:
 419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  51              		.loc 1 419 1 view .LVU8
  52 000e 7047     		bx	lr
  53              	.L5:
  54              		.align	2
  55              	.L4:
  56 0010 00000000 		.word	.LANCHOR0
  57              		.cfi_endproc
  58              	.LFE161:
  60              		.section	.text.tryget_socket_unconn,"ax",%progbits
  61              		.align	1
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  65              		.fpu fpv4-sp-d16
  67              	tryget_socket_unconn:
  68              	.LVL4:
  69              	.LFB163:
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_sock *
 422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_dbg_get_socket(int fd)
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn(int fd)
 430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  70              		.loc 1 430 1 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74              		.loc 1 430 1 is_stmt 0 view .LVU10
  75 0000 08B5     		push	{r3, lr}
  76              	.LCFI0:
  77              		.cfi_def_cfa_offset 8
  78              		.cfi_offset 3, -8
  79              		.cfi_offset 14, -4
 431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
  80              		.loc 1 431 3 is_stmt 1 view .LVU11
  81              		.loc 1 431 27 is_stmt 0 view .LVU12
  82 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
  83              	.LVL5:
 432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
ARM GAS  /tmp/cc3tDhb2.s 			page 10


  84              		.loc 1 432 3 is_stmt 1 view .LVU13
 433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used(ret)) {
 434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
  85              		.loc 1 437 3 view .LVU14
 438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  86              		.loc 1 438 1 is_stmt 0 view .LVU15
  87 0006 08BD     		pop	{r3, pc}
  88              		.cfi_endproc
  89              	.LFE163:
  91              		.section	.text.tryget_socket_unconn_locked,"ax",%progbits
  92              		.align	1
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  96              		.fpu fpv4-sp-d16
  98              	tryget_socket_unconn_locked:
  99              	.LVL6:
 100              	.LFB164:
 439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like tryget_socket_unconn(), but called under SYS_ARCH_PROTECT lock. */
 441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_locked(int fd)
 443:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 101              		.loc 1 443 1 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		.loc 1 443 1 is_stmt 0 view .LVU17
 106 0000 08B5     		push	{r3, lr}
 107              	.LCFI1:
 108              		.cfi_def_cfa_offset 8
 109              		.cfi_offset 3, -8
 110              		.cfi_offset 14, -4
 444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
 111              		.loc 1 444 3 is_stmt 1 view .LVU18
 112              		.loc 1 444 27 is_stmt 0 view .LVU19
 113 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 114              	.LVL7:
 445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
 115              		.loc 1 445 3 is_stmt 1 view .LVU20
 446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used_locked(ret)) {
 447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 116              		.loc 1 450 3 view .LVU21
 451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 117              		.loc 1 451 1 is_stmt 0 view .LVU22
 118 0006 08BD     		pop	{r3, pc}
 119              		.cfi_endproc
 120              	.LFE164:
 122              		.section	.text.tryget_socket,"ax",%progbits
 123              		.align	1
 124              		.syntax unified
ARM GAS  /tmp/cc3tDhb2.s 			page 11


 125              		.thumb
 126              		.thumb_func
 127              		.fpu fpv4-sp-d16
 129              	tryget_socket:
 130              	.LVL8:
 131              	.LFB165:
 452:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 453:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Same as get_socket but doesn't set errno
 455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 459:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket(int fd)
 461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 132              		.loc 1 461 1 is_stmt 1 view -0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 0
 135              		@ frame_needed = 0, uses_anonymous_args = 0
 136              		.loc 1 461 1 is_stmt 0 view .LVU24
 137 0000 08B5     		push	{r3, lr}
 138              	.LCFI2:
 139              		.cfi_def_cfa_offset 8
 140              		.cfi_offset 3, -8
 141              		.cfi_offset 14, -4
 462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket_unconn(fd);
 142              		.loc 1 462 3 is_stmt 1 view .LVU25
 143              		.loc 1 462 28 is_stmt 0 view .LVU26
 144 0002 FFF7FEFF 		bl	tryget_socket_unconn
 145              	.LVL9:
 463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock != NULL) {
 146              		.loc 1 463 3 is_stmt 1 view .LVU27
 147              		.loc 1 463 6 is_stmt 0 view .LVU28
 148 0006 0346     		mov	r3, r0
 149 0008 08B1     		cbz	r0, .L10
 464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn) {
 150              		.loc 1 464 5 is_stmt 1 view .LVU29
 151              		.loc 1 464 13 is_stmt 0 view .LVU30
 152 000a 0268     		ldr	r2, [r0]
 153              		.loc 1 464 8 view .LVU31
 154 000c 0AB1     		cbz	r2, .L13
 155              	.L10:
 465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return sock;
 466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return NULL;
 470:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 156              		.loc 1 470 1 view .LVU32
 157 000e 1846     		mov	r0, r3
 158              	.LVL10:
 159              		.loc 1 470 1 view .LVU33
 160 0010 08BD     		pop	{r3, pc}
 161              	.LVL11:
 162              	.L13:
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 12


 163              		.loc 1 469 10 view .LVU34
 164 0012 1346     		mov	r3, r2
 165 0014 FBE7     		b	.L10
 166              		.cfi_endproc
 167              	.LFE165:
 169              		.section	.text.get_socket,"ax",%progbits
 170              		.align	1
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 174              		.fpu fpv4-sp-d16
 176              	get_socket:
 177              	.LVL12:
 178              	.LFB166:
 471:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Map a externally used socket index to the internal socket representation.
 474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 479:Middlewares/Third_Party/LwIP/src/api/sockets.c **** get_socket(int fd)
 480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 179              		.loc 1 480 1 is_stmt 1 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183              		.loc 1 480 1 is_stmt 0 view .LVU36
 184 0000 08B5     		push	{r3, lr}
 185              	.LCFI3:
 186              		.cfi_def_cfa_offset 8
 187              		.cfi_offset 3, -8
 188              		.cfi_offset 14, -4
 481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(fd);
 189              		.loc 1 481 3 is_stmt 1 view .LVU37
 190              		.loc 1 481 28 is_stmt 0 view .LVU38
 191 0002 FFF7FEFF 		bl	tryget_socket
 192              	.LVL13:
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 193              		.loc 1 482 3 is_stmt 1 view .LVU39
 194              		.loc 1 482 6 is_stmt 0 view .LVU40
 195 0006 00B1     		cbz	r0, .L17
 196              	.L14:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): invalid\n", fd));
 485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return sock;
 490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 197              		.loc 1 490 1 view .LVU41
 198 0008 08BD     		pop	{r3, pc}
 199              	.L17:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 200              		.loc 1 483 5 is_stmt 1 view .LVU42
ARM GAS  /tmp/cc3tDhb2.s 			page 13


 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 201              		.loc 1 484 68 view .LVU43
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 202              		.loc 1 486 5 view .LVU44
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 203              		.loc 1 486 5 view .LVU45
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 204              		.loc 1 486 5 view .LVU46
 205 000a 024B     		ldr	r3, .L18
 206 000c 0922     		movs	r2, #9
 207 000e 1A60     		str	r2, [r3]
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 208              		.loc 1 486 5 view .LVU47
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 209              		.loc 1 487 5 view .LVU48
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 210              		.loc 1 487 12 is_stmt 0 view .LVU49
 211 0010 FAE7     		b	.L14
 212              	.L19:
 213 0012 00BF     		.align	2
 214              	.L18:
 215 0014 00000000 		.word	errno
 216              		.cfi_endproc
 217              	.LFE166:
 219              		.section	.text.free_socket_locked,"ax",%progbits
 220              		.align	1
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 224              		.fpu fpv4-sp-d16
 226              	free_socket_locked:
 227              	.LVL14:
 228              	.LFB168:
 491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 492:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Allocate a new socket for a given netconn.
 494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param newconn the netconn for which to allocate a socket
 496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param accepted 1 if socket has been created by accept(),
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *                 0 if socket has been created by socket()
 498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return the index of the new socket; -1 on error
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 500:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c **** alloc_socket(struct netconn *newconn, int accepted)
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 506:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* allocate a new socket identifier */
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < NUM_SOCKETS; ++i) {
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sockets[i].fd_used) {
 514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
ARM GAS  /tmp/cc3tDhb2.s 			page 14


 515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         continue;
 516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_used    = 1;
 518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_free_pending = 0;
 519:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
 521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          after having marked it as used. */
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 525:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("sockets[i].select_waiting == 0", sockets[i].select_waiting == 0);
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * (unless it has been created by accept()). */
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].sendevent  = (NETCONNTYPE_GROUP(newconn->type) == NETCONN_TCP ? (accepted != 0) : 
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 532:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 539:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket (under lock)
 541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param conn the socekt's netconn is stored here, must be freed externally
 545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param lastdata lastdata is stored here, must be freed externally
 546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                    union lwip_sock_lastdata *lastdata)
 550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 229              		.loc 1 550 1 is_stmt 1 view -0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              		@ link register save eliminated.
 551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->fd_used--;
 554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_used > 0) {
 555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->fd_free_pending = LWIP_SOCK_FD_FREE_FREE | (is_tcp ? LWIP_SOCK_FD_FREE_TCP : 0);
 556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 558:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(is_tcp);
 234              		.loc 1 559 3 view .LVU51
 560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *lastdata = sock->lastdata;
 235              		.loc 1 562 3 view .LVU52
 236              		.loc 1 562 13 is_stmt 0 view .LVU53
 237 0000 4168     		ldr	r1, [r0, #4]
ARM GAS  /tmp/cc3tDhb2.s 			page 15


 238              	.LVL15:
 239              		.loc 1 562 13 view .LVU54
 240 0002 1960     		str	r1, [r3]
 563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastdata.pbuf = NULL;
 241              		.loc 1 563 3 is_stmt 1 view .LVU55
 242              		.loc 1 563 23 is_stmt 0 view .LVU56
 243 0004 0023     		movs	r3, #0
 244              	.LVL16:
 245              		.loc 1 563 23 view .LVU57
 246 0006 4360     		str	r3, [r0, #4]
 564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *conn = sock->conn;
 247              		.loc 1 564 3 is_stmt 1 view .LVU58
 248              		.loc 1 564 15 is_stmt 0 view .LVU59
 249 0008 0168     		ldr	r1, [r0]
 250              		.loc 1 564 9 view .LVU60
 251 000a 1160     		str	r1, [r2]
 565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->conn = NULL;
 252              		.loc 1 565 3 is_stmt 1 view .LVU61
 253              		.loc 1 565 14 is_stmt 0 view .LVU62
 254 000c 0360     		str	r3, [r0]
 566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 255              		.loc 1 566 3 is_stmt 1 view .LVU63
 567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 256              		.loc 1 567 1 is_stmt 0 view .LVU64
 257 000e 0120     		movs	r0, #1
 258              	.LVL17:
 259              		.loc 1 567 1 view .LVU65
 260 0010 7047     		bx	lr
 261              		.cfi_endproc
 262              	.LFE168:
 264              		.section	.text.lwip_poll_should_wake,"ax",%progbits
 265              		.align	1
 266              		.syntax unified
 267              		.thumb
 268              		.thumb_func
 269              		.fpu fpv4-sp-d16
 271              	lwip_poll_should_wake:
 272              	.LVL18:
 273              	.LFB197:
 568:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 569:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket's leftover members.
 570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *lastdata)
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_delete(lastdata->netbuf);
 579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn != NULL) {
 582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 16


 586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket. The socket's netconn must have been
 588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * delete before!
 589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 594:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket(struct lwip_sock *sock, int is_tcp)
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect socket array */
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 607:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 612:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Below this, the well-known socket functions are implemented.
 614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Use google.com or opengroup.org to get a good description :-)
 615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Exceptions are documented!
 617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 618:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 619:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 620:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_accept(int s, struct sockaddr *addr, socklen_t *addrlen)
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d)...\n", s));
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* wait for a new connection */
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_accept(sock->conn, &newconn);
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
ARM GAS  /tmp/cc3tDhb2.s 			page 17


 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn != NULL", newconn != NULL);
 652:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newsock = alloc_socket(newconn, 1);
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("invalid socket index", (newsock >= LWIP_SOCKET_OFFSET) && (newsock < NUM_SOCKETS + L
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* See event_callback: If data comes in right away after an accept, even
 664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * though the server task might not have created a new socket yet.
 665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * In that case, newconn->socket is counted down (newconn->socket--),
 666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * so nsock->rcvevent is >= 1 here!
 667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 672:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newconn->callback) {
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     UNLOCK_TCPIP_CORE();
 680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Note that POSIX only requires us to check addr is non-NULL. addrlen must
 683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * not be NULL if addr is valid.
 684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((addr != NULL) && (addrlen != NULL)) {
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_peer(newconn, &naddr, &port);
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IPADDR_PORT_TO_SOCKADDR(&tempaddr, &naddr, port);
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
ARM GAS  /tmp/cc3tDhb2.s 			page 18


 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     MEMCPY(addr, &tempaddr, *addrlen);
 703:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d addr=", s, newsock));
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d", s, newsock));
 709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 710:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(nsock);
 714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return newsock;
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 716:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 718:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_bind(int s, const struct sockaddr *name, socklen_t namelen)
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH(name, sock)) {
 731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 736:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check size, family and alignment of 'name' */
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_bind: invalid address", (IS_SOCK_ADDR_LEN_VALID(namelen) &&
 739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SOCKADDR_TO_IPADDR_PORT(name, &local_addr, local_port);
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (IP_IS_V6_VAL(local_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&local_addr))) {
 751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     unmap_ipv4_mapped_ipv6(ip_2_ip4(&local_addr), ip_2_ip6(&local_addr));
 752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(local_addr, IPADDR_TYPE_V4);
 753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_bind(sock->conn, &local_addr, local_port);
ARM GAS  /tmp/cc3tDhb2.s 			page 19


 757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 764:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) succeeded\n", s));
 766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_close(int s)
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_close(%d)\n", s));
 779:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->lastdata == NULL", sock->lastdata.pbuf == NULL);
 789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined IGMP memberships */
 793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_memberships(s);
 794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined MLD6 memberships */
 797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_mld6_memberships(s);
 798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 799:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_prepare_delete(sock->conn);
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   free_socket(sock, is_tcp);
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 812:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 813:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_connect(int s, const struct sockaddr *name, socklen_t namelen)
ARM GAS  /tmp/cc3tDhb2.s 			page 20


 814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 822:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock)) {
 824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t remote_addr;
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* check size, family and alignment of 'name' */
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_connect: invalid address", IS_SOCK_ADDR_LEN_VALID(namelen) &&
 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(name, &remote_addr, remote_port);
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 848:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(remote_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&remote_addr))) {
 851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&remote_addr), ip_2_ip6(&remote_addr));
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(remote_addr, IPADDR_TYPE_V4);
 853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_connect(sock->conn, &remote_addr, remote_port);
 857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) succeeded\n", s));
 867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 21


 871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Set a socket into listen mode.
 874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The socket may not have been used for another connection previously.
 875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s the socket to set to listening mode
 877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param backlog (ATTENTION: needs TCP_LISTEN_BACKLOG=1)
 878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return 0 on success, non-zero on failure
 879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_listen(int s, int backlog)
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 885:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d, backlog=%d)\n", s, backlog));
 887:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 892:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* limit the "backlog" parameter to fit in an u8_t */
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   backlog = LWIP_MIN(LWIP_MAX(backlog, 0), 0xff);
 895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_listen_with_backlog(sock->conn, (u8_t)backlog);
 897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 902:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 913:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 914:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to loop over receiving pbufs from netconn
 916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * until "len" bytes are received or we're otherwise done.
 917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking or partly copying.
 918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static ssize_t
 920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp(struct lwip_sock *sock, void *mem, size_t len, int flags)
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 925:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("no socket given", sock != NULL);
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
ARM GAS  /tmp/cc3tDhb2.s 			page 22


 928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 932:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   do {
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 937:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: top while sock->lastdata=%p\n", (void *)sock->lastd
 939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->lastdata.pbuf) {
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* No data was left from the previous operation, so we try to get
 944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          some from the network. */
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_recv_tcp_pbuf_flags(sock->conn, &p, apiflags);
 946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   err, (void *)p));
 948:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err != ERR_OK) {
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              netconn layer again next time netconn_recv is called) */
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto lwip_recv_tcp_done;
 954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* We should really do some error checking here. */
 956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: p == NULL, error is \"%s\"!\n",
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                     lwip_strerr(err)));
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return -1;
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("p != NULL", p != NULL);
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 968:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: buflen=%"U16_F" recv_left=%d off=%d\n",
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 p->tot_len, (int)recv_left, (int)recvd));
 971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recv_left > p->tot_len) {
 973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)recv_left;
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recvd + copylen < recvd) {
 978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)(SSIZE_MAX - recvd);
 980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 981:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     the supplied memory pointer mem */
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(p, (u8_t *)mem + recvd, copylen, 0);
ARM GAS  /tmp/cc3tDhb2.s 			page 23


 985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recvd += copylen;
 987:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* TCP combines multiple pbufs for one recv */
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("invalid copylen, len would underflow", recv_left >= copylen);
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Unless we peek the incoming message... */
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((flags & MSG_PEEK) == 0) {
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("invalid copylen", p->tot_len >= copylen);
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            We store the pbuf but hide/free the consumed data: */
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = pbuf_free_header(p, copylen);
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
1001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = NULL;
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
1005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* once we have some data to return, only add more if we don't need to wait */
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK | NETCONN_NOFIN;
1009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } while ((recv_left > 0) && !(flags & MSG_PEEK));
1011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((recvd > 0) && !(flags & MSG_PEEK)) {
1013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_tcp_recvd(sock->conn, (size_t)recvd);
1015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return recvd;
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Convert a netbuf's address data to struct sockaddr */
1022:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sock_make_addr(struct netconn *conn, ip_addr_t *fromaddr, u16_t port,
1024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                     struct sockaddr *from, socklen_t *fromlen)
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
1028:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(conn);
1030:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromaddr != NULL", fromaddr != NULL);
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
1037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(conn)) && IP_IS_V4(fromaddr)) {
1038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(fromaddr), ip_2_ip4(fromaddr));
1039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE(fromaddr, IPADDR_TYPE_V6);
1040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1041:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
ARM GAS  /tmp/cc3tDhb2.s 			page 24


1042:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, fromaddr, port);
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
1048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(from, &saddr, *fromlen);
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1052:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1053:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1054:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to get a tcp socket's remote address info */
1055:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1056:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_from(struct lwip_sock *sock, struct sockaddr *from, socklen_t *fromlen, const char *d
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
1060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_fn);
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
1064:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1065:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (from && fromlen)
1067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get remote addr/port from tcp_pcb */
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t port;
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
1078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1083:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1084:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to receive a netbuf from a udp or raw netconn.
1085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking.
1086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1087:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static err_t
1088:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom_udp_raw(struct lwip_sock *sock, int flags, struct msghdr *msg, u16_t *datagram_len, i
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
1098:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 25


1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
1101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = 0;
1103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1104:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: top sock->lastdata=%p\n", (void *)so
1106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf = sock->lastdata.netbuf;
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
1109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
1110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         some from the network. */
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &buf, apiflags);
1112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 err, (void *)buf));
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
1117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("buf != NULL", buf != NULL);
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
1120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = buf->p->tot_len;
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
1123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   copied = 0;
1125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; (i < msg->msg_iovlen) && (copied < buflen); i++) {
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
1129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
1130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)msg->msg_iov[i].iov_len;
1132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
1135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         the supplied memory buffer */
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(buf->p, (u8_t *)msg->msg_iov[i].iov_base, copylen, copied);
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
1138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check to see from where the data was.*/
1141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_name && msg->msg_namelen)
1143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw(%d):  addr=", dbg_s));
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
1150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Initialize flag output */
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg->msg_flags = 0;
ARM GAS  /tmp/cc3tDhb2.s 			page 26


1156:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_control) {
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
1159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if packet info was recorded */
1161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buf->flags & NETBUF_FLAG_DESTADDR) {
1162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V4(&buf->toaddr)) {
1163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
1164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (msg->msg_controllen >= CMSG_SPACE(sizeof(struct in_pktinfo))) {
1165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct cmsghdr *chdr = CMSG_FIRSTHDR(msg); /* This will always return a header!! */
1166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct in_pktinfo *pkti = (struct in_pktinfo *)CMSG_DATA(chdr);
1167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_level = IPPROTO_IP;
1168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_type = IP_PKTINFO;
1169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_len = CMSG_LEN(sizeof(struct in_pktinfo));
1170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pkti->ipi_ifindex = buf->p->if_idx;
1171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr(&pkti->ipi_addr, ip_2_ip4(netbuf_destaddr(buf)));
1172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_controllen = CMSG_SPACE(sizeof(struct in_pktinfo));
1173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           wrote_msg = 1;
1174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_flags |= MSG_CTRUNC;
1176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
1178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1180:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!wrote_msg) {
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
1184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't peek the incoming message: zero lastdata pointer and free the netbuf */
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((flags & MSG_PEEK) == 0) {
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
1191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (datagram_len) {
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
1194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ERR_OK;
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom(int s, void *mem, size_t len, int flags,
1200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               struct sockaddr *from, socklen_t *fromlen)
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
1204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d, %p, %"SZT_F", 0x%x, ..)\n", s, mem, len, flags));
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
ARM GAS  /tmp/cc3tDhb2.s 			page 27


1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
1216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
1217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1239:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = (ssize_t)LWIP_MIN(LWIP_MIN(len, datagram_len), SSIZE_MAX);
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
1243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_read(int s, void *mem, size_t len)
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_readv(int s, const struct iovec *iov, int iovcnt)
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1265:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
ARM GAS  /tmp/cc3tDhb2.s 			page 28


1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv(int s, void *mem, size_t len, int flags)
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvmsg(int s, struct msghdr *message, int flags)
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
1286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg(%d, message=%p, flags=0x%x)\n", s, (void *)message, fla
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
1290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
1291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((message->msg_iovlen <= 0) || (message->msg_iovlen > IOV_MAX)) {
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1301:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check for valid vectors */
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = 0;
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = (ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len);
1313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int recv_flags = flags;
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
1319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = 0;
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ssize_t recvd_local = lwip_recv_tcp(sock, message->msg_iov[i].iov_base, message->msg_iov[i].i
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         buflen += recvd_local;
ARM GAS  /tmp/cc3tDhb2.s 			page 29


1327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((recvd_local < 0) || (recvd_local < (int)message->msg_iov[i].iov_len) ||
1329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
1330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* returned prematurely (or peeking, which might actually be limitated to the first iov) */
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (buflen <= 0) {
1332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
1333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           buflen = recvd_local;
1334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* pass MSG_DONTWAIT to lwip_recv_tcp() to prevent waiting for more data */
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recv_flags |= MSG_DONTWAIT;
1339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buflen > 0) {
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
1343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* " If the socket is connected, the msg_name and msg_namelen members shall be ignored." */
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (datagram_len > buflen) {
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
1371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (int)datagram_len;
1373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1381:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1382:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_send(int s, const void *data, size_t size, int flags)
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
ARM GAS  /tmp/cc3tDhb2.s 			page 30


1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1388:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d, data=%p, size=%"SZT_F", flags=0x%x)\n",
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, size, flags));
1391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
1398:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
1401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
1402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   write_flags = (u8_t)(NETCONN_COPY |
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   written = 0;
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
1413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d) err=%d written=%"SZT_F"\n", s, err, written));
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (ssize_t)written : -1);
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendmsg(int s, const struct msghdr *msg, int flags)
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
1430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr", msg != NULL,
1437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr iov", msg->msg_iov != NULL,
1439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: maximum iovs exceeded", (msg->msg_iovlen > 0) && (msg->msg_iovlen <= IO
ARM GAS  /tmp/cc3tDhb2.s 			page 31


1441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: unsupported flags", (flags & ~(MSG_DONTWAIT | MSG_MORE)) == 0,
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_control);
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
1448:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1450:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     write_flags = (u8_t)(NETCONN_COPY |
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1454:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     written = 0;
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? (ssize_t)written : -1);
1461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1468:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct netbuf chain_buf;
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
1473:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
1476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
1477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* initialize chain buffer with destination */
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&chain_buf, 0, sizeof(struct netbuf));
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
1485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1486:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size += msg->msg_iov[i].iov_len;
1489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((msg->msg_iov[i].iov_len > INT_MAX) || (size < (int)msg->msg_iov[i].iov_len)) {
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (size > 0xFFFF) {
1495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
1496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto sendmsg_emsgsize;
1497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  /tmp/cc3tDhb2.s 			page 32


1498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Allocate a new netbuf and copy the data into it. */
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (netbuf_alloc(&chain_buf, (u16_t)size) == NULL) {
1500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_MEM;
1501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* flatten the IO vectors */
1503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size_t offset = 0;
1504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = 0; i < msg->msg_iovlen; i++) {
1505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         MEMCPY(&((u8_t *)chain_buf.p->payload)[offset], msg->msg_iov[i].iov_base, msg->msg_iov[i].i
1506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         offset += msg->msg_iov[i].iov_len;
1507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1508:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
1510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This can be improved by using LWIP_CHKSUM_COPY() and aggregating the checksum for each I
1511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t chksum = ~inet_chksum_pbuf(chain_buf.p);
1512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netbuf_set_chksum(&chain_buf, chksum);
1513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_OK;
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* create a chained netbuf from the IO vectors. NOTE: we assemble a pbuf chain
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        manually to avoid having to allocate, chain, and delete a netbuf for each iov */
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
1523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
1529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->payload = msg->msg_iov[i].iov_base;
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
1533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (chain_buf.p == NULL) {
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
1536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
1537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (chain_buf.p->tot_len + p->len > 0xffff) {
1539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pbuf_free(p);
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
1542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_cat(chain_buf.p, p);
1544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* save size of total chain */
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
1549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1553:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
ARM GAS  /tmp/cc3tDhb2.s 			page 33


1555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V6_VAL(chain_buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&chain_buf.addr))) {
1556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         unmap_ipv4_mapped_ipv6(ip_2_ip4(&chain_buf.addr), ip_2_ip6(&chain_buf.addr));
1557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP_SET_TYPE_VAL(chain_buf.addr, IPADDR_TYPE_V4);
1558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1559:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* send the data */
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_send(sock->conn, &chain_buf);
1563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1564:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* deallocated the buffer */
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
1571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1581:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendto(int s, const void *data, size_t size, int flags,
1586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             const struct sockaddr *to, socklen_t tolen)
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
1593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
1603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1608:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1610:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size > LWIP_MIN(0xFFFF, SSIZE_MAX)) {
ARM GAS  /tmp/cc3tDhb2.s 			page 34


1612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
1619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
1620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               ((to != NULL) && (IS_SOCK_ADDR_TYPE_VALID(to) && IS_SOCK_ADDR_ALIGNED(to))))),
1621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(tolen);
1623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* initialize a buffer */
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.p = buf.ptr = NULL;
1626:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.flags = 0;
1628:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (to) {
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
1631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     remote_port = 0;
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
1634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_fromport(&buf) = remote_port;
1636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1637:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_sendto(%d, data=%p, short_size=%"U16_F", flags=0x%x to=",
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, short_size, flags));
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
1642:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* make the buffer point to the data that should be sent */
1644:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Allocate a new netbuf and copy the data into it. */
1646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (netbuf_alloc(&buf, short_size) == NULL) {
1647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_MEM;
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_RAW) {
1651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t chksum = LWIP_CHKSUM_COPY(buf.p->payload, data, short_size);
1652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_set_chksum(&buf, chksum);
1653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else
1654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     {
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       MEMCPY(buf.p->payload, data, short_size);
1657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_OK;
1659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netbuf_ref(&buf, data, short_size);
1662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err == ERR_OK) {
1664:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&buf.addr))) {
1667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&buf.addr), ip_2_ip6(&buf.addr));
1668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(buf.addr, IPADDR_TYPE_V4);
ARM GAS  /tmp/cc3tDhb2.s 			page 35


1669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1670:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* send the data */
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_send(sock->conn, &buf);
1674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1675:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* deallocated the buffer */
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_free(&buf);
1678:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1683:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1684:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1685:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket(int domain, int type, int protocol)
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1689:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(domain); /* @todo: check this */
1691:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* create a netconn */
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (type) {
1694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_proto_and_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_RAW),
1696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_RAW, %d) = ",
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain,
1702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
1703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        DEFAULT_SOCKET_EVENTCB);
1704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_DGRAM, %d) = ",
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn) {
1708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* netconn layer enables pktinfo by default, sockets default to off */
1709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         conn->flags &= ~NETCONN_FLAG_PKTINFO;
1710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1711:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_TCP), DEFAULT_SOCKET_
1715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
1719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%d, %d/UNKNOWN, %d) = -1\n",
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain, type, protocol));
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!conn) {
ARM GAS  /tmp/cc3tDhb2.s 			page 36


1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   i = alloc_socket(conn, 0);
1732:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (i == -1) {
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   conn->socket = i;
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_write(int s, const void *data, size_t size)
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_writev(int s, const struct iovec *iov, int iovcnt)
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
1769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Add select_cb to select_cb_list. */
1770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_link_select_cb(struct lwip_select_cb *select_cb)
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1774:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect the select_cb_list */
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Put this select_cb on top of list */
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb->next = select_cb_list;
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
1782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /tmp/cc3tDhb2.s 			page 37


1783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_list = select_cb;
1784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1787:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Now we can safely unprotect */
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1792:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Remove select_cb from select_cb_list. */
1794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_unlink_select_cb(struct lwip_select_cb *select_cb)
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Take us off the list */
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list == select_cb) {
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
1807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev != NULL", select_cb->prev != NULL);
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
1810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
1818:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1819:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
1820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Go through the readset and writeset lists and see which socket of the sockets
1822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * set in the sets has events. On return, readset, writeset and exceptset have
1823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the sockets enabled that had events.
1824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
1825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param maxfdp1 the highest socket index in the sets
1826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_in    set of sockets to check for read events
1827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_in   set of sockets to check for write events
1828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_in  set of sockets to check for error events
1829:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_out   set of sockets that had read events
1830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_out  set of sockets that had write events
1831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_out set os sockets that had error events
1832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of sockets that had events (read/write/exception) (>= 0)
1833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_selscan(int maxfdp1, fd_set *readset_in, fd_set *writeset_in, fd_set *exceptset_in,
1836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              fd_set *readset_out, fd_set *writeset_out, fd_set *exceptset_out)
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
ARM GAS  /tmp/cc3tDhb2.s 			page 38


1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lreadset);
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
1846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!(readset_in && FD_ISSET(i, readset_in)) &&
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
1854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
1855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* First get the socket's status (protected)... */
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... then examine it: */
1867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for read */
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (readset_in && FD_ISSET(i, readset_in) && ((lastdata != NULL) || (rcvevent > 0))) {
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for write */
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (writeset_in && FD_ISSET(i, writeset_in) && (sendevent != 0)) {
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket had an error */
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (exceptset_in && FD_ISSET(i, exceptset_in) && (errevent != 0)) {
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy local sets to the ones provided as arguments */
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *readset_out = lreadset;
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
1896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 39


1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
1898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all of the set sockets in one of the three fdsets passed to select as used.
1903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
1904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_selscan aborts select when non-open sockets are found.
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used_set(int maxfdp, fd_set *fdset, fd_set *used_sockets)
1908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (fdset) {
1911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* if this FD is in the set, lock it (unless already done) */
1914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (FD_ISSET(i, fdset) && !FD_ISSET(i, used_sockets)) {
1915:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
1916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket_unconn_locked(i);
1918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
1919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* leave the socket used until released by lwip_select_dec_sockets_used */
1920:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           FD_SET(i, used_sockets);
1921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1926:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets passed to select as used to prevent them from being freed
1929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * from other threads while select is running.
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Marked sockets are added to 'used_sockets' to mark them only once an be able
1931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to unmark them correctly.
1932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1934:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used(int maxfdp, fd_set *fdset1, fd_set *fdset2, fd_set *fdset3, fd_set *us
1935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(used_sockets);
1937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset1, used_sockets);
1938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset2, used_sockets);
1939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset3, used_sockets);
1940:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1941:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1942:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting select */
1943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1944:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_dec_sockets_used(int maxfdp, fd_set *used_sockets)
1945:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (FD_ISSET(i, used_sockets)) {
1950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(i);
1951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("socket gone at the end of select", sock != NULL);
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
1953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
ARM GAS  /tmp/cc3tDhb2.s 			page 40


1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1959:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, used_sockets)
1960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_dec_sockets_used(maxfdp1, used_sockets)
1961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1962:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select(int maxfdp1, fd_set *readset, fd_set *writeset, fd_set *exceptset,
1965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             struct timeval *timeout)
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
1973:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
1975:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1976:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set used_sockets;
1978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1980:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select(%d, %p, %p, %p, tvsec=%"S32_F" tvusec=%"S32_F")\n",
1982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               maxfdp1, (void *)readset, (void *) writeset, (void *) exceptset,
1983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_sec : (s32_t) - 1,
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_usec : (s32_t) - 1));
1985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((maxfdp1 < 0) || (maxfdp1 > LWIP_SELECT_MAXNFDS)) {
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, &used_sockets);
1992:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset);
1996:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
1998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
2003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
2004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If we don't have any current events, then suspend if we are supposed to */
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
2008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
2009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
2010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          or we would have returned earlier. */
ARM GAS  /tmp/cc3tDhb2.s 			page 41


2011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
2012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* None ready: add our semaphore to list:
2013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          We don't actually need any dynamic memory. Our entry on the
2014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          list is only valid while we are in this function, so it's ok
2015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          to use local variables (unless we're running in MPU compatible
2016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          mode). */
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_DECLARE(select_cb);
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).readset = readset;
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
2024:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2026:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOMEM);
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2037:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase select_waiting for each socket we are interested in */
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       maxfdp2 = maxfdp1;
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
2050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
ARM GAS  /tmp/cc3tDhb2.s 			page 42


2068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2071:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready >= 0) {
2073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
2074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the last scan (without us on the list) and putting us on the list! */
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
2077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (timeout == 0) {
2079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             msectimeout = 0;
2081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             long msecs_long = ((timeout->tv_sec * 1000) + ((timeout->tv_usec + 500) / 1000));
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
2084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = 1;
2086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
2087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = (u32_t)msecs_long;
2088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2090:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectim
2092:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waited = 1;
2094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Decrease select_waiting for each socket we are interested in */
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp2; i++) {
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2124:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 43


2125:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (API_SELECT_CB_VAR_REF(select_cb).sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOU
2127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* don't leave the thread-local semaphore signalled */
2128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2130:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2134:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready < 0) {
2136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
2137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (waitres == SYS_ARCH_TIMEOUT) {
2142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
2143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: timeout expired\n"));
2144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This is OK as the local fdsets are empty and nready is zero,
2145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            or we would have returned earlier. */
2146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See what's set now after waiting */
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
2158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (writeset) {
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
2161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (exceptset) {
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
2164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2167:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2168:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Options for the lwip_pollscan function. */
2171:Middlewares/Third_Party/LwIP/src/api/sockets.c **** enum lwip_pollscan_opts
2172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Clear revents in each struct pollfd. */
2174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_CLEAR = 1,
2175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Increment select_waiting in each struct lwip_sock. */
2177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_INC_WAIT = 2,
2178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Decrement select_waiting in each struct lwip_sock. */
2180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_DEC_WAIT = 4
2181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
ARM GAS  /tmp/cc3tDhb2.s 			page 44


2182:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2183:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Update revents in each struct pollfd.
2185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Optionally update select_waiting in struct lwip_sock.
2186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fds          array of structures to update
2188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param nfds         number of structures in fds
2189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param opts         what to update and how
2190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of structures that have revents != 0
2191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_pollscan(struct pollfd *fds, nfds_t nfds, enum lwip_pollscan_opts opts)
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd in the array. */
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < nfds; fdi++) {
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
2204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Negative fd means the caller wants us to ignore this struct.
2207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        POLLNVAL means we already detected that the fd is invalid;
2208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        if another thread has since opened a new socket with that fd,
2209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        we must not use that socket. */
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].fd >= 0 && (fds[fdi].revents & POLLNVAL) == 0) {
2211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
2219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((opts & LWIP_POLLSCAN_INC_WAIT) != 0) {
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
2223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
2229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else if ((opts & LWIP_POLLSCAN_DEC_WAIT) != 0) {
2231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
ARM GAS  /tmp/cc3tDhb2.s 			page 45


2239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* ... then examine it: */
2241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for read */
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLIN) != 0 && ((lastdata != NULL) || (rcvevent > 0))) {
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
2245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for write */
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLOUT) != 0 && (sendevent != 0)) {
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
2250:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket had an error */
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (errevent != 0) {
2253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLERR;
2255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
2256:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Not a valid socket */
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         fds[fdi].revents |= POLLNVAL;
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Will return the number of structures that have events,
2267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        not the number of events. */
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].revents != 0) {
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
2270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
2274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
2278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets as used.
2279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2280:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
2281:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_pollscan aborts select when non-open sockets are found.
2282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2283:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_inc_sockets_used(struct pollfd *fds, nfds_t nfds)
2285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2286:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase the reference counter */
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       tryget_socket_unconn(fds[fdi].fd);
2293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 46


2296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting poll */
2298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_dec_sockets_used(struct pollfd *fds, nfds_t nfds)
2300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(fds[fdi].fd);
2307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
2309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2313:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
2314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_inc_sockets_used(fds, nfds)
2315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_dec_sockets_used(fds, nfds)
2316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
2317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll(struct pollfd *fds, nfds_t nfds, int timeout)
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
2324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
2326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll(%p, %d, %d)\n",
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   (void*)fds, (int)nfds, timeout));
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
2331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
2332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_inc_sockets_used(fds, nfds);
2334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd to count number of structures
2336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      which currently match */
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_CLEAR);
2338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
2340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2343:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't have any current events, then suspend if we are supposed to */
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!nready) {
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
2347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout == 0) {
2349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
2350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(EAGAIN); lwip_poll_dec_sockets_used(fds, nfds); re
ARM GAS  /tmp/cc3tDhb2.s 			page 47


2353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* None ready: add our semaphore to list:
2356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        We don't actually need any dynamic memory. Our entry on the
2357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        list is only valid while we are in this function, so it's ok
2358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        to use local variables. */
2359:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_fds = fds;
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
2362:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAGAIN);
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2372:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2373:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2375:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increase select_waiting for each socket we are interested in.
2377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        Also, check for events again: there could have been events between
2378:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        the last scan (without us on the list) and putting us on the list! */
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_INC_WAIT);
2380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!nready) {
2382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (timeout < 0) {
2384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = 0;
2386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* timeout == 0 would have been handled earlier. */
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_ASSERT("timeout > 0", timeout > 0);
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
2390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectimeout
2392:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waited = 1;
2394:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Decrease select_waiting for each socket we are interested in,
2398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        and check which events occurred while we waited. */
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_DEC_WAIT);
2400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOUT))) {
2405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* don't leave the thread-local semaphore signalled */
2406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
ARM GAS  /tmp/cc3tDhb2.s 			page 48


2410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_FREE(select_cb);
2412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (nready < 0) {
2414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
2415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (waitres == SYS_ARCH_TIMEOUT) {
2420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Timeout */
2421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: timeout expired\n"));
2422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: nready=%d\n", nready));
2427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** return_success:
2428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_dec_sockets_used(fds, nfds);
2429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2432:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2433:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check whether event_callback should wake up a thread waiting in
2435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * lwip_poll.
2436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_should_wake(const struct lwip_select_cb *scb, int fd, int has_recvevent, int has_sendeven
2439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 274              		.loc 1 2439 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 4, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              		@ link register save eliminated.
 279              		.loc 1 2439 1 is_stmt 0 view .LVU67
 280 0000 F0B4     		push	{r4, r5, r6, r7}
 281              	.LCFI4:
 282              		.cfi_def_cfa_offset 16
 283              		.cfi_offset 4, -16
 284              		.cfi_offset 5, -12
 285              		.cfi_offset 6, -8
 286              		.cfi_offset 7, -4
 287 0002 049F     		ldr	r7, [sp, #16]
2440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 288              		.loc 1 2440 3 is_stmt 1 view .LVU68
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 289              		.loc 1 2441 3 view .LVU69
 290              	.LVL19:
 291              		.loc 1 2441 12 is_stmt 0 view .LVU70
 292 0004 0024     		movs	r4, #0
 293              		.loc 1 2441 3 view .LVU71
 294 0006 01E0     		b	.L22
 295              	.LVL20:
 296              	.L26:
 297              	.LBB2:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
ARM GAS  /tmp/cc3tDhb2.s 			page 49


2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (pollfd->fd == fd) {
2444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
2445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          that would be a data race because lwip_pollscan
2446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          accesses revents without protecting. */
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_recvevent && (pollfd->events & POLLIN) != 0) {
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_sendevent && (pollfd->events & POLLOUT) != 0) {
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_errevent) {
 298              		.loc 1 2453 7 is_stmt 1 view .LVU72
 299              		.loc 1 2453 10 is_stmt 0 view .LVU73
 300 0008 F7B9     		cbnz	r7, .L30
 301              	.L23:
 302              	.LBE2:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 303              		.loc 1 2441 39 is_stmt 1 discriminator 2 view .LVU74
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 304              		.loc 1 2441 42 is_stmt 0 discriminator 2 view .LVU75
 305 000a 0134     		adds	r4, r4, #1
 306              	.LVL21:
 307              	.L22:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 308              		.loc 1 2441 17 is_stmt 1 discriminator 1 view .LVU76
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 309              		.loc 1 2441 26 is_stmt 0 discriminator 1 view .LVU77
 310 000c 8569     		ldr	r5, [r0, #24]
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 311              		.loc 1 2441 3 discriminator 1 view .LVU78
 312 000e A542     		cmp	r5, r4
 313 0010 15D9     		bls	.L32
 314              	.LBB3:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 315              		.loc 1 2442 5 is_stmt 1 view .LVU79
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 316              		.loc 1 2442 39 is_stmt 0 view .LVU80
 317 0012 4569     		ldr	r5, [r0, #20]
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 318              		.loc 1 2442 26 view .LVU81
 319 0014 05EBC406 		add	r6, r5, r4, lsl #3
 320              	.LVL22:
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 321              		.loc 1 2443 5 is_stmt 1 view .LVU82
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 322              		.loc 1 2443 15 is_stmt 0 view .LVU83
 323 0018 55F83450 		ldr	r5, [r5, r4, lsl #3]
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 324              		.loc 1 2443 8 view .LVU84
 325 001c 8D42     		cmp	r5, r1
 326 001e F4D1     		bne	.L23
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 327              		.loc 1 2447 7 is_stmt 1 view .LVU85
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 328              		.loc 1 2447 10 is_stmt 0 view .LVU86
 329 0020 22B1     		cbz	r2, .L24
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
ARM GAS  /tmp/cc3tDhb2.s 			page 50


 330              		.loc 1 2447 35 discriminator 1 view .LVU87
 331 0022 B6F90450 		ldrsh	r5, [r6, #4]
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 332              		.loc 1 2447 25 discriminator 1 view .LVU88
 333 0026 15F0010F 		tst	r5, #1
 334 002a 0BD1     		bne	.L28
 335              	.L24:
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 336              		.loc 1 2450 7 is_stmt 1 view .LVU89
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 337              		.loc 1 2450 10 is_stmt 0 view .LVU90
 338 002c 002B     		cmp	r3, #0
 339 002e EBD0     		beq	.L26
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 340              		.loc 1 2450 35 discriminator 1 view .LVU91
 341 0030 B6F90450 		ldrsh	r5, [r6, #4]
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 342              		.loc 1 2450 25 discriminator 1 view .LVU92
 343 0034 15F0020F 		tst	r5, #2
 344 0038 E6D0     		beq	.L26
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 345              		.loc 1 2451 16 view .LVU93
 346 003a 0120     		movs	r0, #1
 347              	.LVL23:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 348              		.loc 1 2451 16 view .LVU94
 349 003c 00E0     		b	.L21
 350              	.LVL24:
 351              	.L32:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 352              		.loc 1 2451 16 view .LVU95
 353              	.LBE3:
2454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLERR is output only. */
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 354              		.loc 1 2459 10 view .LVU96
 355 003e 0020     		movs	r0, #0
 356              	.LVL25:
 357              	.L21:
2460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 358              		.loc 1 2460 1 view .LVU97
 359 0040 F0BC     		pop	{r4, r5, r6, r7}
 360              	.LCFI5:
 361              		.cfi_remember_state
 362              		.cfi_restore 7
 363              		.cfi_restore 6
 364              		.cfi_restore 5
 365              		.cfi_restore 4
 366              		.cfi_def_cfa_offset 0
 367              	.LVL26:
 368              		.loc 1 2460 1 view .LVU98
 369 0042 7047     		bx	lr
 370              	.LVL27:
 371              	.L28:
ARM GAS  /tmp/cc3tDhb2.s 			page 51


 372              	.LCFI6:
 373              		.cfi_restore_state
 374              	.LBB4:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 375              		.loc 1 2448 16 view .LVU99
 376 0044 0120     		movs	r0, #1
 377              	.LVL28:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 378              		.loc 1 2448 16 view .LVU100
 379 0046 FBE7     		b	.L21
 380              	.LVL29:
 381              	.L30:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 382              		.loc 1 2455 16 view .LVU101
 383 0048 0120     		movs	r0, #1
 384              	.LVL30:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 385              		.loc 1 2455 16 view .LVU102
 386 004a F9E7     		b	.L21
 387              	.LBE4:
 388              		.cfi_endproc
 389              	.LFE197:
 391              		.section	.rodata.lwip_sockopt_to_ipopt.str1.4,"aMS",%progbits,1
 392              		.align	2
 393              	.LC0:
 394 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/sockets.c\000"
 394      6C657761 
 394      7265732F 
 394      54686972 
 394      645F5061 
 395 002f 00       		.align	2
 396              	.LC1:
 397 0030 556E6B6E 		.ascii	"Unknown socket option\000"
 397      6F776E20 
 397      736F636B 
 397      6574206F 
 397      7074696F 
 398 0046 0000     		.align	2
 399              	.LC2:
 400 0048 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 400      7274696F 
 400      6E202225 
 400      73222066 
 400      61696C65 
 401              		.section	.text.lwip_sockopt_to_ipopt,"ax",%progbits
 402              		.align	1
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 406              		.fpu fpv4-sp-d16
 408              	lwip_sockopt_to_ipopt:
 409              	.LVL31:
 410              	.LFB205:
2461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2462:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2463:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
2464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
ARM GAS  /tmp/cc3tDhb2.s 			page 52


2465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Callback registered in the netconn layer for each socket-netconn.
2466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Processes recvevent (data available) and wakes up tasks waiting for select.
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note for LWIP_TCPIP_CORE_LOCKING any caller of this function
2469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * must have the core lock held when signaling the following events
2470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * as they might cause select_list_cb to be checked:
2471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_RCVPLUS
2472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_SENDPLUS
2473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_ERROR
2474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This requirement will be asserted in select_check_waiters()
2475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2476:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2477:Middlewares/Third_Party/LwIP/src/api/sockets.c **** event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len)
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2482:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(len);
2484:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Get socket */
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn) {
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
2489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
2490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * the server task might not have created a new socket yet.
2491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * Just count down (or up) if that's the case and we
2492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * will use the data later. Note that only receive events
2493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * can happen before the new socket is set up. */
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
2497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
2498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              lwip_accept adjusts sock->recvevent if conn->socket < -1 */
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn->socket--;
2500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
2503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s = conn->socket;
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
2506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2507:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = get_socket(s);
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
2510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
2511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
2514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2515:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   check_waiters = 1;
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (evt) {
2520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent++;
ARM GAS  /tmp/cc3tDhb2.s 			page 53


2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVMINUS:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent--;
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->sendevent) {
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 1;
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 0;
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->errevent = 1;
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("unknown event", 0);
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->select_waiting && check_waiters) {
2549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int has_recvevent, has_sendevent, has_errevent;
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_check_waiters(s, has_recvevent, has_sendevent, has_errevent);
2557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2562:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2563:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check if any select waiters are waiting on this socket and its events
2565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note on synchronization of select_cb_list:
2567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * LWIP_TCPIP_CORE_LOCKING: the select_cb_list must only be accessed while holding
2568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the core lock. We do a single pass through the list and signal any waiters.
2569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Core lock should already be held when calling here!!!!
2570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * !LWIP_TCPIP_CORE_LOCKING: we use SYS_ARCH_PROTECT but unlock on each iteration
2572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * of the loop, thus creating a possibility where a thread could modify the
2573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * select_cb_list during our UNPROTECT/PROTECT. We use a generational counter to
2574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * detect this change and restart the list walk. The list is expected to be small
2575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2576:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent)
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
ARM GAS  /tmp/cc3tDhb2.s 			page 54


2579:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int last_select_cb_ctr;
2581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT_CORE_LOCKED();
2585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2588:Middlewares/Third_Party/LwIP/src/api/sockets.c **** again:
2589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* remember the state of select_cb_list to detect changes */
2590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   last_select_cb_ctr = select_cb_ctr;
2591:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (scb = select_cb_list; scb != NULL; scb = scb->next) {
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
2594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       int do_signal = 0;
2596:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (scb->poll_fds != NULL) {
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
2599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2601:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL
2602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       else
2603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL */
2604:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
2605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Test this select call for our socket */
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_recvevent) {
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_sendevent) {
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_errevent) {
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
2619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (do_signal) {
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
2626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
2627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the semaphore, as this might lead to the select thread taking itself off the list,
2628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            invalidating the semaphore. */
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_sem_signal(SELECT_SEM_PTR(scb->sem));
2630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2632:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2634:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* unlock interrupts with each step */
ARM GAS  /tmp/cc3tDhb2.s 			page 55


2636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* this makes sure interrupt protection time is short */
2638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
2639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
2640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
2641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto again;
2642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
2644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     last_select_cb_ctr = select_cb_ctr;
2645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
2647:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
2650:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Close one end of a full-duplex connection.
2653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2655:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_shutdown(int s, int how)
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
2660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_shutdown(%d, how=%d)\n", s, how));
2662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2667:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOTCONN);
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2679:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (how == SHUT_RD) {
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EINVAL);
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_shutdown(sock->conn, shut_rx, shut_tx);
ARM GAS  /tmp/cc3tDhb2.s 			page 56


2693:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2698:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2699:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getaddrname(int s, struct sockaddr *name, socklen_t *namelen, u8_t local)
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2707:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2712:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* get the IP address and port */
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_getaddr(sock->conn, &naddr, &port, local);
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2720:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2721:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
2722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
2723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) &&
2724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_IS_V4_VAL(naddr)) {
2725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(&naddr), ip_2_ip4(&naddr));
2726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(naddr, IPADDR_TYPE_V6);
2727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2728:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
2729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, &naddr, port);
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getaddrname(%d, addr=", s));
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
2735:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*namelen > saddr.sa.sa_len) {
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
2738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(name, &saddr, *namelen);
2740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getpeername(int s, struct sockaddr *name, socklen_t *namelen)
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
ARM GAS  /tmp/cc3tDhb2.s 			page 57


2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockname(int s, struct sockaddr *name, socklen_t *namelen)
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2758:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2759:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt(int s, int level, int optname, void *optval, socklen_t *optlen)
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
2763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
2765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
2766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((NULL == optval) || (NULL == optlen)) {
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
2783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2785:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2786:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
2788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
2789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
2790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
2796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
2797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
2798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
2799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = *optlen;
2800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_MPU_COMPATIBLE
2801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.p = optval;
2802:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_MPU_COMPATIBLE */
2803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
2804:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
2806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
ARM GAS  /tmp/cc3tDhb2.s 			page 58


2807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
2808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_getsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
2810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
2811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
2813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
2817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* write back optlen and optval */
2819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *optlen = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen;
2820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(optval, LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval,
2822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen);
2823:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2824:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
2826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
2827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
2829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_callback: only used without CORE_LOCKING
2837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
2838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2839:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_callback(void *arg)
2841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
2843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
2844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
2845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_getsockopt_impl(data->s, data->level, data->optname,
2847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
2849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
2850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.p,
2851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    &data->optlen);
2853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
2855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2856:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2857:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sockopt_to_ipopt(int optname)
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 411              		.loc 1 2860 1 is_stmt 1 view -0
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc3tDhb2.s 			page 59


 414              		@ frame_needed = 0, uses_anonymous_args = 0
2861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
2862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * We should not rely on #defines in socket.h
2863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * being in sync with ip.h.
2864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
2865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (optname) {
 415              		.loc 1 2865 3 view .LVU104
 416 0000 0828     		cmp	r0, #8
 417 0002 0DD0     		beq	.L36
 418 0004 2028     		cmp	r0, #32
 419 0006 0BD0     		beq	.L36
 420 0008 0428     		cmp	r0, #4
 421 000a 09D0     		beq	.L36
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
 422              		.loc 1 2860 1 is_stmt 0 discriminator 1 view .LVU105
 423 000c 08B5     		push	{r3, lr}
 424              	.LCFI7:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 3, -8
 427              		.cfi_offset 14, -4
2866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_BROADCAST:
2867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_BROADCAST;
2868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_KEEPALIVE:
2869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_KEEPALIVE;
2870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_REUSEADDR:
2871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_REUSEADDR;
2872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("Unknown socket option", 0);
 428              		.loc 1 2873 5 is_stmt 1 discriminator 1 view .LVU106
 429              		.loc 1 2873 5 discriminator 1 view .LVU107
 430              		.loc 1 2873 5 discriminator 1 view .LVU108
 431              		.loc 1 2873 5 discriminator 1 view .LVU109
 432 000e 054B     		ldr	r3, .L39
 433 0010 40F63932 		movw	r2, #2873
 434 0014 0449     		ldr	r1, .L39+4
 435 0016 0548     		ldr	r0, .L39+8
 436              	.LVL32:
 437              		.loc 1 2873 5 is_stmt 0 discriminator 1 view .LVU110
 438 0018 FFF7FEFF 		bl	printf
 439              	.LVL33:
 440              		.loc 1 2873 5 is_stmt 1 discriminator 1 view .LVU111
 441              		.loc 1 2873 5 discriminator 1 view .LVU112
2874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 442              		.loc 1 2874 5 discriminator 1 view .LVU113
 443              		.loc 1 2874 12 is_stmt 0 discriminator 1 view .LVU114
 444 001c 0020     		movs	r0, #0
2875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2876:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 445              		.loc 1 2876 1 discriminator 1 view .LVU115
 446 001e 08BD     		pop	{r3, pc}
 447              	.LVL34:
 448              	.L36:
 449              	.LCFI8:
 450              		.cfi_def_cfa_offset 0
 451              		.cfi_restore 3
 452              		.cfi_restore 14
 453              		.loc 1 2876 1 view .LVU116
ARM GAS  /tmp/cc3tDhb2.s 			page 60


 454 0020 7047     		bx	lr
 455              	.L40:
 456 0022 00BF     		.align	2
 457              	.L39:
 458 0024 00000000 		.word	.LC0
 459 0028 30000000 		.word	.LC1
 460 002c 48000000 		.word	.LC2
 461              		.cfi_endproc
 462              	.LFE205:
 464              		.section	.rodata.alloc_socket.str1.4,"aMS",%progbits,1
 465              		.align	2
 466              	.LC3:
 467 0000 736F636B 		.ascii	"sockets[i].select_waiting == 0\000"
 467      6574735B 
 467      695D2E73 
 467      656C6563 
 467      745F7761 
 468              		.section	.text.alloc_socket,"ax",%progbits
 469              		.align	1
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 473              		.fpu fpv4-sp-d16
 475              	alloc_socket:
 476              	.LVL35:
 477              	.LFB167:
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 478              		.loc 1 502 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 482              		.loc 1 502 1 is_stmt 0 view .LVU118
 483 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 484              	.LCFI9:
 485              		.cfi_def_cfa_offset 24
 486              		.cfi_offset 3, -24
 487              		.cfi_offset 4, -20
 488              		.cfi_offset 5, -16
 489              		.cfi_offset 6, -12
 490              		.cfi_offset 7, -8
 491              		.cfi_offset 14, -4
 492 0002 0646     		mov	r6, r0
 493 0004 0D46     		mov	r5, r1
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 494              		.loc 1 503 3 is_stmt 1 view .LVU119
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 495              		.loc 1 504 3 view .LVU120
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 496              		.loc 1 505 3 view .LVU121
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 497              		.loc 1 508 3 view .LVU122
 498              	.LVL36:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 499              		.loc 1 508 10 is_stmt 0 view .LVU123
 500 0006 0024     		movs	r4, #0
 501              	.LVL37:
ARM GAS  /tmp/cc3tDhb2.s 			page 61


 502              	.L42:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 503              		.loc 1 508 15 is_stmt 1 discriminator 1 view .LVU124
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 504              		.loc 1 508 3 is_stmt 0 discriminator 1 view .LVU125
 505 0008 032C     		cmp	r4, #3
 506 000a 31DC     		bgt	.L50
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 507              		.loc 1 510 5 is_stmt 1 view .LVU126
 508 000c FFF7FEFF 		bl	sys_arch_protect
 509              	.LVL38:
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 510              		.loc 1 511 5 view .LVU127
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 511              		.loc 1 511 20 is_stmt 0 view .LVU128
 512 0010 2301     		lsls	r3, r4, #4
 513 0012 194A     		ldr	r2, .L54
 514 0014 D358     		ldr	r3, [r2, r3]
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 515              		.loc 1 511 8 view .LVU129
 516 0016 1BB1     		cbz	r3, .L51
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 517              		.loc 1 535 5 is_stmt 1 discriminator 2 view .LVU130
 518 0018 FFF7FEFF 		bl	sys_arch_unprotect
 519              	.LVL39:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 520              		.loc 1 508 32 discriminator 2 view .LVU131
 521 001c 0134     		adds	r4, r4, #1
 522              	.LVL40:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 523              		.loc 1 508 32 is_stmt 0 discriminator 2 view .LVU132
 524 001e F3E7     		b	.L42
 525              	.LVL41:
 526              	.L51:
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 527              		.loc 1 520 7 is_stmt 1 view .LVU133
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 528              		.loc 1 520 29 is_stmt 0 view .LVU134
 529 0020 2301     		lsls	r3, r4, #4
 530 0022 02EB0417 		add	r7, r2, r4, lsl #4
 531 0026 D650     		str	r6, [r2, r3]
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 532              		.loc 1 523 7 is_stmt 1 view .LVU135
 533 0028 FFF7FEFF 		bl	sys_arch_unprotect
 534              	.LVL42:
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 535              		.loc 1 524 7 view .LVU136
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 536              		.loc 1 524 32 is_stmt 0 view .LVU137
 537 002c 0023     		movs	r3, #0
 538 002e 7B60     		str	r3, [r7, #4]
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 539              		.loc 1 526 7 is_stmt 1 view .LVU138
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 540              		.loc 1 526 7 view .LVU139
 541 0030 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 542 0032 8BB9     		cbnz	r3, .L52
ARM GAS  /tmp/cc3tDhb2.s 			page 62


 543              	.L44:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 544              		.loc 1 526 7 discriminator 3 view .LVU140
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 545              		.loc 1 526 7 discriminator 3 view .LVU141
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 546              		.loc 1 527 7 discriminator 3 view .LVU142
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 547              		.loc 1 527 29 is_stmt 0 discriminator 3 view .LVU143
 548 0034 104B     		ldr	r3, .L54
 549 0036 03EB0413 		add	r3, r3, r4, lsl #4
 550 003a 0022     		movs	r2, #0
 551 003c 1A81     		strh	r2, [r3, #8]	@ movhi
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 552              		.loc 1 530 7 is_stmt 1 discriminator 3 view .LVU144
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 553              		.loc 1 530 32 is_stmt 0 discriminator 3 view .LVU145
 554 003e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 555              		.loc 1 530 98 discriminator 3 view .LVU146
 556 0040 03F0F003 		and	r3, r3, #240
 557 0044 102B     		cmp	r3, #16
 558 0046 0FD0     		beq	.L53
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 559              		.loc 1 530 98 view .LVU147
 560 0048 0125     		movs	r5, #1
 561              	.LVL43:
 562              	.L45:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 563              		.loc 1 530 29 discriminator 6 view .LVU148
 564 004a 0B4B     		ldr	r3, .L54
 565 004c 03EB0413 		add	r3, r3, r4, lsl #4
 566 0050 5D81     		strh	r5, [r3, #10]	@ movhi
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 567              		.loc 1 531 7 is_stmt 1 discriminator 6 view .LVU149
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 568              		.loc 1 531 29 is_stmt 0 discriminator 6 view .LVU150
 569 0052 0022     		movs	r2, #0
 570 0054 9A81     		strh	r2, [r3, #12]	@ movhi
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 571              		.loc 1 533 7 is_stmt 1 discriminator 6 view .LVU151
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 572              		.loc 1 533 16 is_stmt 0 discriminator 6 view .LVU152
 573 0056 0DE0     		b	.L41
 574              	.LVL44:
 575              	.L52:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 576              		.loc 1 526 7 is_stmt 1 discriminator 1 view .LVU153
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 577              		.loc 1 526 7 discriminator 1 view .LVU154
 578 0058 084B     		ldr	r3, .L54+4
 579 005a 40F20E22 		movw	r2, #526
 580 005e 0849     		ldr	r1, .L54+8
 581 0060 0848     		ldr	r0, .L54+12
 582 0062 FFF7FEFF 		bl	printf
 583              	.LVL45:
 584 0066 E5E7     		b	.L44
ARM GAS  /tmp/cc3tDhb2.s 			page 63


 585              	.L53:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 586              		.loc 1 530 98 is_stmt 0 discriminator 2 view .LVU155
 587 0068 002D     		cmp	r5, #0
 588 006a EED0     		beq	.L45
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 589              		.loc 1 530 98 view .LVU156
 590 006c 0125     		movs	r5, #1
 591              	.LVL46:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 592              		.loc 1 530 98 view .LVU157
 593 006e ECE7     		b	.L45
 594              	.LVL47:
 595              	.L50:
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 596              		.loc 1 537 10 view .LVU158
 597 0070 4FF0FF34 		mov	r4, #-1
 598              	.LVL48:
 599              	.L41:
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 600              		.loc 1 538 1 view .LVU159
 601 0074 2046     		mov	r0, r4
 602 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 603              	.LVL49:
 604              	.L55:
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 605              		.loc 1 538 1 view .LVU160
 606              		.align	2
 607              	.L54:
 608 0078 00000000 		.word	.LANCHOR0
 609 007c 00000000 		.word	.LC0
 610 0080 00000000 		.word	.LC3
 611 0084 48000000 		.word	.LC2
 612              		.cfi_endproc
 613              	.LFE167:
 615              		.section	.rodata.lwip_selscan.str1.4,"aMS",%progbits,1
 616              		.align	2
 617              	.LC4:
 618 0000 6E726561 		.ascii	"nready >= 0\000"
 618      6479203E 
 618      3D203000 
 619              		.section	.text.lwip_selscan,"ax",%progbits
 620              		.align	1
 621              		.syntax unified
 622              		.thumb
 623              		.thumb_func
 624              		.fpu fpv4-sp-d16
 626              	lwip_selscan:
 627              	.LVL50:
 628              	.LFB193:
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 629              		.loc 1 1837 1 is_stmt 1 view -0
 630              		.cfi_startproc
 631              		@ args = 12, pretend = 0, frame = 40
 632              		@ frame_needed = 0, uses_anonymous_args = 0
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 633              		.loc 1 1837 1 is_stmt 0 view .LVU162
ARM GAS  /tmp/cc3tDhb2.s 			page 64


 634 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 635              	.LCFI10:
 636              		.cfi_def_cfa_offset 36
 637              		.cfi_offset 4, -36
 638              		.cfi_offset 5, -32
 639              		.cfi_offset 6, -28
 640              		.cfi_offset 7, -24
 641              		.cfi_offset 8, -20
 642              		.cfi_offset 9, -16
 643              		.cfi_offset 10, -12
 644              		.cfi_offset 11, -8
 645              		.cfi_offset 14, -4
 646 0004 8BB0     		sub	sp, sp, #44
 647              	.LCFI11:
 648              		.cfi_def_cfa_offset 80
 649 0006 8246     		mov	r10, r0
 650 0008 0D46     		mov	r5, r1
 651 000a 1746     		mov	r7, r2
 652 000c 9846     		mov	r8, r3
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 653              		.loc 1 1838 3 is_stmt 1 view .LVU163
 654              	.LVL51:
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 655              		.loc 1 1839 3 view .LVU164
1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 656              		.loc 1 1840 3 view .LVU165
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 657              		.loc 1 1841 3 view .LVU166
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 658              		.loc 1 1843 3 view .LVU167
 659              	.LBB5:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 660              		.loc 1 1843 3 view .LVU168
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 661              		.loc 1 1843 3 view .LVU169
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 662              		.loc 1 1843 3 view .LVU170
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 663              		.loc 1 1843 3 is_stmt 0 view .LVU171
 664 000e 08AB     		add	r3, sp, #32
 665              	.LVL52:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 666              		.loc 1 1843 3 view .LVU172
 667 0010 0022     		movs	r2, #0
 668              	.LVL53:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 669              		.loc 1 1843 3 view .LVU173
 670 0012 03E0     		b	.L57
 671              	.LVL54:
 672              	.L58:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 673              		.loc 1 1843 3 is_stmt 1 discriminator 3 view .LVU174
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 674              		.loc 1 1843 3 is_stmt 0 discriminator 3 view .LVU175
 675 0014 0021     		movs	r1, #0
 676 0016 03F8011B 		strb	r1, [r3], #1
 677              	.LVL55:
ARM GAS  /tmp/cc3tDhb2.s 			page 65


1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 678              		.loc 1 1843 3 is_stmt 1 discriminator 3 view .LVU176
 679 001a 0132     		adds	r2, r2, #1
 680              	.LVL56:
 681              	.L57:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 682              		.loc 1 1843 3 discriminator 1 view .LVU177
 683 001c 072A     		cmp	r2, #7
 684 001e F9D9     		bls	.L58
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 685              		.loc 1 1843 3 is_stmt 0 discriminator 1 view .LVU178
 686              	.LBE5:
 687              	.LBB6:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 688              		.loc 1 1844 3 view .LVU179
 689 0020 06AB     		add	r3, sp, #24
 690              	.LVL57:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 691              		.loc 1 1844 3 view .LVU180
 692 0022 0022     		movs	r2, #0
 693              	.LVL58:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 694              		.loc 1 1844 3 view .LVU181
 695 0024 03E0     		b	.L59
 696              	.LVL59:
 697              	.L60:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 698              		.loc 1 1844 3 is_stmt 1 discriminator 3 view .LVU182
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 699              		.loc 1 1844 3 is_stmt 0 discriminator 3 view .LVU183
 700 0026 0021     		movs	r1, #0
 701 0028 03F8011B 		strb	r1, [r3], #1
 702              	.LVL60:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 703              		.loc 1 1844 3 is_stmt 1 discriminator 3 view .LVU184
 704 002c 0132     		adds	r2, r2, #1
 705              	.LVL61:
 706              	.L59:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 707              		.loc 1 1844 3 discriminator 1 view .LVU185
 708 002e 072A     		cmp	r2, #7
 709 0030 F9D9     		bls	.L60
 710              	.LBE6:
 711              	.LBB7:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 712              		.loc 1 1845 3 is_stmt 0 view .LVU186
 713 0032 04AB     		add	r3, sp, #16
 714              	.LVL62:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 715              		.loc 1 1845 3 view .LVU187
 716 0034 0022     		movs	r2, #0
 717              	.LVL63:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 718              		.loc 1 1845 3 view .LVU188
 719 0036 03E0     		b	.L61
 720              	.LVL64:
 721              	.L62:
ARM GAS  /tmp/cc3tDhb2.s 			page 66


1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 722              		.loc 1 1845 3 is_stmt 1 discriminator 3 view .LVU189
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 723              		.loc 1 1845 3 is_stmt 0 discriminator 3 view .LVU190
 724 0038 0021     		movs	r1, #0
 725 003a 03F8011B 		strb	r1, [r3], #1
 726              	.LVL65:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 727              		.loc 1 1845 3 is_stmt 1 discriminator 3 view .LVU191
 728 003e 0132     		adds	r2, r2, #1
 729              	.LVL66:
 730              	.L61:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 731              		.loc 1 1845 3 discriminator 1 view .LVU192
 732 0040 072A     		cmp	r2, #7
 733 0042 F9D9     		bls	.L62
 734              	.LBE7:
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 735              		.loc 1 1838 10 is_stmt 0 view .LVU193
 736 0044 4FF00009 		mov	r9, #0
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 737              		.loc 1 1849 10 view .LVU194
 738 0048 4C46     		mov	r4, r9
 739 004a 0DE0     		b	.L63
 740              	.LVL67:
 741              	.L76:
 742              	.LBB8:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 743              		.loc 1 1868 72 discriminator 3 view .LVU195
 744 004c 0399     		ldr	r1, [sp, #12]
 745 004e 0029     		cmp	r1, #0
 746 0050 4CDC     		bgt	.L70
 747 0052 55E0     		b	.L69
 748              	.LVL68:
 749              	.L68:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 750              		.loc 1 1868 72 discriminator 3 view .LVU196
 751              	.LBE8:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 752              		.loc 1 1887 7 is_stmt 1 view .LVU197
 753 0054 0198     		ldr	r0, [sp, #4]
 754              	.LVL69:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 755              		.loc 1 1887 7 is_stmt 0 view .LVU198
 756 0056 FFF7FEFF 		bl	sys_arch_unprotect
 757              	.LVL70:
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 758              		.loc 1 1889 7 is_stmt 1 view .LVU199
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 759              		.loc 1 1889 14 is_stmt 0 view .LVU200
 760 005a 4FF0FF39 		mov	r9, #-1
 761              	.LVL71:
 762              	.L56:
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 763              		.loc 1 1899 1 view .LVU201
 764 005e 4846     		mov	r0, r9
 765 0060 0BB0     		add	sp, sp, #44
ARM GAS  /tmp/cc3tDhb2.s 			page 67


 766              	.LCFI12:
 767              		.cfi_remember_state
 768              		.cfi_def_cfa_offset 36
 769              		@ sp needed
 770 0062 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 771              	.LVL72:
 772              	.L67:
 773              	.LCFI13:
 774              		.cfi_restore_state
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 775              		.loc 1 1849 45 is_stmt 1 discriminator 2 view .LVU202
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 776              		.loc 1 1849 46 is_stmt 0 discriminator 2 view .LVU203
 777 0066 0134     		adds	r4, r4, #1
 778              	.LVL73:
 779              	.L63:
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 780              		.loc 1 1849 32 is_stmt 1 discriminator 1 view .LVU204
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 781              		.loc 1 1849 3 is_stmt 0 discriminator 1 view .LVU205
 782 0068 5445     		cmp	r4, r10
 783 006a 79DA     		bge	.L75
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 784              		.loc 1 1851 5 is_stmt 1 view .LVU206
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 785              		.loc 1 1851 8 is_stmt 0 view .LVU207
 786 006c 45B1     		cbz	r5, .L64
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 787              		.loc 1 1851 25 discriminator 2 view .LVU208
 788 006e 6309     		lsrs	r3, r4, #5
 789 0070 55F82320 		ldr	r2, [r5, r3, lsl #2]
 790 0074 04F01F01 		and	r1, r4, #31
 791 0078 0123     		movs	r3, #1
 792 007a 8B40     		lsls	r3, r3, r1
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 793              		.loc 1 1851 9 discriminator 2 view .LVU209
 794 007c 1A42     		tst	r2, r3
 795 007e 15D1     		bne	.L65
 796              	.L64:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 797              		.loc 1 1851 50 discriminator 3 view .LVU210
 798 0080 47B1     		cbz	r7, .L66
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 799              		.loc 1 1852 26 view .LVU211
 800 0082 6309     		lsrs	r3, r4, #5
 801 0084 57F82320 		ldr	r2, [r7, r3, lsl #2]
 802 0088 04F01F01 		and	r1, r4, #31
 803 008c 0123     		movs	r3, #1
 804 008e 8B40     		lsls	r3, r3, r1
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 805              		.loc 1 1852 9 view .LVU212
 806 0090 1A42     		tst	r2, r3
 807 0092 0BD1     		bne	.L65
 808              	.L66:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 809              		.loc 1 1852 52 discriminator 1 view .LVU213
 810 0094 B8F1000F 		cmp	r8, #0
ARM GAS  /tmp/cc3tDhb2.s 			page 68


 811 0098 E5D0     		beq	.L67
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 812              		.loc 1 1853 27 view .LVU214
 813 009a 6309     		lsrs	r3, r4, #5
 814 009c 58F82320 		ldr	r2, [r8, r3, lsl #2]
 815 00a0 04F01F01 		and	r1, r4, #31
 816 00a4 0123     		movs	r3, #1
 817 00a6 8B40     		lsls	r3, r3, r1
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 818              		.loc 1 1853 9 view .LVU215
 819 00a8 1A42     		tst	r2, r3
 820 00aa DCD0     		beq	.L67
 821              	.L65:
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
 822              		.loc 1 1857 5 is_stmt 1 view .LVU216
 823 00ac FFF7FEFF 		bl	sys_arch_protect
 824              	.LVL74:
 825 00b0 0190     		str	r0, [sp, #4]
 826              	.LVL75:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 827              		.loc 1 1858 5 view .LVU217
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 828              		.loc 1 1858 12 is_stmt 0 view .LVU218
 829 00b2 2046     		mov	r0, r4
 830              	.LVL76:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 831              		.loc 1 1858 12 view .LVU219
 832 00b4 FFF7FEFF 		bl	tryget_socket_unconn_locked
 833              	.LVL77:
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 834              		.loc 1 1859 5 is_stmt 1 view .LVU220
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 835              		.loc 1 1859 8 is_stmt 0 view .LVU221
 836 00b8 0028     		cmp	r0, #0
 837 00ba CBD0     		beq	.L68
 838              	.LBB9:
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 839              		.loc 1 1860 7 is_stmt 1 view .LVU222
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 840              		.loc 1 1860 13 is_stmt 0 view .LVU223
 841 00bc 4268     		ldr	r2, [r0, #4]
 842 00be 0292     		str	r2, [sp, #8]
 843              	.LVL78:
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 844              		.loc 1 1861 7 is_stmt 1 view .LVU224
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 845              		.loc 1 1861 13 is_stmt 0 view .LVU225
 846 00c0 B0F90820 		ldrsh	r2, [r0, #8]
 847              	.LVL79:
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 848              		.loc 1 1861 13 view .LVU226
 849 00c4 0392     		str	r2, [sp, #12]
 850              	.LVL80:
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 851              		.loc 1 1862 7 is_stmt 1 view .LVU227
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 852              		.loc 1 1862 13 is_stmt 0 view .LVU228
ARM GAS  /tmp/cc3tDhb2.s 			page 69


 853 00c6 B0F80AB0 		ldrh	fp, [r0, #10]
 854              	.LVL81:
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 855              		.loc 1 1863 7 is_stmt 1 view .LVU229
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 856              		.loc 1 1863 13 is_stmt 0 view .LVU230
 857 00ca 8689     		ldrh	r6, [r0, #12]
 858              	.LVL82:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 859              		.loc 1 1864 7 is_stmt 1 view .LVU231
 860 00cc 0198     		ldr	r0, [sp, #4]
 861              	.LVL83:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 862              		.loc 1 1864 7 is_stmt 0 view .LVU232
 863 00ce FFF7FEFF 		bl	sys_arch_unprotect
 864              	.LVL84:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 865              		.loc 1 1868 7 is_stmt 1 view .LVU233
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 866              		.loc 1 1868 10 is_stmt 0 view .LVU234
 867 00d2 ADB1     		cbz	r5, .L69
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 868              		.loc 1 1868 25 discriminator 1 view .LVU235
 869 00d4 6209     		lsrs	r2, r4, #5
 870 00d6 55F82210 		ldr	r1, [r5, r2, lsl #2]
 871 00da 04F01F00 		and	r0, r4, #31
 872 00de 0123     		movs	r3, #1
 873 00e0 8340     		lsls	r3, r3, r0
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 874              		.loc 1 1868 22 discriminator 1 view .LVU236
 875 00e2 1942     		tst	r1, r3
 876 00e4 0CD0     		beq	.L69
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 877              		.loc 1 1868 49 discriminator 2 view .LVU237
 878 00e6 0299     		ldr	r1, [sp, #8]
 879 00e8 0029     		cmp	r1, #0
 880 00ea AFD0     		beq	.L76
 881              	.L70:
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
 882              		.loc 1 1869 9 is_stmt 1 view .LVU238
 883 00ec 0AA9     		add	r1, sp, #40
 884 00ee 01EB8202 		add	r2, r1, r2, lsl #2
 885 00f2 52F8081C 		ldr	r1, [r2, #-8]
 886 00f6 0B43     		orrs	r3, r3, r1
 887 00f8 42F8083C 		str	r3, [r2, #-8]
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 888              		.loc 1 1870 83 view .LVU239
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 889              		.loc 1 1871 9 view .LVU240
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 890              		.loc 1 1871 15 is_stmt 0 view .LVU241
 891 00fc 09F10109 		add	r9, r9, #1
 892              	.LVL85:
 893              	.L69:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 894              		.loc 1 1874 7 is_stmt 1 view .LVU242
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
ARM GAS  /tmp/cc3tDhb2.s 			page 70


 895              		.loc 1 1874 10 is_stmt 0 view .LVU243
 896 0100 AFB1     		cbz	r7, .L71
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 897              		.loc 1 1874 26 discriminator 1 view .LVU244
 898 0102 6209     		lsrs	r2, r4, #5
 899 0104 57F82210 		ldr	r1, [r7, r2, lsl #2]
 900 0108 04F01F00 		and	r0, r4, #31
 901 010c 0123     		movs	r3, #1
 902 010e 8340     		lsls	r3, r3, r0
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 903              		.loc 1 1874 23 discriminator 1 view .LVU245
 904 0110 1942     		tst	r1, r3
 905 0112 0CD0     		beq	.L71
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 906              		.loc 1 1874 51 discriminator 2 view .LVU246
 907 0114 BBF1000F 		cmp	fp, #0
 908 0118 09D0     		beq	.L71
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
 909              		.loc 1 1875 9 is_stmt 1 view .LVU247
 910 011a 0AA9     		add	r1, sp, #40
 911 011c 01EB8202 		add	r2, r1, r2, lsl #2
 912 0120 52F8101C 		ldr	r1, [r2, #-16]
 913 0124 0B43     		orrs	r3, r3, r1
 914 0126 42F8103C 		str	r3, [r2, #-16]
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 915              		.loc 1 1876 83 view .LVU248
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 916              		.loc 1 1877 9 view .LVU249
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 917              		.loc 1 1877 15 is_stmt 0 view .LVU250
 918 012a 09F10109 		add	r9, r9, #1
 919              	.LVL86:
 920              	.L71:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 921              		.loc 1 1880 7 is_stmt 1 view .LVU251
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 922              		.loc 1 1880 10 is_stmt 0 view .LVU252
 923 012e B8F1000F 		cmp	r8, #0
 924 0132 98D0     		beq	.L67
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 925              		.loc 1 1880 27 discriminator 1 view .LVU253
 926 0134 6209     		lsrs	r2, r4, #5
 927 0136 58F82210 		ldr	r1, [r8, r2, lsl #2]
 928 013a 04F01F00 		and	r0, r4, #31
 929 013e 0123     		movs	r3, #1
 930 0140 8340     		lsls	r3, r3, r0
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 931              		.loc 1 1880 24 discriminator 1 view .LVU254
 932 0142 1942     		tst	r1, r3
 933 0144 8FD0     		beq	.L67
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 934              		.loc 1 1880 53 discriminator 2 view .LVU255
 935 0146 002E     		cmp	r6, #0
 936 0148 8DD0     		beq	.L67
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
 937              		.loc 1 1881 9 is_stmt 1 view .LVU256
 938 014a 0AA9     		add	r1, sp, #40
ARM GAS  /tmp/cc3tDhb2.s 			page 71


 939 014c 01EB8202 		add	r2, r1, r2, lsl #2
 940 0150 52F8181C 		ldr	r1, [r2, #-24]
 941 0154 0B43     		orrs	r3, r3, r1
 942 0156 42F8183C 		str	r3, [r2, #-24]
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 943              		.loc 1 1882 85 view .LVU257
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 944              		.loc 1 1883 9 view .LVU258
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 945              		.loc 1 1883 15 is_stmt 0 view .LVU259
 946 015a 09F10109 		add	r9, r9, #1
 947              	.LVL87:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 948              		.loc 1 1883 15 view .LVU260
 949 015e 82E7     		b	.L67
 950              	.LVL88:
 951              	.L75:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 952              		.loc 1 1883 15 view .LVU261
 953              	.LBE9:
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 954              		.loc 1 1893 3 is_stmt 1 view .LVU262
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 955              		.loc 1 1893 16 is_stmt 0 view .LVU263
 956 0160 0AAB     		add	r3, sp, #40
 957 0162 13E90300 		ldmdb	r3, {r0, r1}
 958 0166 149B     		ldr	r3, [sp, #80]
 959 0168 83E80300 		stm	r3, {r0, r1}
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 960              		.loc 1 1894 3 is_stmt 1 view .LVU264
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 961              		.loc 1 1894 17 is_stmt 0 view .LVU265
 962 016c 0799     		ldr	r1, [sp, #28]
 963 016e 0698     		ldr	r0, [sp, #24]
 964 0170 159B     		ldr	r3, [sp, #84]
 965 0172 83E80300 		stm	r3, {r0, r1}
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 966              		.loc 1 1895 3 is_stmt 1 view .LVU266
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 967              		.loc 1 1895 18 is_stmt 0 view .LVU267
 968 0176 0599     		ldr	r1, [sp, #20]
 969 0178 0498     		ldr	r0, [sp, #16]
 970 017a 169B     		ldr	r3, [sp, #88]
 971 017c 83E80300 		stm	r3, {r0, r1}
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 972              		.loc 1 1897 3 is_stmt 1 view .LVU268
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 973              		.loc 1 1897 3 view .LVU269
 974 0180 B9F1000F 		cmp	r9, #0
 975 0184 BFF66BAF 		bge	.L56
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 976              		.loc 1 1897 3 discriminator 1 view .LVU270
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 977              		.loc 1 1897 3 discriminator 1 view .LVU271
 978 0188 034B     		ldr	r3, .L77
 979 018a 40F26972 		movw	r2, #1897
 980 018e 0349     		ldr	r1, .L77+4
ARM GAS  /tmp/cc3tDhb2.s 			page 72


 981 0190 0348     		ldr	r0, .L77+8
 982 0192 FFF7FEFF 		bl	printf
 983              	.LVL89:
 984 0196 62E7     		b	.L56
 985              	.L78:
 986              		.align	2
 987              	.L77:
 988 0198 00000000 		.word	.LC0
 989 019c 00000000 		.word	.LC4
 990 01a0 48000000 		.word	.LC2
 991              		.cfi_endproc
 992              	.LFE193:
 994              		.section	.rodata.lwip_pollscan.str1.4,"aMS",%progbits,1
 995              		.align	2
 996              	.LC5:
 997 0000 736F636B 		.ascii	"sock->select_waiting > 0\000"
 997      2D3E7365 
 997      6C656374 
 997      5F776169 
 997      74696E67 
 998              		.section	.text.lwip_pollscan,"ax",%progbits
 999              		.align	1
 1000              		.syntax unified
 1001              		.thumb
 1002              		.thumb_func
 1003              		.fpu fpv4-sp-d16
 1005              	lwip_pollscan:
 1006              	.LVL90:
 1007              	.LFB195:
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1008              		.loc 1 2194 1 view -0
 1009              		.cfi_startproc
 1010              		@ args = 0, pretend = 0, frame = 16
 1011              		@ frame_needed = 0, uses_anonymous_args = 0
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1012              		.loc 1 2194 1 is_stmt 0 view .LVU273
 1013 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1014              	.LCFI14:
 1015              		.cfi_def_cfa_offset 36
 1016              		.cfi_offset 4, -36
 1017              		.cfi_offset 5, -32
 1018              		.cfi_offset 6, -28
 1019              		.cfi_offset 7, -24
 1020              		.cfi_offset 8, -20
 1021              		.cfi_offset 9, -16
 1022              		.cfi_offset 10, -12
 1023              		.cfi_offset 11, -8
 1024              		.cfi_offset 14, -4
 1025 0004 85B0     		sub	sp, sp, #20
 1026              	.LCFI15:
 1027              		.cfi_def_cfa_offset 56
 1028 0006 0646     		mov	r6, r0
 1029 0008 8946     		mov	r9, r1
 1030 000a 1746     		mov	r7, r2
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1031              		.loc 1 2195 3 is_stmt 1 view .LVU274
 1032              	.LVL91:
ARM GAS  /tmp/cc3tDhb2.s 			page 73


2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1033              		.loc 1 2196 3 view .LVU275
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 1034              		.loc 1 2197 3 view .LVU276
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1035              		.loc 1 2198 3 view .LVU277
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1036              		.loc 1 2201 3 view .LVU278
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1037              		.loc 1 2201 12 is_stmt 0 view .LVU279
 1038 000c 0024     		movs	r4, #0
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1039              		.loc 1 2195 7 view .LVU280
 1040 000e A346     		mov	fp, r4
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1041              		.loc 1 2201 3 view .LVU281
 1042 0010 33E0     		b	.L80
 1043              	.LVL92:
 1044              	.L97:
 1045              	.LBB10:
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1046              		.loc 1 2224 13 is_stmt 1 view .LVU282
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1047              		.loc 1 2224 33 is_stmt 0 view .LVU283
 1048 0012 8273     		strb	r2, [r0, #14]
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1049              		.loc 1 2225 13 is_stmt 1 view .LVU284
 1050              	.LVL93:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1051              		.loc 1 2226 13 view .LVU285
 1052 0014 0098     		ldr	r0, [sp]
 1053              	.LVL94:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1054              		.loc 1 2226 13 is_stmt 0 view .LVU286
 1055 0016 FFF7FEFF 		bl	sys_arch_unprotect
 1056              	.LVL95:
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 1057              		.loc 1 2227 30 is_stmt 1 view .LVU287
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1058              		.loc 1 2228 13 view .LVU288
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1059              		.loc 1 2228 13 is_stmt 0 view .LVU289
 1060              	.LBE10:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1061              		.loc 1 2273 3 is_stmt 1 view .LVU290
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1062              		.loc 1 2273 3 view .LVU291
 1063              	.LBB11:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1064              		.loc 1 2225 20 is_stmt 0 view .LVU292
 1065 001a 4FF0FF3B 		mov	fp, #-1
 1066              	.LVL96:
 1067              	.L86:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1068              		.loc 1 2225 20 view .LVU293
 1069              	.LBE11:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
ARM GAS  /tmp/cc3tDhb2.s 			page 74


 1070              		.loc 1 2273 3 is_stmt 1 discriminator 1 view .LVU294
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1071              		.loc 1 2273 3 discriminator 1 view .LVU295
 1072 001e 474B     		ldr	r3, .L99
 1073 0020 40F6E102 		movw	r2, #2273
 1074 0024 4649     		ldr	r1, .L99+4
 1075 0026 4748     		ldr	r0, .L99+8
 1076 0028 FFF7FEFF 		bl	printf
 1077              	.LVL97:
 1078 002c 81E0     		b	.L79
 1079              	.LVL98:
 1080              	.L84:
 1081              	.LBB12:
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1082              		.loc 1 2230 16 view .LVU296
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1083              		.loc 1 2230 19 is_stmt 0 view .LVU297
 1084 002e 17F0040F 		tst	r7, #4
 1085 0032 54D0     		beq	.L85
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1086              		.loc 1 2232 11 is_stmt 1 view .LVU298
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1087              		.loc 1 2232 11 view .LVU299
 1088 0034 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 1089 0036 3BB1     		cbz	r3, .L95
 1090              	.LVL99:
 1091              	.L87:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1092              		.loc 1 2232 11 discriminator 3 view .LVU300
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1093              		.loc 1 2232 11 discriminator 3 view .LVU301
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1094              		.loc 1 2233 11 discriminator 3 view .LVU302
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1095              		.loc 1 2233 19 is_stmt 0 discriminator 3 view .LVU303
 1096 0038 9AF80E30 		ldrb	r3, [r10, #14]	@ zero_extendqisi2
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1097              		.loc 1 2233 14 discriminator 3 view .LVU304
 1098 003c 002B     		cmp	r3, #0
 1099 003e 4ED0     		beq	.L85
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1100              		.loc 1 2234 13 is_stmt 1 view .LVU305
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1101              		.loc 1 2234 33 is_stmt 0 view .LVU306
 1102 0040 013B     		subs	r3, r3, #1
 1103 0042 8AF80E30 		strb	r3, [r10, #14]
 1104 0046 4AE0     		b	.L85
 1105              	.LVL100:
 1106              	.L95:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1107              		.loc 1 2232 11 is_stmt 1 discriminator 1 view .LVU307
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1108              		.loc 1 2232 11 discriminator 1 view .LVU308
 1109 0048 3C4B     		ldr	r3, .L99
 1110 004a 40F6B802 		movw	r2, #2232
 1111 004e 3E49     		ldr	r1, .L99+12
 1112 0050 3C48     		ldr	r0, .L99+8
ARM GAS  /tmp/cc3tDhb2.s 			page 75


 1113              	.LVL101:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1114              		.loc 1 2232 11 is_stmt 0 discriminator 1 view .LVU309
 1115 0052 FFF7FEFF 		bl	printf
 1116              	.LVL102:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1117              		.loc 1 2232 11 discriminator 1 view .LVU310
 1118 0056 EFE7     		b	.L87
 1119              	.L98:
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1120              		.loc 1 2242 68 discriminator 2 view .LVU311
 1121 0058 039B     		ldr	r3, [sp, #12]
 1122 005a 002B     		cmp	r3, #0
 1123 005c 4ADC     		bgt	.L89
 1124 005e 4DE0     		b	.L88
 1125              	.L90:
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1126              		.loc 1 2249 96 is_stmt 1 view .LVU312
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1127              		.loc 1 2252 9 view .LVU313
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1128              		.loc 1 2252 12 is_stmt 0 view .LVU314
 1129 0060 B8F1000F 		cmp	r8, #0
 1130 0064 03D0     		beq	.L82
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1131              		.loc 1 2254 11 is_stmt 1 view .LVU315
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1132              		.loc 1 2254 28 is_stmt 0 view .LVU316
 1133 0066 EB88     		ldrh	r3, [r5, #6]
 1134 0068 43F00403 		orr	r3, r3, #4
 1135 006c EB80     		strh	r3, [r5, #6]	@ movhi
 1136              	.LVL103:
 1137              	.L82:
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1138              		.loc 1 2254 28 view .LVU317
 1139              	.LBE12:
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1140              		.loc 1 2268 5 is_stmt 1 view .LVU318
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1141              		.loc 1 2268 17 is_stmt 0 view .LVU319
 1142 006e B5F90630 		ldrsh	r3, [r5, #6]
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1143              		.loc 1 2268 8 view .LVU320
 1144 0072 0BB1     		cbz	r3, .L92
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1145              		.loc 1 2269 7 is_stmt 1 view .LVU321
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1146              		.loc 1 2269 13 is_stmt 0 view .LVU322
 1147 0074 0BF1010B 		add	fp, fp, #1
 1148              	.LVL104:
 1149              	.L92:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1150              		.loc 1 2201 29 is_stmt 1 discriminator 2 view .LVU323
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1151              		.loc 1 2201 32 is_stmt 0 discriminator 2 view .LVU324
 1152 0078 0134     		adds	r4, r4, #1
 1153              	.LVL105:
ARM GAS  /tmp/cc3tDhb2.s 			page 76


 1154              	.L80:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1155              		.loc 1 2201 17 is_stmt 1 discriminator 1 view .LVU325
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1156              		.loc 1 2201 3 is_stmt 0 discriminator 1 view .LVU326
 1157 007a 4C45     		cmp	r4, r9
 1158 007c 55D2     		bcs	.L96
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1159              		.loc 1 2202 5 is_stmt 1 view .LVU327
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1160              		.loc 1 2202 8 is_stmt 0 view .LVU328
 1161 007e 17F0010F 		tst	r7, #1
 1162 0082 03D0     		beq	.L81
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1163              		.loc 1 2203 7 is_stmt 1 view .LVU329
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1164              		.loc 1 2203 10 is_stmt 0 view .LVU330
 1165 0084 06EBC403 		add	r3, r6, r4, lsl #3
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1166              		.loc 1 2203 24 view .LVU331
 1167 0088 0022     		movs	r2, #0
 1168 008a DA80     		strh	r2, [r3, #6]	@ movhi
 1169              	.L81:
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1170              		.loc 1 2210 5 is_stmt 1 view .LVU332
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1171              		.loc 1 2210 12 is_stmt 0 view .LVU333
 1172 008c 4FEAC408 		lsl	r8, r4, #3
 1173 0090 06EBC405 		add	r5, r6, r4, lsl #3
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1174              		.loc 1 2210 17 view .LVU334
 1175 0094 56F83430 		ldr	r3, [r6, r4, lsl #3]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1176              		.loc 1 2210 8 view .LVU335
 1177 0098 002B     		cmp	r3, #0
 1178 009a E8DB     		blt	.L82
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1179              		.loc 1 2210 38 discriminator 1 view .LVU336
 1180 009c B5F90630 		ldrsh	r3, [r5, #6]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1181              		.loc 1 2210 26 discriminator 1 view .LVU337
 1182 00a0 13F0080F 		tst	r3, #8
 1183 00a4 E3D1     		bne	.L82
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
 1184              		.loc 1 2212 7 is_stmt 1 view .LVU338
 1185 00a6 FFF7FEFF 		bl	sys_arch_protect
 1186              	.LVL106:
 1187 00aa 0090     		str	r0, [sp]
 1188              	.LVL107:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1189              		.loc 1 2213 7 view .LVU339
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1190              		.loc 1 2213 14 is_stmt 0 view .LVU340
 1191 00ac 56F80800 		ldr	r0, [r6, r8]
 1192              	.LVL108:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1193              		.loc 1 2213 14 view .LVU341
ARM GAS  /tmp/cc3tDhb2.s 			page 77


 1194 00b0 FFF7FEFF 		bl	tryget_socket_unconn_locked
 1195              	.LVL109:
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1196              		.loc 1 2214 7 is_stmt 1 view .LVU342
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1197              		.loc 1 2214 10 is_stmt 0 view .LVU343
 1198 00b4 8246     		mov	r10, r0
 1199 00b6 0028     		cmp	r0, #0
 1200 00b8 2DD0     		beq	.L83
 1201              	.LBB13:
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1202              		.loc 1 2215 9 is_stmt 1 view .LVU344
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1203              		.loc 1 2215 15 is_stmt 0 view .LVU345
 1204 00ba 4368     		ldr	r3, [r0, #4]
 1205 00bc 0193     		str	r3, [sp, #4]
 1206              	.LVL110:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1207              		.loc 1 2216 9 is_stmt 1 view .LVU346
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1208              		.loc 1 2216 15 is_stmt 0 view .LVU347
 1209 00be B0F90830 		ldrsh	r3, [r0, #8]
 1210              	.LVL111:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1211              		.loc 1 2216 15 view .LVU348
 1212 00c2 0393     		str	r3, [sp, #12]
 1213              	.LVL112:
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1214              		.loc 1 2217 9 is_stmt 1 view .LVU349
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1215              		.loc 1 2217 15 is_stmt 0 view .LVU350
 1216 00c4 4389     		ldrh	r3, [r0, #10]
 1217 00c6 0293     		str	r3, [sp, #8]
 1218              	.LVL113:
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1219              		.loc 1 2218 9 is_stmt 1 view .LVU351
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1220              		.loc 1 2218 15 is_stmt 0 view .LVU352
 1221 00c8 B0F80C80 		ldrh	r8, [r0, #12]
 1222              	.LVL114:
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1223              		.loc 1 2220 9 is_stmt 1 view .LVU353
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1224              		.loc 1 2220 12 is_stmt 0 view .LVU354
 1225 00cc 17F0020F 		tst	r7, #2
 1226 00d0 ADD0     		beq	.L84
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1227              		.loc 1 2221 11 is_stmt 1 view .LVU355
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1228              		.loc 1 2221 15 is_stmt 0 view .LVU356
 1229 00d2 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1230              		.loc 1 2221 31 view .LVU357
 1231 00d4 531C     		adds	r3, r2, #1
 1232 00d6 DBB2     		uxtb	r3, r3
 1233 00d8 8373     		strb	r3, [r0, #14]
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
ARM GAS  /tmp/cc3tDhb2.s 			page 78


 1234              		.loc 1 2222 11 is_stmt 1 view .LVU358
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
 1235              		.loc 1 2222 14 is_stmt 0 view .LVU359
 1236 00da 002B     		cmp	r3, #0
 1237 00dc 99D0     		beq	.L97
 1238              	.LVL115:
 1239              	.L85:
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 1240              		.loc 1 2237 9 is_stmt 1 view .LVU360
 1241 00de 0098     		ldr	r0, [sp]
 1242 00e0 FFF7FEFF 		bl	sys_arch_unprotect
 1243              	.LVL116:
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1244              		.loc 1 2238 26 view .LVU361
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1245              		.loc 1 2242 9 view .LVU362
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1246              		.loc 1 2242 22 is_stmt 0 view .LVU363
 1247 00e4 B5F90430 		ldrsh	r3, [r5, #4]
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1248              		.loc 1 2242 12 view .LVU364
 1249 00e8 13F0010F 		tst	r3, #1
 1250 00ec 06D0     		beq	.L88
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1251              		.loc 1 2242 45 discriminator 1 view .LVU365
 1252 00ee 019B     		ldr	r3, [sp, #4]
 1253 00f0 002B     		cmp	r3, #0
 1254 00f2 B1D0     		beq	.L98
 1255              	.L89:
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1256              		.loc 1 2243 11 is_stmt 1 view .LVU366
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1257              		.loc 1 2243 28 is_stmt 0 view .LVU367
 1258 00f4 EB88     		ldrh	r3, [r5, #6]
 1259 00f6 43F00103 		orr	r3, r3, #1
 1260 00fa EB80     		strh	r3, [r5, #6]	@ movhi
 1261              	.L88:
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1262              		.loc 1 2244 96 is_stmt 1 view .LVU368
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1263              		.loc 1 2247 9 view .LVU369
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1264              		.loc 1 2247 22 is_stmt 0 view .LVU370
 1265 00fc B5F90430 		ldrsh	r3, [r5, #4]
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1266              		.loc 1 2247 12 view .LVU371
 1267 0100 13F0020F 		tst	r3, #2
 1268 0104 ACD0     		beq	.L90
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1269              		.loc 1 2247 46 discriminator 1 view .LVU372
 1270 0106 029B     		ldr	r3, [sp, #8]
 1271 0108 002B     		cmp	r3, #0
 1272 010a A9D0     		beq	.L90
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1273              		.loc 1 2248 11 is_stmt 1 view .LVU373
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1274              		.loc 1 2248 28 is_stmt 0 view .LVU374
ARM GAS  /tmp/cc3tDhb2.s 			page 79


 1275 010c EB88     		ldrh	r3, [r5, #6]
 1276 010e 43F00203 		orr	r3, r3, #2
 1277 0112 EB80     		strh	r3, [r5, #6]	@ movhi
 1278 0114 A4E7     		b	.L90
 1279              	.LVL117:
 1280              	.L83:
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1281              		.loc 1 2248 28 view .LVU375
 1282              	.LBE13:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1283              		.loc 1 2259 9 is_stmt 1 view .LVU376
 1284 0116 0098     		ldr	r0, [sp]
 1285              	.LVL118:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1286              		.loc 1 2259 9 is_stmt 0 view .LVU377
 1287 0118 FFF7FEFF 		bl	sys_arch_unprotect
 1288              	.LVL119:
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1289              		.loc 1 2261 9 is_stmt 1 view .LVU378
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1290              		.loc 1 2261 26 is_stmt 0 view .LVU379
 1291 011c EB88     		ldrh	r3, [r5, #6]
 1292 011e 43F00803 		orr	r3, r3, #8
 1293 0122 EB80     		strh	r3, [r5, #6]	@ movhi
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1294              		.loc 1 2262 9 is_stmt 1 view .LVU380
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1295              		.loc 1 2262 16 is_stmt 0 view .LVU381
 1296 0124 4FF0FF3B 		mov	fp, #-1
 1297              	.LVL120:
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1298              		.loc 1 2262 16 view .LVU382
 1299 0128 03E0     		b	.L79
 1300              	.LVL121:
 1301              	.L96:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1302              		.loc 1 2273 3 is_stmt 1 view .LVU383
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1303              		.loc 1 2273 3 view .LVU384
 1304 012a BBF1000F 		cmp	fp, #0
 1305 012e FFF676AF 		blt	.L86
 1306              	.LVL122:
 1307              	.L79:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1308              		.loc 1 2275 1 is_stmt 0 view .LVU385
 1309 0132 5846     		mov	r0, fp
 1310 0134 05B0     		add	sp, sp, #20
 1311              	.LCFI16:
 1312              		.cfi_def_cfa_offset 36
 1313              		@ sp needed
 1314 0136 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1315              	.LVL123:
 1316              	.L100:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1317              		.loc 1 2275 1 view .LVU386
 1318 013a 00BF     		.align	2
 1319              	.L99:
ARM GAS  /tmp/cc3tDhb2.s 			page 80


 1320 013c 00000000 		.word	.LC0
 1321 0140 00000000 		.word	.LC4
 1322 0144 48000000 		.word	.LC2
 1323 0148 00000000 		.word	.LC5
 1324              		.cfi_endproc
 1325              	.LFE195:
 1327              		.section	.text.lwip_link_select_cb,"ax",%progbits
 1328              		.align	1
 1329              		.syntax unified
 1330              		.thumb
 1331              		.thumb_func
 1332              		.fpu fpv4-sp-d16
 1334              	lwip_link_select_cb:
 1335              	.LVL124:
 1336              	.LFB191:
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1337              		.loc 1 1772 1 is_stmt 1 view -0
 1338              		.cfi_startproc
 1339              		@ args = 0, pretend = 0, frame = 0
 1340              		@ frame_needed = 0, uses_anonymous_args = 0
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1341              		.loc 1 1772 1 is_stmt 0 view .LVU388
 1342 0000 10B5     		push	{r4, lr}
 1343              	.LCFI17:
 1344              		.cfi_def_cfa_offset 8
 1345              		.cfi_offset 4, -8
 1346              		.cfi_offset 14, -4
 1347 0002 0446     		mov	r4, r0
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1348              		.loc 1 1773 39 is_stmt 1 view .LVU389
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1349              		.loc 1 1776 3 view .LVU390
 1350 0004 0648     		ldr	r0, .L104
 1351              	.LVL125:
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1352              		.loc 1 1776 3 is_stmt 0 view .LVU391
 1353 0006 FFF7FEFF 		bl	sys_mutex_lock
 1354              	.LVL126:
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1355              		.loc 1 1779 3 is_stmt 1 view .LVU392
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1356              		.loc 1 1779 19 is_stmt 0 view .LVU393
 1357 000a 064B     		ldr	r3, .L104+4
 1358 000c 1B68     		ldr	r3, [r3]
 1359 000e 2360     		str	r3, [r4]
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1360              		.loc 1 1780 3 is_stmt 1 view .LVU394
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1361              		.loc 1 1780 6 is_stmt 0 view .LVU395
 1362 0010 03B1     		cbz	r3, .L102
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1363              		.loc 1 1781 5 is_stmt 1 view .LVU396
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1364              		.loc 1 1781 26 is_stmt 0 view .LVU397
 1365 0012 5C60     		str	r4, [r3, #4]
 1366              	.L102:
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
ARM GAS  /tmp/cc3tDhb2.s 			page 81


 1367              		.loc 1 1783 3 is_stmt 1 view .LVU398
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1368              		.loc 1 1783 18 is_stmt 0 view .LVU399
 1369 0014 034B     		ldr	r3, .L104+4
 1370 0016 1C60     		str	r4, [r3]
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1371              		.loc 1 1790 3 is_stmt 1 view .LVU400
 1372 0018 0148     		ldr	r0, .L104
 1373 001a FFF7FEFF 		bl	sys_mutex_unlock
 1374              	.LVL127:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1375              		.loc 1 1791 1 is_stmt 0 view .LVU401
 1376 001e 10BD     		pop	{r4, pc}
 1377              	.LVL128:
 1378              	.L105:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1379              		.loc 1 1791 1 view .LVU402
 1380              		.align	2
 1381              	.L104:
 1382 0020 00000000 		.word	lock_tcpip_core
 1383 0024 00000000 		.word	.LANCHOR1
 1384              		.cfi_endproc
 1385              	.LFE191:
 1387              		.section	.rodata.lwip_unlink_select_cb.str1.4,"aMS",%progbits,1
 1388              		.align	2
 1389              	.LC6:
 1390 0000 73656C65 		.ascii	"select_cb->prev == NULL\000"
 1390      63745F63 
 1390      622D3E70 
 1390      72657620 
 1390      3D3D204E 
 1391              		.align	2
 1392              	.LC7:
 1393 0018 73656C65 		.ascii	"select_cb->prev != NULL\000"
 1393      63745F63 
 1393      622D3E70 
 1393      72657620 
 1393      213D204E 
 1394              		.section	.text.lwip_unlink_select_cb,"ax",%progbits
 1395              		.align	1
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1399              		.fpu fpv4-sp-d16
 1401              	lwip_unlink_select_cb:
 1402              	.LVL129:
 1403              	.LFB192:
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1404              		.loc 1 1796 1 is_stmt 1 view -0
 1405              		.cfi_startproc
 1406              		@ args = 0, pretend = 0, frame = 0
 1407              		@ frame_needed = 0, uses_anonymous_args = 0
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1408              		.loc 1 1796 1 is_stmt 0 view .LVU404
 1409 0000 10B5     		push	{r4, lr}
 1410              	.LCFI18:
 1411              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc3tDhb2.s 			page 82


 1412              		.cfi_offset 4, -8
 1413              		.cfi_offset 14, -4
 1414 0002 0446     		mov	r4, r0
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1415              		.loc 1 1797 39 is_stmt 1 view .LVU405
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1416              		.loc 1 1800 3 view .LVU406
 1417 0004 1448     		ldr	r0, .L115
 1418              	.LVL130:
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1419              		.loc 1 1800 3 is_stmt 0 view .LVU407
 1420 0006 FFF7FEFF 		bl	sys_mutex_lock
 1421              	.LVL131:
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1422              		.loc 1 1801 3 is_stmt 1 view .LVU408
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1423              		.loc 1 1801 16 is_stmt 0 view .LVU409
 1424 000a 2368     		ldr	r3, [r4]
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1425              		.loc 1 1801 6 view .LVU410
 1426 000c 0BB1     		cbz	r3, .L107
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1427              		.loc 1 1802 5 is_stmt 1 view .LVU411
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1428              		.loc 1 1802 38 is_stmt 0 view .LVU412
 1429 000e 6268     		ldr	r2, [r4, #4]
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1430              		.loc 1 1802 27 view .LVU413
 1431 0010 5A60     		str	r2, [r3, #4]
 1432              	.L107:
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1433              		.loc 1 1804 3 is_stmt 1 view .LVU414
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1434              		.loc 1 1804 22 is_stmt 0 view .LVU415
 1435 0012 124B     		ldr	r3, .L115+4
 1436 0014 1B68     		ldr	r3, [r3]
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1437              		.loc 1 1804 6 view .LVU416
 1438 0016 A342     		cmp	r3, r4
 1439 0018 08D0     		beq	.L113
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1440              		.loc 1 1808 5 is_stmt 1 view .LVU417
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1441              		.loc 1 1808 5 view .LVU418
 1442 001a 6368     		ldr	r3, [r4, #4]
 1443 001c 9BB1     		cbz	r3, .L114
 1444              	.L111:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1445              		.loc 1 1808 5 discriminator 3 view .LVU419
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1446              		.loc 1 1808 5 discriminator 3 view .LVU420
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1447              		.loc 1 1809 5 discriminator 3 view .LVU421
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1448              		.loc 1 1809 14 is_stmt 0 discriminator 3 view .LVU422
 1449 001e 6368     		ldr	r3, [r4, #4]
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /tmp/cc3tDhb2.s 			page 83


 1450              		.loc 1 1809 38 discriminator 3 view .LVU423
 1451 0020 2268     		ldr	r2, [r4]
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1452              		.loc 1 1809 27 discriminator 3 view .LVU424
 1453 0022 1A60     		str	r2, [r3]
 1454              	.L110:
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1455              		.loc 1 1815 3 is_stmt 1 view .LVU425
 1456 0024 0C48     		ldr	r0, .L115
 1457 0026 FFF7FEFF 		bl	sys_mutex_unlock
 1458              	.LVL132:
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 1459              		.loc 1 1816 1 is_stmt 0 view .LVU426
 1460 002a 10BD     		pop	{r4, pc}
 1461              	.LVL133:
 1462              	.L113:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1463              		.loc 1 1805 5 is_stmt 1 view .LVU427
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1464              		.loc 1 1805 5 view .LVU428
 1465 002c 6368     		ldr	r3, [r4, #4]
 1466 002e 33B1     		cbz	r3, .L109
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1467              		.loc 1 1805 5 discriminator 1 view .LVU429
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1468              		.loc 1 1805 5 discriminator 1 view .LVU430
 1469 0030 0B4B     		ldr	r3, .L115+8
 1470 0032 40F20D72 		movw	r2, #1805
 1471 0036 0B49     		ldr	r1, .L115+12
 1472 0038 0B48     		ldr	r0, .L115+16
 1473 003a FFF7FEFF 		bl	printf
 1474              	.LVL134:
 1475              	.L109:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1476              		.loc 1 1805 5 discriminator 3 view .LVU431
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1477              		.loc 1 1805 5 discriminator 3 view .LVU432
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1478              		.loc 1 1806 5 discriminator 3 view .LVU433
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1479              		.loc 1 1806 31 is_stmt 0 discriminator 3 view .LVU434
 1480 003e 2268     		ldr	r2, [r4]
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1481              		.loc 1 1806 20 discriminator 3 view .LVU435
 1482 0040 064B     		ldr	r3, .L115+4
 1483 0042 1A60     		str	r2, [r3]
 1484 0044 EEE7     		b	.L110
 1485              	.L114:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1486              		.loc 1 1808 5 is_stmt 1 discriminator 1 view .LVU436
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1487              		.loc 1 1808 5 discriminator 1 view .LVU437
 1488 0046 064B     		ldr	r3, .L115+8
 1489 0048 4FF4E262 		mov	r2, #1808
 1490 004c 0749     		ldr	r1, .L115+20
 1491 004e 0648     		ldr	r0, .L115+16
 1492 0050 FFF7FEFF 		bl	printf
ARM GAS  /tmp/cc3tDhb2.s 			page 84


 1493              	.LVL135:
 1494 0054 E3E7     		b	.L111
 1495              	.L116:
 1496 0056 00BF     		.align	2
 1497              	.L115:
 1498 0058 00000000 		.word	lock_tcpip_core
 1499 005c 00000000 		.word	.LANCHOR1
 1500 0060 00000000 		.word	.LC0
 1501 0064 00000000 		.word	.LC6
 1502 0068 48000000 		.word	.LC2
 1503 006c 18000000 		.word	.LC7
 1504              		.cfi_endproc
 1505              	.LFE192:
 1507              		.section	.rodata.lwip_sock_make_addr.str1.4,"aMS",%progbits,1
 1508              		.align	2
 1509              	.LC8:
 1510 0000 66726F6D 		.ascii	"fromaddr != NULL\000"
 1510      61646472 
 1510      20213D20 
 1510      4E554C4C 
 1510      00
 1511 0011 000000   		.align	2
 1512              	.LC9:
 1513 0014 66726F6D 		.ascii	"from != NULL\000"
 1513      20213D20 
 1513      4E554C4C 
 1513      00
 1514 0021 000000   		.align	2
 1515              	.LC10:
 1516 0024 66726F6D 		.ascii	"fromlen != NULL\000"
 1516      6C656E20 
 1516      213D204E 
 1516      554C4C00 
 1517              		.section	.text.lwip_sock_make_addr,"ax",%progbits
 1518              		.align	1
 1519              		.syntax unified
 1520              		.thumb
 1521              		.thumb_func
 1522              		.fpu fpv4-sp-d16
 1524              	lwip_sock_make_addr:
 1525              	.LVL136:
 1526              	.LFB177:
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1527              		.loc 1 1025 1 view -0
 1528              		.cfi_startproc
 1529              		@ args = 4, pretend = 0, frame = 16
 1530              		@ frame_needed = 0, uses_anonymous_args = 0
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1531              		.loc 1 1025 1 is_stmt 0 view .LVU439
 1532 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1533              	.LCFI19:
 1534              		.cfi_def_cfa_offset 20
 1535              		.cfi_offset 4, -20
 1536              		.cfi_offset 5, -16
 1537              		.cfi_offset 6, -12
 1538              		.cfi_offset 7, -8
 1539              		.cfi_offset 14, -4
ARM GAS  /tmp/cc3tDhb2.s 			page 85


 1540 0002 85B0     		sub	sp, sp, #20
 1541              	.LCFI20:
 1542              		.cfi_def_cfa_offset 40
 1543 0004 1646     		mov	r6, r2
 1544 0006 1C46     		mov	r4, r3
 1545 0008 0A9D     		ldr	r5, [sp, #40]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1546              		.loc 1 1026 3 is_stmt 1 view .LVU440
 1547              	.LVL137:
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1548              		.loc 1 1027 3 view .LVU441
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1549              		.loc 1 1029 3 view .LVU442
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1550              		.loc 1 1031 3 view .LVU443
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1551              		.loc 1 1031 3 view .LVU444
 1552 000a 0F46     		mov	r7, r1
 1553 000c D1B1     		cbz	r1, .L125
 1554              	.LVL138:
 1555              	.L118:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1556              		.loc 1 1031 3 discriminator 3 view .LVU445
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1557              		.loc 1 1031 3 discriminator 3 view .LVU446
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1558              		.loc 1 1032 3 discriminator 3 view .LVU447
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1559              		.loc 1 1032 3 discriminator 3 view .LVU448
 1560 000e 0CB3     		cbz	r4, .L126
 1561              	.L119:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1562              		.loc 1 1032 3 discriminator 3 view .LVU449
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1563              		.loc 1 1032 3 discriminator 3 view .LVU450
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1564              		.loc 1 1033 3 discriminator 3 view .LVU451
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1565              		.loc 1 1033 3 discriminator 3 view .LVU452
 1566 0010 45B3     		cbz	r5, .L127
 1567              	.L120:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1568              		.loc 1 1033 3 discriminator 3 view .LVU453
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1569              		.loc 1 1033 3 discriminator 3 view .LVU454
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1570              		.loc 1 1043 3 discriminator 3 view .LVU455
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1571              		.loc 1 1043 3 discriminator 3 view .LVU456
 1572 0012 1023     		movs	r3, #16
 1573 0014 8DF80030 		strb	r3, [sp]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1574              		.loc 1 1043 3 discriminator 3 view .LVU457
 1575 0018 0223     		movs	r3, #2
 1576 001a 8DF80130 		strb	r3, [sp, #1]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1577              		.loc 1 1043 3 discriminator 3 view .LVU458
ARM GAS  /tmp/cc3tDhb2.s 			page 86


 1578 001e 3046     		mov	r0, r6
 1579 0020 FFF7FEFF 		bl	lwip_htons
 1580              	.LVL139:
 1581 0024 ADF80200 		strh	r0, [sp, #2]	@ movhi
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1582              		.loc 1 1043 3 discriminator 3 view .LVU459
 1583 0028 3B68     		ldr	r3, [r7]
 1584 002a 0193     		str	r3, [sp, #4]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1585              		.loc 1 1043 3 discriminator 3 view .LVU460
 1586 002c 0023     		movs	r3, #0
 1587 002e 0293     		str	r3, [sp, #8]
 1588 0030 0393     		str	r3, [sp, #12]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1589              		.loc 1 1043 3 discriminator 3 view .LVU461
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1590              		.loc 1 1044 3 discriminator 3 view .LVU462
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1591              		.loc 1 1044 7 is_stmt 0 discriminator 3 view .LVU463
 1592 0032 2A68     		ldr	r2, [r5]
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1593              		.loc 1 1044 26 discriminator 3 view .LVU464
 1594 0034 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1595              		.loc 1 1044 6 discriminator 3 view .LVU465
 1596 0038 9A42     		cmp	r2, r3
 1597 003a 1BD3     		bcc	.L122
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1598              		.loc 1 1046 10 is_stmt 1 view .LVU466
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1599              		.loc 1 1046 13 is_stmt 0 view .LVU467
 1600 003c 23D9     		bls	.L123
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1601              		.loc 1 1047 5 is_stmt 1 view .LVU468
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1602              		.loc 1 1047 14 is_stmt 0 view .LVU469
 1603 003e 2B60     		str	r3, [r5]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1604              		.loc 1 1026 7 view .LVU470
 1605 0040 0026     		movs	r6, #0
 1606 0042 18E0     		b	.L121
 1607              	.LVL140:
 1608              	.L125:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1609              		.loc 1 1031 3 is_stmt 1 discriminator 1 view .LVU471
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1610              		.loc 1 1031 3 discriminator 1 view .LVU472
 1611 0044 114B     		ldr	r3, .L128
 1612              	.LVL141:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1613              		.loc 1 1031 3 is_stmt 0 discriminator 1 view .LVU473
 1614 0046 40F20742 		movw	r2, #1031
 1615              	.LVL142:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1616              		.loc 1 1031 3 discriminator 1 view .LVU474
 1617 004a 1149     		ldr	r1, .L128+4
 1618              	.LVL143:
ARM GAS  /tmp/cc3tDhb2.s 			page 87


1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1619              		.loc 1 1031 3 discriminator 1 view .LVU475
 1620 004c 1148     		ldr	r0, .L128+8
 1621              	.LVL144:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1622              		.loc 1 1031 3 discriminator 1 view .LVU476
 1623 004e FFF7FEFF 		bl	printf
 1624              	.LVL145:
 1625 0052 DCE7     		b	.L118
 1626              	.L126:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1627              		.loc 1 1032 3 is_stmt 1 discriminator 1 view .LVU477
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1628              		.loc 1 1032 3 discriminator 1 view .LVU478
 1629 0054 0D4B     		ldr	r3, .L128
 1630 0056 4FF48162 		mov	r2, #1032
 1631 005a 0F49     		ldr	r1, .L128+12
 1632 005c 0D48     		ldr	r0, .L128+8
 1633 005e FFF7FEFF 		bl	printf
 1634              	.LVL146:
 1635 0062 D5E7     		b	.L119
 1636              	.L127:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1637              		.loc 1 1033 3 discriminator 1 view .LVU479
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1638              		.loc 1 1033 3 discriminator 1 view .LVU480
 1639 0064 094B     		ldr	r3, .L128
 1640 0066 40F20942 		movw	r2, #1033
 1641 006a 0C49     		ldr	r1, .L128+16
 1642 006c 0948     		ldr	r0, .L128+8
 1643 006e FFF7FEFF 		bl	printf
 1644              	.LVL147:
 1645 0072 CEE7     		b	.L120
 1646              	.L122:
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
 1647              		.loc 1 1045 15 is_stmt 0 view .LVU481
 1648 0074 0126     		movs	r6, #1
 1649              	.L121:
 1650              	.LVL148:
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
 1651              		.loc 1 1049 3 is_stmt 1 view .LVU482
 1652 0076 2A68     		ldr	r2, [r5]
 1653 0078 6946     		mov	r1, sp
 1654 007a 2046     		mov	r0, r4
 1655 007c FFF7FEFF 		bl	memcpy
 1656              	.LVL149:
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1657              		.loc 1 1050 3 view .LVU483
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1658              		.loc 1 1051 1 is_stmt 0 view .LVU484
 1659 0080 3046     		mov	r0, r6
 1660 0082 05B0     		add	sp, sp, #20
 1661              	.LCFI21:
 1662              		.cfi_remember_state
 1663              		.cfi_def_cfa_offset 20
 1664              		@ sp needed
 1665 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  /tmp/cc3tDhb2.s 			page 88


 1666              	.LVL150:
 1667              	.L123:
 1668              	.LCFI22:
 1669              		.cfi_restore_state
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1670              		.loc 1 1026 7 view .LVU485
 1671 0086 0026     		movs	r6, #0
 1672 0088 F5E7     		b	.L121
 1673              	.L129:
 1674 008a 00BF     		.align	2
 1675              	.L128:
 1676 008c 00000000 		.word	.LC0
 1677 0090 00000000 		.word	.LC8
 1678 0094 48000000 		.word	.LC2
 1679 0098 14000000 		.word	.LC9
 1680 009c 24000000 		.word	.LC10
 1681              		.cfi_endproc
 1682              	.LFE177:
 1684              		.section	.text.lwip_recv_tcp_from,"ax",%progbits
 1685              		.align	1
 1686              		.syntax unified
 1687              		.thumb
 1688              		.thumb_func
 1689              		.fpu fpv4-sp-d16
 1691              	lwip_recv_tcp_from:
 1692              	.LVL151:
 1693              	.LFB178:
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1694              		.loc 1 1057 1 is_stmt 1 view -0
 1695              		.cfi_startproc
 1696              		@ args = 8, pretend = 0, frame = 8
 1697              		@ frame_needed = 0, uses_anonymous_args = 0
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1698              		.loc 1 1058 3 view .LVU487
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1699              		.loc 1 1058 6 is_stmt 0 view .LVU488
 1700 0000 C8B1     		cbz	r0, .L132
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1701              		.loc 1 1057 1 view .LVU489
 1702 0002 70B5     		push	{r4, r5, r6, lr}
 1703              	.LCFI23:
 1704              		.cfi_def_cfa_offset 16
 1705              		.cfi_offset 4, -16
 1706              		.cfi_offset 5, -12
 1707              		.cfi_offset 6, -8
 1708              		.cfi_offset 14, -4
 1709 0004 84B0     		sub	sp, sp, #16
 1710              	.LCFI24:
 1711              		.cfi_def_cfa_offset 32
 1712 0006 0C46     		mov	r4, r1
 1713 0008 1546     		mov	r5, r2
 1714 000a 0646     		mov	r6, r0
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
 1715              		.loc 1 1061 3 is_stmt 1 view .LVU490
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
 1716              		.loc 1 1062 3 view .LVU491
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 89


 1717              		.loc 1 1063 3 view .LVU492
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1718              		.loc 1 1066 3 view .LVU493
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1719              		.loc 1 1066 6 is_stmt 0 view .LVU494
 1720 000c A9B1     		cbz	r1, .L133
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1721              		.loc 1 1066 12 discriminator 1 view .LVU495
 1722 000e 12B9     		cbnz	r2, .L139
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1723              		.loc 1 1080 10 view .LVU496
 1724 0010 0020     		movs	r0, #0
 1725              	.LVL152:
 1726              	.L130:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 1727              		.loc 1 1081 1 view .LVU497
 1728 0012 04B0     		add	sp, sp, #16
 1729              	.LCFI25:
 1730              		.cfi_remember_state
 1731              		.cfi_def_cfa_offset 16
 1732              		@ sp needed
 1733 0014 70BD     		pop	{r4, r5, r6, pc}
 1734              	.LVL153:
 1735              	.L139:
 1736              	.LCFI26:
 1737              		.cfi_restore_state
 1738              	.LBB14:
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
 1739              		.loc 1 1070 5 is_stmt 1 view .LVU498
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
 1740              		.loc 1 1071 5 view .LVU499
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1741              		.loc 1 1072 5 view .LVU500
 1742 0016 0023     		movs	r3, #0
 1743              	.LVL154:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1744              		.loc 1 1072 5 is_stmt 0 view .LVU501
 1745 0018 0DF10A02 		add	r2, sp, #10
 1746              	.LVL155:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1747              		.loc 1 1072 5 view .LVU502
 1748 001c 03A9     		add	r1, sp, #12
 1749              	.LVL156:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1750              		.loc 1 1072 5 view .LVU503
 1751 001e 0068     		ldr	r0, [r0]
 1752              	.LVL157:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1753              		.loc 1 1072 5 view .LVU504
 1754 0020 FFF7FEFF 		bl	netconn_getaddr
 1755              	.LVL158:
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
 1756              		.loc 1 1073 66 is_stmt 1 view .LVU505
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
 1757              		.loc 1 1074 52 view .LVU506
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
 1758              		.loc 1 1075 80 view .LVU507
ARM GAS  /tmp/cc3tDhb2.s 			page 90


1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
 1759              		.loc 1 1076 5 view .LVU508
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1760              		.loc 1 1077 7 view .LVU509
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1761              		.loc 1 1077 14 is_stmt 0 view .LVU510
 1762 0024 0095     		str	r5, [sp]
 1763 0026 2346     		mov	r3, r4
 1764 0028 BDF80A20 		ldrh	r2, [sp, #10]
 1765 002c 03A9     		add	r1, sp, #12
 1766 002e 3068     		ldr	r0, [r6]
 1767 0030 FFF7FEFF 		bl	lwip_sock_make_addr
 1768              	.LVL159:
 1769 0034 EDE7     		b	.L130
 1770              	.LVL160:
 1771              	.L132:
 1772              	.LCFI27:
 1773              		.cfi_def_cfa_offset 0
 1774              		.cfi_restore 4
 1775              		.cfi_restore 5
 1776              		.cfi_restore 6
 1777              		.cfi_restore 14
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1778              		.loc 1 1077 14 view .LVU511
 1779              	.LBE14:
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1780              		.loc 1 1059 12 view .LVU512
 1781 0036 0020     		movs	r0, #0
 1782              	.LVL161:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 1783              		.loc 1 1081 1 view .LVU513
 1784 0038 7047     		bx	lr
 1785              	.LVL162:
 1786              	.L133:
 1787              	.LCFI28:
 1788              		.cfi_def_cfa_offset 32
 1789              		.cfi_offset 4, -16
 1790              		.cfi_offset 5, -12
 1791              		.cfi_offset 6, -8
 1792              		.cfi_offset 14, -4
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1793              		.loc 1 1080 10 view .LVU514
 1794 003a 0020     		movs	r0, #0
 1795              	.LVL163:
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1796              		.loc 1 1080 10 view .LVU515
 1797 003c E9E7     		b	.L130
 1798              		.cfi_endproc
 1799              	.LFE178:
 1801              		.section	.text.lwip_getaddrname,"ax",%progbits
 1802              		.align	1
 1803              		.syntax unified
 1804              		.thumb
 1805              		.thumb_func
 1806              		.fpu fpv4-sp-d16
 1808              	lwip_getaddrname:
 1809              	.LVL164:
ARM GAS  /tmp/cc3tDhb2.s 			page 91


 1810              	.LFB201:
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1811              		.loc 1 2701 1 is_stmt 1 view -0
 1812              		.cfi_startproc
 1813              		@ args = 0, pretend = 0, frame = 24
 1814              		@ frame_needed = 0, uses_anonymous_args = 0
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1815              		.loc 1 2701 1 is_stmt 0 view .LVU517
 1816 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1817              	.LCFI29:
 1818              		.cfi_def_cfa_offset 20
 1819              		.cfi_offset 4, -20
 1820              		.cfi_offset 5, -16
 1821              		.cfi_offset 6, -12
 1822              		.cfi_offset 7, -8
 1823              		.cfi_offset 14, -4
 1824 0002 87B0     		sub	sp, sp, #28
 1825              	.LCFI30:
 1826              		.cfi_def_cfa_offset 48
 1827 0004 0E46     		mov	r6, r1
 1828 0006 1446     		mov	r4, r2
 1829 0008 1D46     		mov	r5, r3
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1830              		.loc 1 2702 3 is_stmt 1 view .LVU518
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 1831              		.loc 1 2703 3 view .LVU519
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
 1832              		.loc 1 2704 3 view .LVU520
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 1833              		.loc 1 2705 3 view .LVU521
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1834              		.loc 1 2706 3 view .LVU522
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1835              		.loc 1 2708 3 view .LVU523
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1836              		.loc 1 2708 10 is_stmt 0 view .LVU524
 1837 000a FFF7FEFF 		bl	get_socket
 1838              	.LVL165:
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1839              		.loc 1 2709 3 is_stmt 1 view .LVU525
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1840              		.loc 1 2709 6 is_stmt 0 view .LVU526
 1841 000e 70B3     		cbz	r0, .L145
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1842              		.loc 1 2714 3 is_stmt 1 view .LVU527
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1843              		.loc 1 2714 9 is_stmt 0 view .LVU528
 1844 0010 2B46     		mov	r3, r5
 1845 0012 0DF10202 		add	r2, sp, #2
 1846 0016 01A9     		add	r1, sp, #4
 1847 0018 0068     		ldr	r0, [r0]
 1848              	.LVL166:
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1849              		.loc 1 2714 9 view .LVU529
 1850 001a FFF7FEFF 		bl	netconn_getaddr
 1851              	.LVL167:
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
ARM GAS  /tmp/cc3tDhb2.s 			page 92


 1852              		.loc 1 2715 3 is_stmt 1 view .LVU530
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1853              		.loc 1 2715 6 is_stmt 0 view .LVU531
 1854 001e F0B9     		cbnz	r0, .L147
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1855              		.loc 1 2730 3 is_stmt 1 view .LVU532
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1856              		.loc 1 2730 3 view .LVU533
 1857 0020 1023     		movs	r3, #16
 1858 0022 8DF80830 		strb	r3, [sp, #8]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1859              		.loc 1 2730 3 view .LVU534
 1860 0026 0223     		movs	r3, #2
 1861 0028 8DF80930 		strb	r3, [sp, #9]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1862              		.loc 1 2730 3 view .LVU535
 1863 002c BDF80200 		ldrh	r0, [sp, #2]
 1864              	.LVL168:
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1865              		.loc 1 2730 3 is_stmt 0 view .LVU536
 1866 0030 FFF7FEFF 		bl	lwip_htons
 1867              	.LVL169:
 1868 0034 ADF80A00 		strh	r0, [sp, #10]	@ movhi
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1869              		.loc 1 2730 3 is_stmt 1 view .LVU537
 1870 0038 019B     		ldr	r3, [sp, #4]
 1871 003a 0393     		str	r3, [sp, #12]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1872              		.loc 1 2730 3 view .LVU538
 1873 003c 0023     		movs	r3, #0
 1874 003e 0493     		str	r3, [sp, #16]
 1875 0040 0593     		str	r3, [sp, #20]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1876              		.loc 1 2730 3 view .LVU539
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 1877              		.loc 1 2732 64 view .LVU540
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
 1878              		.loc 1 2733 48 view .LVU541
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1879              		.loc 1 2734 58 view .LVU542
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1880              		.loc 1 2736 3 view .LVU543
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1881              		.loc 1 2736 7 is_stmt 0 view .LVU544
 1882 0042 2268     		ldr	r2, [r4]
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1883              		.loc 1 2736 26 view .LVU545
 1884 0044 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1885              		.loc 1 2736 6 view .LVU546
 1886 0048 9A42     		cmp	r2, r3
 1887 004a 00D9     		bls	.L144
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1888              		.loc 1 2737 5 is_stmt 1 view .LVU547
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1889              		.loc 1 2737 14 is_stmt 0 view .LVU548
 1890 004c 2360     		str	r3, [r4]
ARM GAS  /tmp/cc3tDhb2.s 			page 93


 1891              	.L144:
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1892              		.loc 1 2739 3 is_stmt 1 view .LVU549
 1893 004e 2268     		ldr	r2, [r4]
 1894 0050 02A9     		add	r1, sp, #8
 1895 0052 3046     		mov	r0, r6
 1896 0054 FFF7FEFF 		bl	memcpy
 1897              	.LVL170:
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1898              		.loc 1 2741 3 view .LVU550
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1899              		.loc 1 2741 3 view .LVU551
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1900              		.loc 1 2741 3 view .LVU552
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1901              		.loc 1 2741 3 view .LVU553
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1902              		.loc 1 2741 3 view .LVU554
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1903              		.loc 1 2741 3 view .LVU555
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 1904              		.loc 1 2742 20 view .LVU556
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1905              		.loc 1 2743 3 view .LVU557
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1906              		.loc 1 2743 10 is_stmt 0 view .LVU558
 1907 0058 0020     		movs	r0, #0
 1908              	.LVL171:
 1909              	.L140:
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1910              		.loc 1 2744 1 view .LVU559
 1911 005a 07B0     		add	sp, sp, #28
 1912              	.LCFI31:
 1913              		.cfi_remember_state
 1914              		.cfi_def_cfa_offset 20
 1915              		@ sp needed
 1916 005c F0BD     		pop	{r4, r5, r6, r7, pc}
 1917              	.LVL172:
 1918              	.L147:
 1919              	.LCFI32:
 1920              		.cfi_restore_state
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1921              		.loc 1 2716 5 is_stmt 1 view .LVU560
 1922              	.LBB15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1923              		.loc 1 2716 5 view .LVU561
 1924 005e FFF7FEFF 		bl	err_to_errno
 1925              	.LVL173:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1926              		.loc 1 2716 5 view .LVU562
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1927              		.loc 1 2716 5 view .LVU563
 1928 0062 08B1     		cbz	r0, .L143
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1929              		.loc 1 2716 5 discriminator 1 view .LVU564
 1930 0064 034A     		ldr	r2, .L148
 1931 0066 1060     		str	r0, [r2]
ARM GAS  /tmp/cc3tDhb2.s 			page 94


 1932              	.L143:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1933              		.loc 1 2716 5 discriminator 3 view .LVU565
 1934              	.LBE15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1935              		.loc 1 2716 5 discriminator 3 view .LVU566
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1936              		.loc 1 2717 22 discriminator 3 view .LVU567
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1937              		.loc 1 2718 5 discriminator 3 view .LVU568
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1938              		.loc 1 2718 12 is_stmt 0 discriminator 3 view .LVU569
 1939 0068 4FF0FF30 		mov	r0, #-1
 1940              	.LVL174:
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1941              		.loc 1 2718 12 discriminator 3 view .LVU570
 1942 006c F5E7     		b	.L140
 1943              	.LVL175:
 1944              	.L145:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1945              		.loc 1 2710 12 view .LVU571
 1946 006e 4FF0FF30 		mov	r0, #-1
 1947              	.LVL176:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1948              		.loc 1 2710 12 view .LVU572
 1949 0072 F2E7     		b	.L140
 1950              	.L149:
 1951              		.align	2
 1952              	.L148:
 1953 0074 00000000 		.word	errno
 1954              		.cfi_endproc
 1955              	.LFE201:
 1957              		.section	.text.free_socket_free_elements,"ax",%progbits
 1958              		.align	1
 1959              		.syntax unified
 1960              		.thumb
 1961              		.thumb_func
 1962              		.fpu fpv4-sp-d16
 1964              	free_socket_free_elements:
 1965              	.LVL177:
 1966              	.LFB169:
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 1967              		.loc 1 573 1 is_stmt 1 view -0
 1968              		.cfi_startproc
 1969              		@ args = 0, pretend = 0, frame = 0
 1970              		@ frame_needed = 0, uses_anonymous_args = 0
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 1971              		.loc 1 573 1 is_stmt 0 view .LVU574
 1972 0000 10B5     		push	{r4, lr}
 1973              	.LCFI33:
 1974              		.cfi_def_cfa_offset 8
 1975              		.cfi_offset 4, -8
 1976              		.cfi_offset 14, -4
 1977 0002 0346     		mov	r3, r0
 1978 0004 0C46     		mov	r4, r1
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1979              		.loc 1 574 3 is_stmt 1 view .LVU575
ARM GAS  /tmp/cc3tDhb2.s 			page 95


 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1980              		.loc 1 574 15 is_stmt 0 view .LVU576
 1981 0006 1068     		ldr	r0, [r2]
 1982              	.LVL178:
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1983              		.loc 1 574 6 view .LVU577
 1984 0008 10B1     		cbz	r0, .L151
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 1985              		.loc 1 575 5 is_stmt 1 view .LVU578
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 1986              		.loc 1 575 8 is_stmt 0 view .LVU579
 1987 000a 33B1     		cbz	r3, .L152
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 1988              		.loc 1 576 7 is_stmt 1 view .LVU580
 1989 000c FFF7FEFF 		bl	pbuf_free
 1990              	.LVL179:
 1991              	.L151:
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 1992              		.loc 1 581 3 view .LVU581
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 1993              		.loc 1 581 6 is_stmt 0 view .LVU582
 1994 0010 14B1     		cbz	r4, .L150
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1995              		.loc 1 583 5 is_stmt 1 view .LVU583
 1996 0012 2046     		mov	r0, r4
 1997 0014 FFF7FEFF 		bl	netconn_delete
 1998              	.LVL180:
 1999              	.L150:
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2000              		.loc 1 585 1 is_stmt 0 view .LVU584
 2001 0018 10BD     		pop	{r4, pc}
 2002              	.LVL181:
 2003              	.L152:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2004              		.loc 1 578 7 is_stmt 1 view .LVU585
 2005 001a FFF7FEFF 		bl	netbuf_delete
 2006              	.LVL182:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2007              		.loc 1 578 7 is_stmt 0 view .LVU586
 2008 001e F7E7     		b	.L151
 2009              		.cfi_endproc
 2010              	.LFE169:
 2012              		.section	.text.free_socket,"ax",%progbits
 2013              		.align	1
 2014              		.syntax unified
 2015              		.thumb
 2016              		.thumb_func
 2017              		.fpu fpv4-sp-d16
 2019              	free_socket:
 2020              	.LVL183:
 2021              	.LFB170:
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 2022              		.loc 1 595 1 is_stmt 1 view -0
 2023              		.cfi_startproc
 2024              		@ args = 0, pretend = 0, frame = 8
 2025              		@ frame_needed = 0, uses_anonymous_args = 0
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
ARM GAS  /tmp/cc3tDhb2.s 			page 96


 2026              		.loc 1 595 1 is_stmt 0 view .LVU588
 2027 0000 70B5     		push	{r4, r5, r6, lr}
 2028              	.LCFI34:
 2029              		.cfi_def_cfa_offset 16
 2030              		.cfi_offset 4, -16
 2031              		.cfi_offset 5, -12
 2032              		.cfi_offset 6, -8
 2033              		.cfi_offset 14, -4
 2034 0002 82B0     		sub	sp, sp, #8
 2035              	.LCFI35:
 2036              		.cfi_def_cfa_offset 24
 2037 0004 0546     		mov	r5, r0
 2038 0006 0C46     		mov	r4, r1
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 2039              		.loc 1 596 3 is_stmt 1 view .LVU589
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 2040              		.loc 1 597 3 view .LVU590
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 2041              		.loc 1 598 3 view .LVU591
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2042              		.loc 1 599 3 view .LVU592
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2043              		.loc 1 602 3 view .LVU593
 2044 0008 FFF7FEFF 		bl	sys_arch_protect
 2045              	.LVL184:
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2046              		.loc 1 602 3 is_stmt 0 view .LVU594
 2047 000c 0646     		mov	r6, r0
 2048              	.LVL185:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2049              		.loc 1 604 3 is_stmt 1 view .LVU595
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2050              		.loc 1 604 11 is_stmt 0 view .LVU596
 2051 000e 6B46     		mov	r3, sp
 2052 0010 01AA     		add	r2, sp, #4
 2053 0012 2146     		mov	r1, r4
 2054 0014 2846     		mov	r0, r5
 2055              	.LVL186:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2056              		.loc 1 604 11 view .LVU597
 2057 0016 FFF7FEFF 		bl	free_socket_locked
 2058              	.LVL187:
 2059 001a 0546     		mov	r5, r0
 2060              	.LVL188:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2061              		.loc 1 605 3 is_stmt 1 view .LVU598
 2062 001c 3046     		mov	r0, r6
 2063              	.LVL189:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2064              		.loc 1 605 3 is_stmt 0 view .LVU599
 2065 001e FFF7FEFF 		bl	sys_arch_unprotect
 2066              	.LVL190:
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2067              		.loc 1 608 3 is_stmt 1 view .LVU600
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2068              		.loc 1 608 6 is_stmt 0 view .LVU601
 2069 0022 0DB9     		cbnz	r5, .L158
ARM GAS  /tmp/cc3tDhb2.s 			page 97


 2070              	.L155:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2071              		.loc 1 611 1 view .LVU602
 2072 0024 02B0     		add	sp, sp, #8
 2073              	.LCFI36:
 2074              		.cfi_remember_state
 2075              		.cfi_def_cfa_offset 16
 2076              		@ sp needed
 2077 0026 70BD     		pop	{r4, r5, r6, pc}
 2078              	.LVL191:
 2079              	.L158:
 2080              	.LCFI37:
 2081              		.cfi_restore_state
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2082              		.loc 1 609 5 is_stmt 1 view .LVU603
 2083 0028 6A46     		mov	r2, sp
 2084 002a 0199     		ldr	r1, [sp, #4]
 2085 002c 2046     		mov	r0, r4
 2086 002e FFF7FEFF 		bl	free_socket_free_elements
 2087              	.LVL192:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2088              		.loc 1 611 1 is_stmt 0 view .LVU604
 2089 0032 F7E7     		b	.L155
 2090              		.cfi_endproc
 2091              	.LFE170:
 2093              		.section	.rodata.lwip_recv_tcp.str1.4,"aMS",%progbits,1
 2094              		.align	2
 2095              	.LC11:
 2096 0000 6E6F2073 		.ascii	"no socket given\000"
 2096      6F636B65 
 2096      74206769 
 2096      76656E00 
 2097              		.align	2
 2098              	.LC12:
 2099 0010 74686973 		.ascii	"this should be checked internally\000"
 2099      2073686F 
 2099      756C6420 
 2099      62652063 
 2099      6865636B 
 2100 0032 0000     		.align	2
 2101              	.LC13:
 2102 0034 7020213D 		.ascii	"p != NULL\000"
 2102      204E554C 
 2102      4C00
 2103 003e 0000     		.align	2
 2104              	.LC14:
 2105 0040 696E7661 		.ascii	"invalid copylen, len would underflow\000"
 2105      6C696420 
 2105      636F7079 
 2105      6C656E2C 
 2105      206C656E 
 2106 0065 000000   		.align	2
 2107              	.LC15:
 2108 0068 696E7661 		.ascii	"invalid copylen\000"
 2108      6C696420 
 2108      636F7079 
 2108      6C656E00 
ARM GAS  /tmp/cc3tDhb2.s 			page 98


 2109              		.section	.text.lwip_recv_tcp,"ax",%progbits
 2110              		.align	1
 2111              		.syntax unified
 2112              		.thumb
 2113              		.thumb_func
 2114              		.fpu fpv4-sp-d16
 2116              	lwip_recv_tcp:
 2117              	.LVL193:
 2118              	.LFB176:
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2119              		.loc 1 921 1 is_stmt 1 view -0
 2120              		.cfi_startproc
 2121              		@ args = 0, pretend = 0, frame = 16
 2122              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2123              		.loc 1 921 1 is_stmt 0 view .LVU606
 2124 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2125              	.LCFI38:
 2126              		.cfi_def_cfa_offset 36
 2127              		.cfi_offset 4, -36
 2128              		.cfi_offset 5, -32
 2129              		.cfi_offset 6, -28
 2130              		.cfi_offset 7, -24
 2131              		.cfi_offset 8, -20
 2132              		.cfi_offset 9, -16
 2133              		.cfi_offset 10, -12
 2134              		.cfi_offset 11, -8
 2135              		.cfi_offset 14, -4
 2136 0004 85B0     		sub	sp, sp, #20
 2137              	.LCFI39:
 2138              		.cfi_def_cfa_offset 56
 2139 0006 8146     		mov	r9, r0
 2140 0008 0191     		str	r1, [sp, #4]
 2141 000a 9846     		mov	r8, r3
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2142              		.loc 1 922 3 is_stmt 1 view .LVU607
 2143              	.LVL194:
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 2144              		.loc 1 923 3 view .LVU608
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2145              		.loc 1 924 3 view .LVU609
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2146              		.loc 1 924 28 is_stmt 0 view .LVU610
 2147 000c 1546     		mov	r5, r2
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2148              		.loc 1 924 57 view .LVU611
 2149 000e 002A     		cmp	r2, #0
 2150 0010 10DB     		blt	.L184
 2151              	.L160:
 2152              	.LVL195:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2153              		.loc 1 926 3 is_stmt 1 discriminator 4 view .LVU612
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2154              		.loc 1 926 3 discriminator 4 view .LVU613
 2155 0012 B9F1000F 		cmp	r9, #0
 2156 0016 10D0     		beq	.L185
 2157              	.LVL196:
ARM GAS  /tmp/cc3tDhb2.s 			page 99


 2158              	.L161:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2159              		.loc 1 926 3 discriminator 3 view .LVU614
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2160              		.loc 1 926 3 discriminator 3 view .LVU615
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2161              		.loc 1 927 3 discriminator 3 view .LVU616
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2162              		.loc 1 927 3 discriminator 3 view .LVU617
 2163 0018 D9F80030 		ldr	r3, [r9]
 2164 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2165 001e 03F0F003 		and	r3, r3, #240
 2166 0022 102B     		cmp	r3, #16
 2167 0024 11D1     		bne	.L186
 2168              	.L162:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2169              		.loc 1 927 3 discriminator 3 view .LVU618
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2170              		.loc 1 927 3 discriminator 3 view .LVU619
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2171              		.loc 1 929 3 discriminator 3 view .LVU620
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2172              		.loc 1 929 6 is_stmt 0 discriminator 3 view .LVU621
 2173 0026 18F0080F 		tst	r8, #8
 2174 002a 16D1     		bne	.L181
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2175              		.loc 1 922 8 view .LVU622
 2176 002c 4FF0080A 		mov	r10, #8
 2177              	.L163:
 2178              	.LVL197:
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2179              		.loc 1 922 8 view .LVU623
 2180 0030 0026     		movs	r6, #0
 2181 0032 5FE0     		b	.L180
 2182              	.LVL198:
 2183              	.L184:
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2184              		.loc 1 924 57 view .LVU624
 2185 0034 6FF00045 		mvn	r5, #-2147483648
 2186 0038 EBE7     		b	.L160
 2187              	.LVL199:
 2188              	.L185:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2189              		.loc 1 926 3 is_stmt 1 discriminator 1 view .LVU625
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2190              		.loc 1 926 3 discriminator 1 view .LVU626
 2191 003a 474B     		ldr	r3, .L192
 2192              	.LVL200:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2193              		.loc 1 926 3 is_stmt 0 discriminator 1 view .LVU627
 2194 003c 40F29E32 		movw	r2, #926
 2195              	.LVL201:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2196              		.loc 1 926 3 discriminator 1 view .LVU628
 2197 0040 4649     		ldr	r1, .L192+4
 2198              	.LVL202:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
ARM GAS  /tmp/cc3tDhb2.s 			page 100


 2199              		.loc 1 926 3 discriminator 1 view .LVU629
 2200 0042 4748     		ldr	r0, .L192+8
 2201              	.LVL203:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2202              		.loc 1 926 3 discriminator 1 view .LVU630
 2203 0044 FFF7FEFF 		bl	printf
 2204              	.LVL204:
 2205 0048 E6E7     		b	.L161
 2206              	.L186:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2207              		.loc 1 927 3 is_stmt 1 discriminator 1 view .LVU631
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2208              		.loc 1 927 3 discriminator 1 view .LVU632
 2209 004a 434B     		ldr	r3, .L192
 2210 004c 40F29F32 		movw	r2, #927
 2211 0050 4449     		ldr	r1, .L192+12
 2212 0052 4348     		ldr	r0, .L192+8
 2213 0054 FFF7FEFF 		bl	printf
 2214              	.LVL205:
 2215 0058 E5E7     		b	.L162
 2216              	.L181:
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2217              		.loc 1 930 14 is_stmt 0 view .LVU633
 2218 005a 4FF00C0A 		mov	r10, #12
 2219 005e E7E7     		b	.L163
 2220              	.LVL206:
 2221              	.L164:
 2222              	.LBB16:
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2223              		.loc 1 945 7 is_stmt 1 view .LVU634
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2224              		.loc 1 945 13 is_stmt 0 view .LVU635
 2225 0060 5246     		mov	r2, r10
 2226 0062 03A9     		add	r1, sp, #12
 2227 0064 D9F80000 		ldr	r0, [r9]
 2228 0068 FFF7FEFF 		bl	netconn_recv_tcp_pbuf_flags
 2229              	.LVL207:
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2230              		.loc 1 947 51 is_stmt 1 view .LVU636
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2231              		.loc 1 949 7 view .LVU637
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2232              		.loc 1 949 10 is_stmt 0 view .LVU638
 2233 006c 0446     		mov	r4, r0
 2234 006e 28B9     		cbnz	r0, .L187
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2235              		.loc 1 965 7 is_stmt 1 view .LVU639
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2236              		.loc 1 965 7 view .LVU640
 2237 0070 039B     		ldr	r3, [sp, #12]
 2238 0072 DBB1     		cbz	r3, .L188
 2239              	.LVL208:
 2240              	.L172:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2241              		.loc 1 965 7 discriminator 3 view .LVU641
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2242              		.loc 1 965 7 discriminator 3 view .LVU642
ARM GAS  /tmp/cc3tDhb2.s 			page 101


 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2243              		.loc 1 966 7 discriminator 3 view .LVU643
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2244              		.loc 1 966 27 is_stmt 0 discriminator 3 view .LVU644
 2245 0074 039B     		ldr	r3, [sp, #12]
 2246 0076 C9F80430 		str	r3, [r9, #4]
 2247 007a 40E0     		b	.L165
 2248              	.LVL209:
 2249              	.L187:
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2250              		.loc 1 950 9 is_stmt 1 view .LVU645
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2251              		.loc 1 950 12 is_stmt 0 view .LVU646
 2252 007c 002E     		cmp	r6, #0
 2253 007e 0ADD     		ble	.L167
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2254              		.loc 1 953 11 is_stmt 1 view .LVU647
 2255 0080 B346     		mov	fp, r6
 2256              	.LVL210:
 2257              	.L168:
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2258              		.loc 1 953 11 is_stmt 0 view .LVU648
 2259              	.LBE16:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2260              		.loc 1 1012 3 is_stmt 1 view .LVU649
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2261              		.loc 1 1012 6 is_stmt 0 view .LVU650
 2262 0082 BBF1000F 		cmp	fp, #0
 2263 0086 02DD     		ble	.L159
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2264              		.loc 1 1012 19 discriminator 1 view .LVU651
 2265 0088 18F0010F 		tst	r8, #1
 2266 008c 5DD0     		beq	.L189
 2267              	.LVL211:
 2268              	.L159:
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 2269              		.loc 1 1018 1 view .LVU652
 2270 008e 5846     		mov	r0, fp
 2271 0090 05B0     		add	sp, sp, #20
 2272              	.LCFI40:
 2273              		.cfi_remember_state
 2274              		.cfi_def_cfa_offset 36
 2275              		@ sp needed
 2276 0092 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2277              	.LVL212:
 2278              	.L167:
 2279              	.LCFI41:
 2280              		.cfi_restore_state
 2281              	.LBB18:
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 2282              		.loc 1 957 55 is_stmt 1 view .LVU653
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2283              		.loc 1 958 9 view .LVU654
 2284              	.LBB17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2285              		.loc 1 958 9 view .LVU655
 2286 0096 FFF7FEFF 		bl	err_to_errno
ARM GAS  /tmp/cc3tDhb2.s 			page 102


 2287              	.LVL213:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2288              		.loc 1 958 9 view .LVU656
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2289              		.loc 1 958 9 view .LVU657
 2290 009a 08B1     		cbz	r0, .L169
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2291              		.loc 1 958 9 discriminator 1 view .LVU658
 2292 009c 324A     		ldr	r2, .L192+16
 2293 009e 1060     		str	r0, [r2]
 2294              	.L169:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2295              		.loc 1 958 9 discriminator 3 view .LVU659
 2296              	.LBE17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2297              		.loc 1 958 9 discriminator 3 view .LVU660
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2298              		.loc 1 959 9 discriminator 3 view .LVU661
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2299              		.loc 1 959 12 is_stmt 0 discriminator 3 view .LVU662
 2300 00a0 14F10F0F 		cmn	r4, #15
 2301 00a4 4ED0     		beq	.L170
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2302              		.loc 1 962 18 view .LVU663
 2303 00a6 4FF0FF3B 		mov	fp, #-1
 2304 00aa F0E7     		b	.L159
 2305              	.LVL214:
 2306              	.L188:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2307              		.loc 1 965 7 is_stmt 1 discriminator 1 view .LVU664
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2308              		.loc 1 965 7 discriminator 1 view .LVU665
 2309 00ac 2A4B     		ldr	r3, .L192
 2310 00ae 40F2C532 		movw	r2, #965
 2311 00b2 2E49     		ldr	r1, .L192+20
 2312 00b4 2A48     		ldr	r0, .L192+8
 2313              	.LVL215:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2314              		.loc 1 965 7 is_stmt 0 discriminator 1 view .LVU666
 2315 00b6 FFF7FEFF 		bl	printf
 2316              	.LVL216:
 2317 00ba DBE7     		b	.L172
 2318              	.LVL217:
 2319              	.L190:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2320              		.loc 1 989 5 is_stmt 1 discriminator 1 view .LVU667
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2321              		.loc 1 989 5 discriminator 1 view .LVU668
 2322 00bc 264B     		ldr	r3, .L192
 2323 00be 40F2DD32 		movw	r2, #989
 2324 00c2 2B49     		ldr	r1, .L192+24
 2325 00c4 2648     		ldr	r0, .L192+8
 2326 00c6 FFF7FEFF 		bl	printf
 2327              	.LVL218:
 2328 00ca 28E0     		b	.L174
 2329              	.L191:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
ARM GAS  /tmp/cc3tDhb2.s 			page 103


 2330              		.loc 1 995 7 discriminator 1 view .LVU669
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2331              		.loc 1 995 7 discriminator 1 view .LVU670
 2332 00cc 224B     		ldr	r3, .L192
 2333 00ce 40F2E332 		movw	r2, #995
 2334 00d2 2849     		ldr	r1, .L192+28
 2335 00d4 2248     		ldr	r0, .L192+8
 2336 00d6 FFF7FEFF 		bl	printf
 2337              	.LVL219:
 2338 00da 28E0     		b	.L176
 2339              	.L177:
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2340              		.loc 1 1002 9 view .LVU671
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2341              		.loc 1 1002 29 is_stmt 0 view .LVU672
 2342 00dc 0023     		movs	r3, #0
 2343 00de C9F80430 		str	r3, [r9, #4]
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
 2344              		.loc 1 1003 85 is_stmt 1 view .LVU673
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2345              		.loc 1 1004 9 view .LVU674
 2346 00e2 FFF7FEFF 		bl	pbuf_free
 2347              	.LVL220:
 2348              	.L175:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2349              		.loc 1 1008 5 view .LVU675
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2350              		.loc 1 1008 14 is_stmt 0 view .LVU676
 2351 00e6 4AF0140A 		orr	r10, r10, #20
 2352              	.LVL221:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2353              		.loc 1 1008 14 view .LVU677
 2354              	.LBE18:
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2355              		.loc 1 1010 11 is_stmt 1 view .LVU678
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2356              		.loc 1 1010 3 is_stmt 0 view .LVU679
 2357 00ea 002D     		cmp	r5, #0
 2358 00ec C9DD     		ble	.L168
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2359              		.loc 1 1010 28 discriminator 1 view .LVU680
 2360 00ee 002E     		cmp	r6, #0
 2361 00f0 C7D1     		bne	.L168
 2362              	.LBB19:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2363              		.loc 1 986 11 view .LVU681
 2364 00f2 5E46     		mov	r6, fp
 2365              	.LVL222:
 2366              	.L180:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2367              		.loc 1 986 11 view .LVU682
 2368              	.LBE19:
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
 2369              		.loc 1 933 3 is_stmt 1 view .LVU683
 2370              	.LBB20:
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 2371              		.loc 1 934 5 view .LVU684
ARM GAS  /tmp/cc3tDhb2.s 			page 104


 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 2372              		.loc 1 935 5 view .LVU685
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2373              		.loc 1 936 5 view .LVU686
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 2374              		.loc 1 938 110 view .LVU687
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2375              		.loc 1 940 5 view .LVU688
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2376              		.loc 1 940 23 is_stmt 0 view .LVU689
 2377 00f4 D9F80430 		ldr	r3, [r9, #4]
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2378              		.loc 1 940 8 view .LVU690
 2379 00f8 002B     		cmp	r3, #0
 2380 00fa B1D0     		beq	.L164
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2381              		.loc 1 941 7 is_stmt 1 view .LVU691
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2382              		.loc 1 941 9 is_stmt 0 view .LVU692
 2383 00fc 0393     		str	r3, [sp, #12]
 2384              	.L165:
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2385              		.loc 1 970 73 is_stmt 1 view .LVU693
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2386              		.loc 1 972 5 view .LVU694
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2387              		.loc 1 972 22 is_stmt 0 view .LVU695
 2388 00fe 0398     		ldr	r0, [sp, #12]
 2389 0100 0489     		ldrh	r4, [r0, #8]
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2390              		.loc 1 972 8 view .LVU696
 2391 0102 AC42     		cmp	r4, r5
 2392 0104 00DB     		blt	.L173
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2393              		.loc 1 975 7 is_stmt 1 view .LVU697
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2394              		.loc 1 975 15 is_stmt 0 view .LVU698
 2395 0106 ACB2     		uxth	r4, r5
 2396              	.LVL223:
 2397              	.L173:
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2398              		.loc 1 977 5 is_stmt 1 view .LVU699
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2399              		.loc 1 977 15 is_stmt 0 view .LVU700
 2400 0108 2746     		mov	r7, r4
 2401 010a 04EB060B 		add	fp, r4, r6
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2402              		.loc 1 984 5 is_stmt 1 view .LVU701
 2403 010e 0023     		movs	r3, #0
 2404 0110 2246     		mov	r2, r4
 2405 0112 0199     		ldr	r1, [sp, #4]
 2406 0114 3144     		add	r1, r1, r6
 2407 0116 FFF7FEFF 		bl	pbuf_copy_partial
 2408              	.LVL224:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2409              		.loc 1 986 5 view .LVU702
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
ARM GAS  /tmp/cc3tDhb2.s 			page 105


 2410              		.loc 1 989 5 view .LVU703
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2411              		.loc 1 989 5 view .LVU704
 2412 011a AC42     		cmp	r4, r5
 2413 011c CEDC     		bgt	.L190
 2414              	.L174:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2415              		.loc 1 989 5 discriminator 3 view .LVU705
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2416              		.loc 1 989 5 discriminator 3 view .LVU706
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2417              		.loc 1 990 5 discriminator 3 view .LVU707
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2418              		.loc 1 990 15 is_stmt 0 discriminator 3 view .LVU708
 2419 011e ED1B     		subs	r5, r5, r7
 2420              	.LVL225:
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2421              		.loc 1 993 5 is_stmt 1 discriminator 3 view .LVU709
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2422              		.loc 1 993 8 is_stmt 0 discriminator 3 view .LVU710
 2423 0120 18F00106 		ands	r6, r8, #1
 2424 0124 DFD1     		bne	.L175
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2425              		.loc 1 995 7 is_stmt 1 view .LVU711
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2426              		.loc 1 995 7 view .LVU712
 2427 0126 039B     		ldr	r3, [sp, #12]
 2428 0128 1B89     		ldrh	r3, [r3, #8]
 2429 012a A342     		cmp	r3, r4
 2430 012c CED3     		bcc	.L191
 2431              	.L176:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2432              		.loc 1 995 7 discriminator 3 view .LVU713
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2433              		.loc 1 995 7 discriminator 3 view .LVU714
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2434              		.loc 1 996 7 discriminator 3 view .LVU715
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2435              		.loc 1 996 12 is_stmt 0 discriminator 3 view .LVU716
 2436 012e 0398     		ldr	r0, [sp, #12]
 2437 0130 0389     		ldrh	r3, [r0, #8]
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2438              		.loc 1 996 22 discriminator 3 view .LVU717
 2439 0132 DF1B     		subs	r7, r3, r7
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2440              		.loc 1 996 10 discriminator 3 view .LVU718
 2441 0134 002F     		cmp	r7, #0
 2442 0136 D1DD     		ble	.L177
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2443              		.loc 1 999 9 is_stmt 1 view .LVU719
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2444              		.loc 1 999 31 is_stmt 0 view .LVU720
 2445 0138 2146     		mov	r1, r4
 2446 013a FFF7FEFF 		bl	pbuf_free_header
 2447              	.LVL226:
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2448              		.loc 1 999 29 view .LVU721
ARM GAS  /tmp/cc3tDhb2.s 			page 106


 2449 013e C9F80400 		str	r0, [r9, #4]
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 2450              		.loc 1 1000 107 is_stmt 1 view .LVU722
 2451 0142 D0E7     		b	.L175
 2452              	.LVL227:
 2453              	.L170:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2454              		.loc 1 960 18 is_stmt 0 view .LVU723
 2455 0144 4FF0000B 		mov	fp, #0
 2456 0148 A1E7     		b	.L159
 2457              	.LVL228:
 2458              	.L189:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2459              		.loc 1 960 18 view .LVU724
 2460              	.LBE20:
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2461              		.loc 1 1014 5 is_stmt 1 view .LVU725
 2462 014a 5946     		mov	r1, fp
 2463 014c D9F80000 		ldr	r0, [r9]
 2464 0150 FFF7FEFF 		bl	netconn_tcp_recvd
 2465              	.LVL229:
 2466 0154 9BE7     		b	.L159
 2467              	.L193:
 2468 0156 00BF     		.align	2
 2469              	.L192:
 2470 0158 00000000 		.word	.LC0
 2471 015c 00000000 		.word	.LC11
 2472 0160 48000000 		.word	.LC2
 2473 0164 10000000 		.word	.LC12
 2474 0168 00000000 		.word	errno
 2475 016c 34000000 		.word	.LC13
 2476 0170 40000000 		.word	.LC14
 2477 0174 68000000 		.word	.LC15
 2478              		.cfi_endproc
 2479              	.LFE176:
 2481              		.section	.rodata.lwip_recvfrom_udp_raw.str1.4,"aMS",%progbits,1
 2482              		.align	2
 2483              	.LC16:
 2484 0000 6C776970 		.ascii	"lwip_recvfrom_udp_raw: invalid arguments\000"
 2484      5F726563 
 2484      7666726F 
 2484      6D5F7564 
 2484      705F7261 
 2485 0029 000000   		.align	2
 2486              	.LC17:
 2487 002c 62756620 		.ascii	"buf != NULL\000"
 2487      213D204E 
 2487      554C4C00 
 2488              		.section	.text.lwip_recvfrom_udp_raw,"ax",%progbits
 2489              		.align	1
 2490              		.syntax unified
 2491              		.thumb
 2492              		.thumb_func
 2493              		.fpu fpv4-sp-d16
 2495              	lwip_recvfrom_udp_raw:
 2496              	.LVL230:
 2497              	.LFB179:
ARM GAS  /tmp/cc3tDhb2.s 			page 107


1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2498              		.loc 1 1089 1 view -0
 2499              		.cfi_startproc
 2500              		@ args = 4, pretend = 0, frame = 8
 2501              		@ frame_needed = 0, uses_anonymous_args = 0
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2502              		.loc 1 1089 1 is_stmt 0 view .LVU727
 2503 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2504              	.LCFI42:
 2505              		.cfi_def_cfa_offset 36
 2506              		.cfi_offset 4, -36
 2507              		.cfi_offset 5, -32
 2508              		.cfi_offset 6, -28
 2509              		.cfi_offset 7, -24
 2510              		.cfi_offset 8, -20
 2511              		.cfi_offset 9, -16
 2512              		.cfi_offset 10, -12
 2513              		.cfi_offset 11, -8
 2514              		.cfi_offset 14, -4
 2515 0004 85B0     		sub	sp, sp, #20
 2516              	.LCFI43:
 2517              		.cfi_def_cfa_offset 56
 2518 0006 8146     		mov	r9, r0
 2519 0008 8846     		mov	r8, r1
 2520 000a 1646     		mov	r6, r2
 2521 000c 9A46     		mov	r10, r3
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
 2522              		.loc 1 1090 3 is_stmt 1 view .LVU728
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 2523              		.loc 1 1091 3 view .LVU729
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
 2524              		.loc 1 1092 3 view .LVU730
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 2525              		.loc 1 1093 3 view .LVU731
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2526              		.loc 1 1094 3 view .LVU732
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
 2527              		.loc 1 1096 3 view .LVU733
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2528              		.loc 1 1097 3 view .LVU734
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2529              		.loc 1 1097 3 view .LVU735
 2530 000e 9368     		ldr	r3, [r2, #8]
 2531              	.LVL231:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2532              		.loc 1 1097 3 is_stmt 0 view .LVU736
 2533 0010 6BB1     		cbz	r3, .L210
 2534              	.L195:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2535              		.loc 1 1097 3 is_stmt 1 discriminator 4 view .LVU737
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2536              		.loc 1 1097 3 discriminator 4 view .LVU738
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2537              		.loc 1 1099 3 discriminator 4 view .LVU739
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2538              		.loc 1 1099 6 is_stmt 0 discriminator 4 view .LVU740
 2539 0012 18F0080F 		tst	r8, #8
ARM GAS  /tmp/cc3tDhb2.s 			page 108


 2540 0016 17D0     		beq	.L207
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 2541              		.loc 1 1100 14 view .LVU741
 2542 0018 0422     		movs	r2, #4
 2543              	.LVL232:
 2544              	.L197:
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
 2545              		.loc 1 1105 121 is_stmt 1 view .LVU742
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2546              		.loc 1 1107 3 view .LVU743
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2547              		.loc 1 1107 23 is_stmt 0 view .LVU744
 2548 001a D9F80430 		ldr	r3, [r9, #4]
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2549              		.loc 1 1107 7 view .LVU745
 2550 001e 0393     		str	r3, [sp, #12]
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2551              		.loc 1 1108 3 is_stmt 1 view .LVU746
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2552              		.loc 1 1108 6 is_stmt 0 view .LVU747
 2553 0020 A3B1     		cbz	r3, .L211
 2554              	.LVL233:
 2555              	.L198:
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2556              		.loc 1 1121 3 is_stmt 1 view .LVU748
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2557              		.loc 1 1121 15 is_stmt 0 view .LVU749
 2558 0022 039B     		ldr	r3, [sp, #12]
 2559 0024 1B68     		ldr	r3, [r3]
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2560              		.loc 1 1121 10 view .LVU750
 2561 0026 1F89     		ldrh	r7, [r3, #8]
 2562              	.LVL234:
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2563              		.loc 1 1122 83 is_stmt 1 view .LVU751
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2564              		.loc 1 1124 3 view .LVU752
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2565              		.loc 1 1126 3 view .LVU753
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2566              		.loc 1 1126 10 is_stmt 0 view .LVU754
 2567 0028 0025     		movs	r5, #0
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2568              		.loc 1 1124 10 view .LVU755
 2569 002a AB46     		mov	fp, r5
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2570              		.loc 1 1126 3 view .LVU756
 2571 002c 2EE0     		b	.L200
 2572              	.LVL235:
 2573              	.L210:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2574              		.loc 1 1097 3 discriminator 1 view .LVU757
 2575 002e D368     		ldr	r3, [r2, #12]
 2576 0030 002B     		cmp	r3, #0
 2577 0032 EEDD     		ble	.L195
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2578              		.loc 1 1097 3 is_stmt 1 discriminator 3 view .LVU758
ARM GAS  /tmp/cc3tDhb2.s 			page 109


1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2579              		.loc 1 1097 3 discriminator 3 view .LVU759
 2580 0034 324B     		ldr	r3, .L215
 2581 0036 40F24942 		movw	r2, #1097
 2582              	.LVL236:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2583              		.loc 1 1097 3 is_stmt 0 discriminator 3 view .LVU760
 2584 003a 3249     		ldr	r1, .L215+4
 2585              	.LVL237:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2586              		.loc 1 1097 3 discriminator 3 view .LVU761
 2587 003c 3248     		ldr	r0, .L215+8
 2588              	.LVL238:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2589              		.loc 1 1097 3 discriminator 3 view .LVU762
 2590 003e FFF7FEFF 		bl	printf
 2591              	.LVL239:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2592              		.loc 1 1097 3 is_stmt 1 discriminator 3 view .LVU763
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2593              		.loc 1 1097 3 discriminator 3 view .LVU764
 2594 0042 6FF00F00 		mvn	r0, #15
 2595 0046 45E0     		b	.L196
 2596              	.LVL240:
 2597              	.L207:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2598              		.loc 1 1102 14 is_stmt 0 view .LVU765
 2599 0048 0022     		movs	r2, #0
 2600              	.LVL241:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2601              		.loc 1 1102 14 view .LVU766
 2602 004a E6E7     		b	.L197
 2603              	.LVL242:
 2604              	.L211:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2605              		.loc 1 1111 5 is_stmt 1 view .LVU767
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2606              		.loc 1 1111 11 is_stmt 0 view .LVU768
 2607 004c 03A9     		add	r1, sp, #12
 2608              	.LVL243:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2609              		.loc 1 1111 11 view .LVU769
 2610 004e D9F80000 		ldr	r0, [r9]
 2611              	.LVL244:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2612              		.loc 1 1111 11 view .LVU770
 2613 0052 FFF7FEFF 		bl	netconn_recv_udp_raw_netbuf_flags
 2614              	.LVL245:
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2615              		.loc 1 1113 51 is_stmt 1 view .LVU771
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2616              		.loc 1 1115 5 view .LVU772
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2617              		.loc 1 1115 8 is_stmt 0 view .LVU773
 2618 0056 0028     		cmp	r0, #0
 2619 0058 3CD1     		bne	.L196
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
ARM GAS  /tmp/cc3tDhb2.s 			page 110


 2620              		.loc 1 1118 5 is_stmt 1 view .LVU774
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2621              		.loc 1 1118 5 view .LVU775
 2622 005a 039B     		ldr	r3, [sp, #12]
 2623 005c 1BB1     		cbz	r3, .L212
 2624              	.LVL246:
 2625              	.L199:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2626              		.loc 1 1118 5 discriminator 3 view .LVU776
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2627              		.loc 1 1118 5 discriminator 3 view .LVU777
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2628              		.loc 1 1119 5 discriminator 3 view .LVU778
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2629              		.loc 1 1119 27 is_stmt 0 discriminator 3 view .LVU779
 2630 005e 039B     		ldr	r3, [sp, #12]
 2631 0060 C9F80430 		str	r3, [r9, #4]
 2632 0064 DDE7     		b	.L198
 2633              	.LVL247:
 2634              	.L212:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2635              		.loc 1 1118 5 is_stmt 1 discriminator 1 view .LVU780
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2636              		.loc 1 1118 5 discriminator 1 view .LVU781
 2637 0066 264B     		ldr	r3, .L215
 2638 0068 40F25E42 		movw	r2, #1118
 2639 006c 2749     		ldr	r1, .L215+12
 2640 006e 2648     		ldr	r0, .L215+8
 2641              	.LVL248:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2642              		.loc 1 1118 5 is_stmt 0 discriminator 1 view .LVU782
 2643 0070 FFF7FEFF 		bl	printf
 2644              	.LVL249:
 2645 0074 F3E7     		b	.L199
 2646              	.LVL250:
 2647              	.L201:
 2648              	.LBB21:
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
 2649              		.loc 1 1136 5 is_stmt 1 discriminator 2 view .LVU783
 2650 0076 5B46     		mov	r3, fp
 2651 0078 2246     		mov	r2, r4
 2652 007a 0958     		ldr	r1, [r1, r0]
 2653 007c 0398     		ldr	r0, [sp, #12]
 2654 007e 0068     		ldr	r0, [r0]
 2655 0080 FFF7FEFF 		bl	pbuf_copy_partial
 2656              	.LVL251:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2657              		.loc 1 1137 5 discriminator 2 view .LVU784
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2658              		.loc 1 1137 12 is_stmt 0 discriminator 2 view .LVU785
 2659 0084 5C44     		add	r4, r4, fp
 2660              	.LVL252:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2661              		.loc 1 1137 12 discriminator 2 view .LVU786
 2662 0086 1FFA84FB 		uxth	fp, r4
 2663              	.LVL253:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /tmp/cc3tDhb2.s 			page 111


 2664              		.loc 1 1137 12 discriminator 2 view .LVU787
 2665              	.LBE21:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2666              		.loc 1 1126 59 is_stmt 1 discriminator 2 view .LVU788
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2667              		.loc 1 1126 60 is_stmt 0 discriminator 2 view .LVU789
 2668 008a 0135     		adds	r5, r5, #1
 2669              	.LVL254:
 2670              	.L200:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2671              		.loc 1 1126 15 is_stmt 1 discriminator 1 view .LVU790
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2672              		.loc 1 1126 23 is_stmt 0 discriminator 1 view .LVU791
 2673 008c F368     		ldr	r3, [r6, #12]
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2674              		.loc 1 1126 3 discriminator 1 view .LVU792
 2675 008e AB42     		cmp	r3, r5
 2676 0090 0DDD     		ble	.L202
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2677              		.loc 1 1126 37 discriminator 3 view .LVU793
 2678 0092 BB45     		cmp	fp, r7
 2679 0094 0BD2     		bcs	.L202
 2680              	.LBB22:
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2681              		.loc 1 1127 5 is_stmt 1 view .LVU794
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2682              		.loc 1 1127 11 is_stmt 0 view .LVU795
 2683 0096 A7EB0B04 		sub	r4, r7, fp
 2684 009a A4B2     		uxth	r4, r4
 2685              	.LVL255:
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2686              		.loc 1 1128 5 is_stmt 1 view .LVU796
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2687              		.loc 1 1128 12 is_stmt 0 view .LVU797
 2688 009c B168     		ldr	r1, [r6, #8]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2689              		.loc 1 1128 21 view .LVU798
 2690 009e E800     		lsls	r0, r5, #3
 2691 00a0 01EBC503 		add	r3, r1, r5, lsl #3
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2692              		.loc 1 1128 24 view .LVU799
 2693 00a4 5B68     		ldr	r3, [r3, #4]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2694              		.loc 1 1128 8 view .LVU800
 2695 00a6 A342     		cmp	r3, r4
 2696 00a8 E5D8     		bhi	.L201
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2697              		.loc 1 1131 7 is_stmt 1 view .LVU801
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2698              		.loc 1 1131 15 is_stmt 0 view .LVU802
 2699 00aa 9CB2     		uxth	r4, r3
 2700              	.LVL256:
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2701              		.loc 1 1131 15 view .LVU803
 2702 00ac E3E7     		b	.L201
 2703              	.LVL257:
 2704              	.L202:
ARM GAS  /tmp/cc3tDhb2.s 			page 112


1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2705              		.loc 1 1131 15 view .LVU804
 2706              	.LBE22:
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2707              		.loc 1 1142 3 is_stmt 1 view .LVU805
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2708              		.loc 1 1142 10 is_stmt 0 view .LVU806
 2709 00ae 3368     		ldr	r3, [r6]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2710              		.loc 1 1142 6 view .LVU807
 2711 00b0 0BB1     		cbz	r3, .L204
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2712              		.loc 1 1142 27 discriminator 1 view .LVU808
 2713 00b2 7268     		ldr	r2, [r6, #4]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2714              		.loc 1 1142 21 discriminator 1 view .LVU809
 2715 00b4 8AB9     		cbnz	r2, .L213
 2716              	.L204:
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2717              		.loc 1 1155 3 is_stmt 1 view .LVU810
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2718              		.loc 1 1155 18 is_stmt 0 view .LVU811
 2719 00b6 0023     		movs	r3, #0
 2720 00b8 B361     		str	r3, [r6, #24]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2721              		.loc 1 1157 3 is_stmt 1 view .LVU812
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2722              		.loc 1 1157 10 is_stmt 0 view .LVU813
 2723 00ba 3369     		ldr	r3, [r6, #16]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2724              		.loc 1 1157 6 view .LVU814
 2725 00bc 0BB1     		cbz	r3, .L205
 2726              	.LBB23:
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 2727              		.loc 1 1158 5 is_stmt 1 view .LVU815
 2728              	.LVL258:
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
 2729              		.loc 1 1182 5 view .LVU816
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2730              		.loc 1 1183 7 view .LVU817
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2731              		.loc 1 1183 27 is_stmt 0 view .LVU818
 2732 00be 0023     		movs	r3, #0
 2733 00c0 7361     		str	r3, [r6, #20]
 2734              	.LVL259:
 2735              	.L205:
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2736              		.loc 1 1183 27 view .LVU819
 2737              	.LBE23:
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2738              		.loc 1 1188 3 is_stmt 1 view .LVU820
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2739              		.loc 1 1188 6 is_stmt 0 view .LVU821
 2740 00c2 18F0010F 		tst	r8, #1
 2741 00c6 12D0     		beq	.L214
 2742              	.L206:
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
ARM GAS  /tmp/cc3tDhb2.s 			page 113


 2743              		.loc 1 1192 3 is_stmt 1 view .LVU822
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
 2744              		.loc 1 1192 6 is_stmt 0 view .LVU823
 2745 00c8 BAF1000F 		cmp	r10, #0
 2746 00cc 16D0     		beq	.L208
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2747              		.loc 1 1193 5 is_stmt 1 view .LVU824
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2748              		.loc 1 1193 19 is_stmt 0 view .LVU825
 2749 00ce AAF80070 		strh	r7, [r10]	@ movhi
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2750              		.loc 1 1195 10 view .LVU826
 2751 00d2 0020     		movs	r0, #0
 2752              	.LVL260:
 2753              	.L196:
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2754              		.loc 1 1196 1 view .LVU827
 2755 00d4 05B0     		add	sp, sp, #20
 2756              	.LCFI44:
 2757              		.cfi_remember_state
 2758              		.cfi_def_cfa_offset 36
 2759              		@ sp needed
 2760 00d6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2761              	.LVL261:
 2762              	.L213:
 2763              	.LCFI45:
 2764              		.cfi_restore_state
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
 2765              		.loc 1 1145 77 is_stmt 1 view .LVU828
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
 2766              		.loc 1 1146 66 view .LVU829
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
 2767              		.loc 1 1147 90 view .LVU830
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
 2768              		.loc 1 1148 5 view .LVU831
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2769              		.loc 1 1149 7 view .LVU832
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2770              		.loc 1 1149 39 is_stmt 0 view .LVU833
 2771 00da 0399     		ldr	r1, [sp, #12]
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2772              		.loc 1 1149 7 view .LVU834
 2773 00dc 8A89     		ldrh	r2, [r1, #12]
 2774 00de 301D     		adds	r0, r6, #4
 2775 00e0 0090     		str	r0, [sp]
 2776 00e2 0831     		adds	r1, r1, #8
 2777 00e4 D9F80000 		ldr	r0, [r9]
 2778 00e8 FFF7FEFF 		bl	lwip_sock_make_addr
 2779              	.LVL262:
 2780 00ec E3E7     		b	.L204
 2781              	.L214:
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2782              		.loc 1 1189 5 is_stmt 1 view .LVU835
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2783              		.loc 1 1189 27 is_stmt 0 view .LVU836
 2784 00ee 0023     		movs	r3, #0
 2785 00f0 C9F80430 		str	r3, [r9, #4]
ARM GAS  /tmp/cc3tDhb2.s 			page 114


1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2786              		.loc 1 1190 5 is_stmt 1 view .LVU837
 2787 00f4 0398     		ldr	r0, [sp, #12]
 2788 00f6 FFF7FEFF 		bl	netbuf_delete
 2789              	.LVL263:
 2790 00fa E5E7     		b	.L206
 2791              	.L208:
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2792              		.loc 1 1195 10 is_stmt 0 view .LVU838
 2793 00fc 0020     		movs	r0, #0
 2794 00fe E9E7     		b	.L196
 2795              	.L216:
 2796              		.align	2
 2797              	.L215:
 2798 0100 00000000 		.word	.LC0
 2799 0104 00000000 		.word	.LC16
 2800 0108 48000000 		.word	.LC2
 2801 010c 2C000000 		.word	.LC17
 2802              		.cfi_endproc
 2803              	.LFE179:
 2805              		.section	.text.select_check_waiters,"ax",%progbits
 2806              		.align	1
 2807              		.syntax unified
 2808              		.thumb
 2809              		.thumb_func
 2810              		.fpu fpv4-sp-d16
 2812              	select_check_waiters:
 2813              	.LVL264:
 2814              	.LFB199:
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2815              		.loc 1 2577 1 is_stmt 1 view -0
 2816              		.cfi_startproc
 2817              		@ args = 0, pretend = 0, frame = 0
 2818              		@ frame_needed = 0, uses_anonymous_args = 0
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2819              		.loc 1 2577 1 is_stmt 0 view .LVU840
 2820 0000 2DE9F042 		push	{r4, r5, r6, r7, r9, lr}
 2821              	.LCFI46:
 2822              		.cfi_def_cfa_offset 24
 2823              		.cfi_offset 4, -24
 2824              		.cfi_offset 5, -20
 2825              		.cfi_offset 6, -16
 2826              		.cfi_offset 7, -12
 2827              		.cfi_offset 9, -8
 2828              		.cfi_offset 14, -4
 2829 0004 82B0     		sub	sp, sp, #8
 2830              	.LCFI47:
 2831              		.cfi_def_cfa_offset 32
 2832 0006 0746     		mov	r7, r0
 2833 0008 0E46     		mov	r6, r1
 2834 000a 9146     		mov	r9, r2
 2835 000c 1D46     		mov	r5, r3
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 2836              		.loc 1 2578 3 is_stmt 1 view .LVU841
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2837              		.loc 1 2584 28 view .LVU842
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
ARM GAS  /tmp/cc3tDhb2.s 			page 115


 2838              		.loc 1 2592 3 view .LVU843
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2839              		.loc 1 2592 12 is_stmt 0 view .LVU844
 2840 000e 254B     		ldr	r3, .L231
 2841              	.LVL265:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2842              		.loc 1 2592 12 view .LVU845
 2843 0010 1C68     		ldr	r4, [r3]
 2844              	.LVL266:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2845              		.loc 1 2592 3 view .LVU846
 2846 0012 32E0     		b	.L218
 2847              	.LVL267:
 2848              	.L220:
 2849              	.LBB24:
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2850              		.loc 1 2607 9 is_stmt 1 view .LVU847
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2851              		.loc 1 2607 12 is_stmt 0 view .LVU848
 2852 0014 66B1     		cbz	r6, .L226
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2853              		.loc 1 2608 11 is_stmt 1 view .LVU849
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2854              		.loc 1 2608 18 is_stmt 0 view .LVU850
 2855 0016 A368     		ldr	r3, [r4, #8]
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2856              		.loc 1 2608 14 view .LVU851
 2857 0018 5BB1     		cbz	r3, .L222
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2858              		.loc 1 2608 31 discriminator 1 view .LVU852
 2859 001a 7A09     		lsrs	r2, r7, #5
 2860 001c 53F82220 		ldr	r2, [r3, r2, lsl #2]
 2861 0020 07F01F01 		and	r1, r7, #31
 2862 0024 0123     		movs	r3, #1
 2863 0026 8B40     		lsls	r3, r3, r1
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2864              		.loc 1 2608 28 discriminator 1 view .LVU853
 2865 0028 1A42     		tst	r2, r3
 2866 002a 02D0     		beq	.L222
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2867              		.loc 1 2609 23 view .LVU854
 2868 002c 0120     		movs	r0, #1
 2869 002e 00E0     		b	.L222
 2870              	.L226:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 2871              		.loc 1 2595 11 view .LVU855
 2872 0030 3046     		mov	r0, r6
 2873              	.L222:
 2874              	.LVL268:
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2875              		.loc 1 2612 9 is_stmt 1 view .LVU856
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2876              		.loc 1 2612 12 is_stmt 0 view .LVU857
 2877 0032 B9F1000F 		cmp	r9, #0
 2878 0036 0CD0     		beq	.L223
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2879              		.loc 1 2613 11 is_stmt 1 view .LVU858
ARM GAS  /tmp/cc3tDhb2.s 			page 116


2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2880              		.loc 1 2613 14 is_stmt 0 view .LVU859
 2881 0038 58B9     		cbnz	r0, .L223
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2882              		.loc 1 2613 32 discriminator 1 view .LVU860
 2883 003a E368     		ldr	r3, [r4, #12]
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2884              		.loc 1 2613 26 discriminator 1 view .LVU861
 2885 003c 4BB1     		cbz	r3, .L223
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2886              		.loc 1 2613 46 discriminator 2 view .LVU862
 2887 003e 7A09     		lsrs	r2, r7, #5
 2888 0040 53F82220 		ldr	r2, [r3, r2, lsl #2]
 2889 0044 07F01F01 		and	r1, r7, #31
 2890 0048 0123     		movs	r3, #1
 2891 004a 8B40     		lsls	r3, r3, r1
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2892              		.loc 1 2613 43 discriminator 2 view .LVU863
 2893 004c 1A42     		tst	r2, r3
 2894 004e 00D0     		beq	.L223
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2895              		.loc 1 2614 23 view .LVU864
 2896 0050 0120     		movs	r0, #1
 2897              	.LVL269:
 2898              	.L223:
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2899              		.loc 1 2617 9 is_stmt 1 view .LVU865
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2900              		.loc 1 2617 12 is_stmt 0 view .LVU866
 2901 0052 05B3     		cbz	r5, .L221
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2902              		.loc 1 2618 11 is_stmt 1 view .LVU867
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2903              		.loc 1 2618 14 is_stmt 0 view .LVU868
 2904 0054 F8B9     		cbnz	r0, .L221
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2905              		.loc 1 2618 32 discriminator 1 view .LVU869
 2906 0056 2369     		ldr	r3, [r4, #16]
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2907              		.loc 1 2618 26 discriminator 1 view .LVU870
 2908 0058 EBB1     		cbz	r3, .L221
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2909              		.loc 1 2618 47 discriminator 2 view .LVU871
 2910 005a 7A09     		lsrs	r2, r7, #5
 2911 005c 53F82220 		ldr	r2, [r3, r2, lsl #2]
 2912 0060 07F01F01 		and	r1, r7, #31
 2913 0064 0123     		movs	r3, #1
 2914 0066 8B40     		lsls	r3, r3, r1
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2915              		.loc 1 2618 44 discriminator 2 view .LVU872
 2916 0068 1A42     		tst	r2, r3
 2917 006a 14D0     		beq	.L221
 2918              	.L224:
 2919              	.LVL270:
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2920              		.loc 1 2625 9 is_stmt 1 view .LVU873
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
ARM GAS  /tmp/cc3tDhb2.s 			page 117


 2921              		.loc 1 2625 28 is_stmt 0 view .LVU874
 2922 006c 0123     		movs	r3, #1
 2923 006e E361     		str	r3, [r4, #28]
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2924              		.loc 1 2629 9 is_stmt 1 view .LVU875
 2925 0070 04F12000 		add	r0, r4, #32
 2926 0074 FFF7FEFF 		bl	sys_sem_signal
 2927              	.LVL271:
 2928              	.L219:
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2929              		.loc 1 2629 9 is_stmt 0 view .LVU876
 2930              	.LBE24:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2931              		.loc 1 2592 43 is_stmt 1 discriminator 2 view .LVU877
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2932              		.loc 1 2592 47 is_stmt 0 discriminator 2 view .LVU878
 2933 0078 2468     		ldr	r4, [r4]
 2934              	.LVL272:
 2935              	.L218:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2936              		.loc 1 2592 30 is_stmt 1 discriminator 1 view .LVU879
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2937              		.loc 1 2592 3 is_stmt 0 discriminator 1 view .LVU880
 2938 007a 7CB1     		cbz	r4, .L230
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2939              		.loc 1 2593 5 is_stmt 1 view .LVU881
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2940              		.loc 1 2593 12 is_stmt 0 view .LVU882
 2941 007c E069     		ldr	r0, [r4, #28]
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2942              		.loc 1 2593 8 view .LVU883
 2943 007e 0028     		cmp	r0, #0
 2944 0080 FAD1     		bne	.L219
 2945              	.LBB25:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 2946              		.loc 1 2595 7 is_stmt 1 view .LVU884
 2947              	.LVL273:
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 2948              		.loc 1 2597 7 view .LVU885
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 2949              		.loc 1 2597 14 is_stmt 0 view .LVU886
 2950 0082 6369     		ldr	r3, [r4, #20]
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 2951              		.loc 1 2597 10 view .LVU887
 2952 0084 002B     		cmp	r3, #0
 2953 0086 C5D0     		beq	.L220
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2954              		.loc 1 2598 9 is_stmt 1 view .LVU888
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2955              		.loc 1 2598 21 is_stmt 0 view .LVU889
 2956 0088 0095     		str	r5, [sp]
 2957 008a 4B46     		mov	r3, r9
 2958 008c 3246     		mov	r2, r6
 2959 008e 3946     		mov	r1, r7
 2960 0090 2046     		mov	r0, r4
 2961 0092 FFF7FEFF 		bl	lwip_poll_should_wake
 2962              	.LVL274:
ARM GAS  /tmp/cc3tDhb2.s 			page 118


 2963              	.L221:
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2964              		.loc 1 2624 7 is_stmt 1 view .LVU890
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2965              		.loc 1 2624 10 is_stmt 0 view .LVU891
 2966 0096 0028     		cmp	r0, #0
 2967 0098 EED0     		beq	.L219
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2968              		.loc 1 2624 10 view .LVU892
 2969 009a E7E7     		b	.L224
 2970              	.LVL275:
 2971              	.L230:
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2972              		.loc 1 2624 10 view .LVU893
 2973              	.LBE25:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 2974              		.loc 1 2648 1 view .LVU894
 2975 009c 02B0     		add	sp, sp, #8
 2976              	.LCFI48:
 2977              		.cfi_def_cfa_offset 24
 2978              		@ sp needed
 2979 009e BDE8F082 		pop	{r4, r5, r6, r7, r9, pc}
 2980              	.LVL276:
 2981              	.L232:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 2982              		.loc 1 2648 1 view .LVU895
 2983 00a2 00BF     		.align	2
 2984              	.L231:
 2985 00a4 00000000 		.word	.LANCHOR1
 2986              		.cfi_endproc
 2987              	.LFE199:
 2989              		.section	.rodata.event_callback.str1.4,"aMS",%progbits,1
 2990              		.align	2
 2991              	.LC18:
 2992 0000 756E6B6E 		.ascii	"unknown event\000"
 2992      6F776E20 
 2992      6576656E 
 2992      7400
 2993              		.section	.text.event_callback,"ax",%progbits
 2994              		.align	1
 2995              		.syntax unified
 2996              		.thumb
 2997              		.thumb_func
 2998              		.fpu fpv4-sp-d16
 3000              	event_callback:
 3001              	.LVL277:
 3002              	.LFB198:
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3003              		.loc 1 2478 1 is_stmt 1 view -0
 3004              		.cfi_startproc
 3005              		@ args = 0, pretend = 0, frame = 0
 3006              		@ frame_needed = 0, uses_anonymous_args = 0
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 3007              		.loc 1 2479 3 view .LVU897
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 3008              		.loc 1 2480 3 view .LVU898
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 119


 3009              		.loc 1 2481 3 view .LVU899
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3010              		.loc 1 2483 3 view .LVU900
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3011              		.loc 1 2486 3 view .LVU901
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3012              		.loc 1 2486 6 is_stmt 0 view .LVU902
 3013 0000 0028     		cmp	r0, #0
 3014 0002 6DD0     		beq	.L251
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3015              		.loc 1 2478 1 view .LVU903
 3016 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3017              	.LCFI49:
 3018              		.cfi_def_cfa_offset 24
 3019              		.cfi_offset 4, -24
 3020              		.cfi_offset 5, -20
 3021              		.cfi_offset 6, -16
 3022              		.cfi_offset 7, -12
 3023              		.cfi_offset 8, -8
 3024              		.cfi_offset 14, -4
 3025 0008 0C46     		mov	r4, r1
 3026 000a 0646     		mov	r6, r0
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3027              		.loc 1 2487 5 is_stmt 1 view .LVU904
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3028              		.loc 1 2487 7 is_stmt 0 view .LVU905
 3029 000c 8569     		ldr	r5, [r0, #24]
 3030              	.LVL278:
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3031              		.loc 1 2488 5 is_stmt 1 view .LVU906
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3032              		.loc 1 2488 8 is_stmt 0 view .LVU907
 3033 000e 002D     		cmp	r5, #0
 3034 0010 0EDB     		blt	.L254
 3035              	.LVL279:
 3036              	.L235:
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3037              		.loc 1 2508 5 is_stmt 1 view .LVU908
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3038              		.loc 1 2508 12 is_stmt 0 view .LVU909
 3039 0012 2846     		mov	r0, r5
 3040 0014 FFF7FEFF 		bl	get_socket
 3041              	.LVL280:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3042              		.loc 1 2509 5 is_stmt 1 view .LVU910
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3043              		.loc 1 2509 8 is_stmt 0 view .LVU911
 3044 0018 0646     		mov	r6, r0
 3045              	.LVL281:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3046              		.loc 1 2509 8 view .LVU912
 3047 001a 68B3     		cbz	r0, .L233
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3048              		.loc 1 2516 3 is_stmt 1 view .LVU913
 3049              	.LVL282:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3050              		.loc 1 2517 3 view .LVU914
ARM GAS  /tmp/cc3tDhb2.s 			page 120


 3051 001c FFF7FEFF 		bl	sys_arch_protect
 3052              	.LVL283:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3053              		.loc 1 2517 3 is_stmt 0 view .LVU915
 3054 0020 0746     		mov	r7, r0
 3055              	.LVL284:
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
 3056              		.loc 1 2519 3 is_stmt 1 view .LVU916
 3057 0022 042C     		cmp	r4, #4
 3058 0024 38D8     		bhi	.L238
 3059 0026 DFE804F0 		tbb	[pc, r4]
 3060              	.L240:
 3061 002a 11       		.byte	(.L244-.L240)/2
 3062 002b 1C       		.byte	(.L243-.L240)/2
 3063 002c 29       		.byte	(.L242-.L240)/2
 3064 002d 31       		.byte	(.L241-.L240)/2
 3065 002e 34       		.byte	(.L239-.L240)/2
 3066              	.LVL285:
 3067 002f 00       		.p2align 1
 3068              	.L254:
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
 3069              		.loc 1 2494 7 view .LVU917
 3070 0030 FFF7FEFF 		bl	sys_arch_protect
 3071              	.LVL286:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3072              		.loc 1 2495 7 view .LVU918
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3073              		.loc 1 2495 15 is_stmt 0 view .LVU919
 3074 0034 B569     		ldr	r5, [r6, #24]
 3075              	.LVL287:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3076              		.loc 1 2495 10 view .LVU920
 3077 0036 002D     		cmp	r5, #0
 3078 0038 02DB     		blt	.L255
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 3079              		.loc 1 2504 7 is_stmt 1 view .LVU921
 3080              	.LVL288:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3081              		.loc 1 2505 7 view .LVU922
 3082 003a FFF7FEFF 		bl	sys_arch_unprotect
 3083              	.LVL289:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3084              		.loc 1 2505 7 is_stmt 0 view .LVU923
 3085 003e E8E7     		b	.L235
 3086              	.LVL290:
 3087              	.L255:
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3088              		.loc 1 2496 9 is_stmt 1 view .LVU924
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3089              		.loc 1 2496 12 is_stmt 0 view .LVU925
 3090 0040 0CB9     		cbnz	r4, .L237
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3091              		.loc 1 2499 11 is_stmt 1 view .LVU926
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3092              		.loc 1 2499 23 is_stmt 0 view .LVU927
 3093 0042 013D     		subs	r5, r5, #1
 3094 0044 B561     		str	r5, [r6, #24]
ARM GAS  /tmp/cc3tDhb2.s 			page 121


 3095              	.L237:
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
 3096              		.loc 1 2501 9 is_stmt 1 view .LVU928
 3097 0046 FFF7FEFF 		bl	sys_arch_unprotect
 3098              	.LVL291:
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3099              		.loc 1 2502 9 view .LVU929
 3100 004a 15E0     		b	.L233
 3101              	.LVL292:
 3102              	.L244:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3103              		.loc 1 2521 7 view .LVU930
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3104              		.loc 1 2521 11 is_stmt 0 view .LVU931
 3105 004c B6F90830 		ldrsh	r3, [r6, #8]
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3106              		.loc 1 2521 21 view .LVU932
 3107 0050 0133     		adds	r3, r3, #1
 3108 0052 1BB2     		sxth	r3, r3
 3109 0054 3381     		strh	r3, [r6, #8]	@ movhi
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3110              		.loc 1 2522 7 is_stmt 1 view .LVU933
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3111              		.loc 1 2522 10 is_stmt 0 view .LVU934
 3112 0056 012B     		cmp	r3, #1
 3113 0058 01DD     		ble	.L256
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3114              		.loc 1 2523 23 view .LVU935
 3115 005a 0023     		movs	r3, #0
 3116 005c 06E0     		b	.L245
 3117              	.L256:
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3118              		.loc 1 2516 17 view .LVU936
 3119 005e 0123     		movs	r3, #1
 3120 0060 04E0     		b	.L245
 3121              	.L243:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3122              		.loc 1 2527 7 is_stmt 1 view .LVU937
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3123              		.loc 1 2527 11 is_stmt 0 view .LVU938
 3124 0062 B6F90830 		ldrsh	r3, [r6, #8]
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3125              		.loc 1 2527 21 view .LVU939
 3126 0066 013B     		subs	r3, r3, #1
 3127 0068 3381     		strh	r3, [r6, #8]	@ movhi
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3128              		.loc 1 2528 7 is_stmt 1 view .LVU940
 3129              	.LVL293:
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
 3130              		.loc 1 2529 7 view .LVU941
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3131              		.loc 1 2528 21 is_stmt 0 view .LVU942
 3132 006a 0023     		movs	r3, #0
 3133              	.LVL294:
 3134              	.L245:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3135              		.loc 1 2548 3 is_stmt 1 view .LVU943
ARM GAS  /tmp/cc3tDhb2.s 			page 122


2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3136              		.loc 1 2548 11 is_stmt 0 view .LVU944
 3137 006c B27B     		ldrb	r2, [r6, #14]	@ zero_extendqisi2
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3138              		.loc 1 2548 6 view .LVU945
 3139 006e 02B1     		cbz	r2, .L247
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3140              		.loc 1 2548 28 discriminator 1 view .LVU946
 3141 0070 DBB9     		cbnz	r3, .L257
 3142              	.L247:
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3143              		.loc 1 2558 5 is_stmt 1 view .LVU947
 3144 0072 3846     		mov	r0, r7
 3145 0074 FFF7FEFF 		bl	sys_arch_unprotect
 3146              	.LVL295:
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3147              		.loc 1 2560 20 view .LVU948
 3148              	.L233:
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3149              		.loc 1 2561 1 is_stmt 0 view .LVU949
 3150 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3151              	.LVL296:
 3152              	.L242:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3153              		.loc 1 2531 7 is_stmt 1 view .LVU950
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3154              		.loc 1 2531 15 is_stmt 0 view .LVU951
 3155 007c 7389     		ldrh	r3, [r6, #10]
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3156              		.loc 1 2531 10 view .LVU952
 3157 007e 1BB9     		cbnz	r3, .L249
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3158              		.loc 1 2516 17 view .LVU953
 3159 0080 0123     		movs	r3, #1
 3160              	.L246:
 3161              	.LVL297:
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3162              		.loc 1 2534 7 is_stmt 1 view .LVU954
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3163              		.loc 1 2534 23 is_stmt 0 view .LVU955
 3164 0082 0122     		movs	r2, #1
 3165 0084 7281     		strh	r2, [r6, #10]	@ movhi
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
 3166              		.loc 1 2535 7 is_stmt 1 view .LVU956
 3167 0086 F1E7     		b	.L245
 3168              	.LVL298:
 3169              	.L249:
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3170              		.loc 1 2532 23 is_stmt 0 view .LVU957
 3171 0088 0023     		movs	r3, #0
 3172 008a FAE7     		b	.L246
 3173              	.L241:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3174              		.loc 1 2537 7 is_stmt 1 view .LVU958
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3175              		.loc 1 2537 23 is_stmt 0 view .LVU959
 3176 008c 0023     		movs	r3, #0
ARM GAS  /tmp/cc3tDhb2.s 			page 123


 3177 008e 7381     		strh	r3, [r6, #10]	@ movhi
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3178              		.loc 1 2538 7 is_stmt 1 view .LVU960
 3179              	.LVL299:
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
 3180              		.loc 1 2539 7 view .LVU961
 3181 0090 ECE7     		b	.L245
 3182              	.LVL300:
 3183              	.L239:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3184              		.loc 1 2541 7 view .LVU962
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3185              		.loc 1 2541 22 is_stmt 0 view .LVU963
 3186 0092 0123     		movs	r3, #1
 3187 0094 B381     		strh	r3, [r6, #12]	@ movhi
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 3188              		.loc 1 2542 7 is_stmt 1 view .LVU964
 3189 0096 E9E7     		b	.L245
 3190              	.L238:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3191              		.loc 1 2544 7 discriminator 1 view .LVU965
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3192              		.loc 1 2544 7 discriminator 1 view .LVU966
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3193              		.loc 1 2544 7 discriminator 1 view .LVU967
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3194              		.loc 1 2544 7 discriminator 1 view .LVU968
 3195 0098 124B     		ldr	r3, .L258
 3196 009a 4FF41F62 		mov	r2, #2544
 3197 009e 1249     		ldr	r1, .L258+4
 3198 00a0 1248     		ldr	r0, .L258+8
 3199              	.LVL301:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3200              		.loc 1 2544 7 is_stmt 0 discriminator 1 view .LVU969
 3201 00a2 FFF7FEFF 		bl	printf
 3202              	.LVL302:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3203              		.loc 1 2544 7 is_stmt 1 discriminator 1 view .LVU970
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3204              		.loc 1 2544 7 discriminator 1 view .LVU971
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3205              		.loc 1 2545 7 discriminator 1 view .LVU972
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3206              		.loc 1 2516 17 is_stmt 0 discriminator 1 view .LVU973
 3207 00a6 0123     		movs	r3, #1
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3208              		.loc 1 2545 7 discriminator 1 view .LVU974
 3209 00a8 E0E7     		b	.L245
 3210              	.LVL303:
 3211              	.L257:
 3212              	.LBB26:
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
 3213              		.loc 1 2550 5 is_stmt 1 view .LVU975
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3214              		.loc 1 2551 5 view .LVU976
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3215              		.loc 1 2551 25 is_stmt 0 view .LVU977
ARM GAS  /tmp/cc3tDhb2.s 			page 124


 3216 00aa B6F90840 		ldrsh	r4, [r6, #8]
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3217              		.loc 1 2551 36 view .LVU978
 3218 00ae 002C     		cmp	r4, #0
 3219 00b0 D4BF     		ite	le
 3220 00b2 0024     		movle	r4, #0
 3221 00b4 0124     		movgt	r4, #1
 3222              	.LVL304:
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3223              		.loc 1 2552 5 is_stmt 1 view .LVU979
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3224              		.loc 1 2552 25 is_stmt 0 view .LVU980
 3225 00b6 B6F80A80 		ldrh	r8, [r6, #10]
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3226              		.loc 1 2552 37 view .LVU981
 3227 00ba B8F10008 		subs	r8, r8, #0
 3228 00be 18BF     		it	ne
 3229 00c0 4FF00108 		movne	r8, #1
 3230              	.LVL305:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3231              		.loc 1 2553 5 is_stmt 1 view .LVU982
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3232              		.loc 1 2553 24 is_stmt 0 view .LVU983
 3233 00c4 B689     		ldrh	r6, [r6, #12]
 3234              	.LVL306:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3235              		.loc 1 2553 35 view .LVU984
 3236 00c6 003E     		subs	r6, r6, #0
 3237 00c8 18BF     		it	ne
 3238 00ca 0126     		movne	r6, #1
 3239              	.LVL307:
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
 3240              		.loc 1 2554 5 is_stmt 1 view .LVU985
 3241 00cc 3846     		mov	r0, r7
 3242 00ce FFF7FEFF 		bl	sys_arch_unprotect
 3243              	.LVL308:
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 3244              		.loc 1 2556 5 view .LVU986
 3245 00d2 3346     		mov	r3, r6
 3246 00d4 4246     		mov	r2, r8
 3247 00d6 2146     		mov	r1, r4
 3248 00d8 2846     		mov	r0, r5
 3249 00da FFF7FEFF 		bl	select_check_waiters
 3250              	.LVL309:
 3251              	.LBE26:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3252              		.loc 1 2548 46 is_stmt 0 view .LVU987
 3253 00de CBE7     		b	.L233
 3254              	.LVL310:
 3255              	.L251:
 3256              	.LCFI50:
 3257              		.cfi_def_cfa_offset 0
 3258              		.cfi_restore 4
 3259              		.cfi_restore 5
 3260              		.cfi_restore 6
 3261              		.cfi_restore 7
 3262              		.cfi_restore 8
ARM GAS  /tmp/cc3tDhb2.s 			page 125


 3263              		.cfi_restore 14
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3264              		.loc 1 2548 46 view .LVU988
 3265 00e0 7047     		bx	lr
 3266              	.L259:
 3267 00e2 00BF     		.align	2
 3268              	.L258:
 3269 00e4 00000000 		.word	.LC0
 3270 00e8 00000000 		.word	.LC18
 3271 00ec 48000000 		.word	.LC2
 3272              		.cfi_endproc
 3273              	.LFE198:
 3275              		.section	.text.lwip_getsockopt_impl,"ax",%progbits
 3276              		.align	1
 3277              		.syntax unified
 3278              		.thumb
 3279              		.thumb_func
 3280              		.fpu fpv4-sp-d16
 3282              	lwip_getsockopt_impl:
 3283              	.LVL311:
 3284              	.LFB206:
2877:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_impl: the actual implementation of getsockopt:
2879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_getsockopt, either called directly or through callback
2880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen)
2883:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 3285              		.loc 1 2883 1 is_stmt 1 view -0
 3286              		.cfi_startproc
 3287              		@ args = 4, pretend = 0, frame = 0
 3288              		@ frame_needed = 0, uses_anonymous_args = 0
 3289              		.loc 1 2883 1 is_stmt 0 view .LVU990
 3290 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3291              	.LCFI51:
 3292              		.cfi_def_cfa_offset 24
 3293              		.cfi_offset 3, -24
 3294              		.cfi_offset 4, -20
 3295              		.cfi_offset 5, -16
 3296              		.cfi_offset 6, -12
 3297              		.cfi_offset 7, -8
 3298              		.cfi_offset 14, -4
 3299 0002 0C46     		mov	r4, r1
 3300 0004 1546     		mov	r5, r2
 3301 0006 1E46     		mov	r6, r3
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 3302              		.loc 1 2884 3 is_stmt 1 view .LVU991
 3303              	.LVL312:
2885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3304              		.loc 1 2885 3 view .LVU992
 3305              		.loc 1 2885 28 is_stmt 0 view .LVU993
 3306 0008 FFF7FEFF 		bl	tryget_socket
 3307              	.LVL313:
2886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3308              		.loc 1 2886 3 is_stmt 1 view .LVU994
 3309              		.loc 1 2886 6 is_stmt 0 view .LVU995
 3310 000c 0028     		cmp	r0, #0
ARM GAS  /tmp/cc3tDhb2.s 			page 126


 3311 000e 00F0E680 		beq	.L280
 3312 0012 0746     		mov	r7, r0
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
2888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2889:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2890:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_GETSOCKOPT
2891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_GETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
2892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
2893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 3313              		.loc 1 2896 3 is_stmt 1 view .LVU996
 3314 0014 062C     		cmp	r4, #6
 3315 0016 00F0BF80 		beq	.L262
 3316 001a 40F6FF73 		movw	r3, #4095
 3317 001e 9C42     		cmp	r4, r3
 3318 0020 04D0     		beq	.L263
 3319 0022 002C     		cmp	r4, #0
 3320 0024 00F09880 		beq	.L264
 3321 0028 5C20     		movs	r0, #92
 3322              	.LVL314:
 3323              	.L260:
2897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
2899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
2901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
2903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ACCEPTCONN:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
2906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.tcp != NULL) && (sock->conn->pcb.tcp->state == LISTEN)) {
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
2911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 0;
2913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
2916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
2918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
2919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
2920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
2921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
2922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
2925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
2930:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 127


2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
2933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(int *)optval ? "on" : "off")));
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_TYPE:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
2940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_RAW;
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_STREAM;
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_DGRAM;
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = netconn_type(sock->conn);
2951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
2952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE): unrecognized socket type %d\n
2953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                            s, *(int *)optval));
2954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }  /* switch (netconn_type(sock->conn)) */
2955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE) = %d\n",
2956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ERROR:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN(sock, *optlen, int);
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
2962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2965:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
2967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO:
2968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_sendtimeout(sock->conn));
2970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
2972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
2973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO:
2974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_recvtimeout(sock->conn));
2976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2977:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
2978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
2980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = netconn_get_recvbufsize(sock->conn);
2982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2983:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
2985:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
2986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           s16_t conn_linger;
2987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct linger *linger = (struct linger *)optval;
ARM GAS  /tmp/cc3tDhb2.s 			page 128


2988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, struct linger);
2989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn_linger = sock->conn->linger;
2990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (conn_linger >= 0) {
2991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 1;
2992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = (int)conn_linger;
2993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 0;
2995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = 0;
2996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
2999:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_UDP);
3003:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3009:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM) ? 1 : 0;
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3012:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
3013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
3027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
3033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(u8_t *)optval = udp_get_multicast_ttl(sock->conn->pcb.udp);
3044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_TTL) = %d\n",
ARM GAS  /tmp/cc3tDhb2.s 			page 129


3045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF:
3048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, struct in_addr);
3049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr((struct in_addr *)optval, udp_get_multicast_netif_addr(sock->conn-
3054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_IF) = 0x%"X32_F
3055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(u32_t *)optval));
3056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.udp->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) {
3060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 1;
3061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 0;
3063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_LOOP) = %d\n",
3065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3075:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3076:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_TCP);
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = tcp_nagle_disabled(sock->conn->pcb.tcp);
3088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval) ? "on" : "off") );
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_idle;
3093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3096:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_idle / 1000);
3100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) = %d\n",
3101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
ARM GAS  /tmp/cc3tDhb2.s 			page 130


3102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_intvl / 1000);
3105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) = %d\n",
3106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_cnt;
3110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) = %d\n",
3111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
3122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
3129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (netconn_get_ipv6only(sock->conn) ? 1 : 0);
3130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY) = %d\n",
3131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_tx;
3155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) = %
3156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
ARM GAS  /tmp/cc3tDhb2.s 			page 131


3159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_rx;
3160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) = %
3161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_RAW);
3177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->chksum_reqd == 0) {
3178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = -1;
3179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = sock->conn->pcb.raw->chksum_offset;
3181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM) = %d\n",
3183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (level) */
3199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3324              		.loc 1 3202 1 is_stmt 0 view .LVU997
 3325 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3326              	.LVL315:
 3327              	.L263:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3328              		.loc 1 2900 7 is_stmt 1 view .LVU998
 3329 002c 41F20703 		movw	r3, #4103
 3330 0030 9D42     		cmp	r5, r3
 3331 0032 00F08580 		beq	.L265
 3332 0036 20DC     		bgt	.L266
 3333 0038 082D     		cmp	r5, #8
 3334 003a 44D0     		beq	.L267
 3335 003c 202D     		cmp	r5, #32
ARM GAS  /tmp/cc3tDhb2.s 			page 132


 3336 003e 42D0     		beq	.L267
 3337 0040 022D     		cmp	r5, #2
 3338 0042 18D1     		bne	.L310
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3339              		.loc 1 2904 11 view .LVU999
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3340              		.loc 1 2904 11 view .LVU1000
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3341              		.loc 1 2904 11 view .LVU1001
 3342 0044 069B     		ldr	r3, [sp, #24]
 3343 0046 1B68     		ldr	r3, [r3]
 3344 0048 032B     		cmp	r3, #3
 3345 004a 40F2CA80 		bls	.L281
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3346              		.loc 1 2904 11 discriminator 2 view .LVU1002
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3347              		.loc 1 2904 11 discriminator 2 view .LVU1003
 3348 004e 0368     		ldr	r3, [r0]
 3349 0050 002B     		cmp	r3, #0
 3350 0052 00F0C880 		beq	.L282
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3351              		.loc 1 2904 11 is_stmt 0 discriminator 4 view .LVU1004
 3352 0056 5A68     		ldr	r2, [r3, #4]
 3353 0058 002A     		cmp	r2, #0
 3354 005a 00F0C680 		beq	.L283
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3355              		.loc 1 2904 11 is_stmt 1 discriminator 6 view .LVU1005
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3356              		.loc 1 2905 11 discriminator 6 view .LVU1006
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3357              		.loc 1 2905 15 is_stmt 0 discriminator 6 view .LVU1007
 3358 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3359              		.loc 1 2905 14 discriminator 6 view .LVU1008
 3360 0060 03F0F003 		and	r3, r3, #240
 3361 0064 102B     		cmp	r3, #16
 3362 0066 40F0C280 		bne	.L284
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3363              		.loc 1 2909 11 is_stmt 1 discriminator 1 view .LVU1009
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3364              		.loc 1 2909 68 is_stmt 0 discriminator 1 view .LVU1010
 3365 006a 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3366              		.loc 1 2909 45 discriminator 1 view .LVU1011
 3367 006c 012B     		cmp	r3, #1
 3368 006e 27D0     		beq	.L311
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3369              		.loc 1 2912 13 is_stmt 1 view .LVU1012
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3370              		.loc 1 2912 28 is_stmt 0 view .LVU1013
 3371 0070 0020     		movs	r0, #0
 3372              	.LVL316:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3373              		.loc 1 2912 28 view .LVU1014
 3374 0072 3060     		str	r0, [r6]
 3375 0074 D9E7     		b	.L260
 3376              	.LVL317:
ARM GAS  /tmp/cc3tDhb2.s 			page 133


 3377              	.L310:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3378              		.loc 1 2912 28 view .LVU1015
 3379 0076 5C20     		movs	r0, #92
 3380              	.LVL318:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3381              		.loc 1 2912 28 view .LVU1016
 3382 0078 D7E7     		b	.L260
 3383              	.LVL319:
 3384              	.L266:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3385              		.loc 1 2912 28 view .LVU1017
 3386 007a 41F20803 		movw	r3, #4104
 3387 007e 9D42     		cmp	r5, r3
 3388 0080 3FD0     		beq	.L269
 3389 0082 41F20A03 		movw	r3, #4106
 3390 0086 9D42     		cmp	r5, r3
 3391 0088 18D1     		bne	.L312
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3392              		.loc 1 3002 11 is_stmt 1 view .LVU1018
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3393              		.loc 1 3002 11 view .LVU1019
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3394              		.loc 1 3002 11 view .LVU1020
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3395              		.loc 1 3002 11 view .LVU1021
 3396 008a 069B     		ldr	r3, [sp, #24]
 3397 008c 1B68     		ldr	r3, [r3]
 3398 008e 032B     		cmp	r3, #3
 3399 0090 40F2BD80 		bls	.L292
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3400              		.loc 1 3002 11 discriminator 2 view .LVU1022
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3401              		.loc 1 3002 11 discriminator 2 view .LVU1023
 3402 0094 0368     		ldr	r3, [r0]
 3403 0096 002B     		cmp	r3, #0
 3404 0098 00F0BB80 		beq	.L293
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3405              		.loc 1 3002 11 is_stmt 0 discriminator 4 view .LVU1024
 3406 009c 5A68     		ldr	r2, [r3, #4]
 3407 009e 002A     		cmp	r2, #0
 3408 00a0 00F0B980 		beq	.L294
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3409              		.loc 1 3002 11 is_stmt 1 discriminator 6 view .LVU1025
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3410              		.loc 1 3002 11 discriminator 6 view .LVU1026
 3411 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3412 00a6 03F0F003 		and	r3, r3, #240
 3413 00aa 202B     		cmp	r3, #32
 3414 00ac 40F0B580 		bne	.L295
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3415              		.loc 1 3002 11 discriminator 8 view .LVU1027
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3416              		.loc 1 3010 11 discriminator 8 view .LVU1028
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3417              		.loc 1 3010 28 is_stmt 0 discriminator 8 view .LVU1029
 3418 00b0 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
ARM GAS  /tmp/cc3tDhb2.s 			page 134


3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3419              		.loc 1 3010 89 discriminator 8 view .LVU1030
 3420 00b2 03F00103 		and	r3, r3, #1
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3421              		.loc 1 3010 26 discriminator 8 view .LVU1031
 3422 00b6 3360     		str	r3, [r6]
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3423              		.loc 1 3011 11 is_stmt 1 discriminator 8 view .LVU1032
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3424              		.loc 1 2884 7 is_stmt 0 discriminator 8 view .LVU1033
 3425 00b8 0020     		movs	r0, #0
 3426              	.LVL320:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3427              		.loc 1 3011 11 discriminator 8 view .LVU1034
 3428 00ba B6E7     		b	.L260
 3429              	.LVL321:
 3430              	.L312:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3431              		.loc 1 3011 11 discriminator 8 view .LVU1035
 3432 00bc 5C20     		movs	r0, #92
 3433              	.LVL322:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3434              		.loc 1 3011 11 discriminator 8 view .LVU1036
 3435 00be B4E7     		b	.L260
 3436              	.LVL323:
 3437              	.L311:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3438              		.loc 1 2910 13 is_stmt 1 view .LVU1037
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3439              		.loc 1 2910 28 is_stmt 0 view .LVU1038
 3440 00c0 3360     		str	r3, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3441              		.loc 1 2884 7 view .LVU1039
 3442 00c2 0020     		movs	r0, #0
 3443              	.LVL324:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3444              		.loc 1 2910 28 view .LVU1040
 3445 00c4 B1E7     		b	.L260
 3446              	.LVL325:
 3447              	.L267:
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3448              		.loc 1 2923 11 is_stmt 1 view .LVU1041
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3449              		.loc 1 2923 14 is_stmt 0 view .LVU1042
 3450 00c6 202D     		cmp	r5, #32
 3451 00c8 06D1     		bne	.L272
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3452              		.loc 1 2924 16 discriminator 1 view .LVU1043
 3453 00ca 3B68     		ldr	r3, [r7]
 3454 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3455              		.loc 1 2923 41 discriminator 1 view .LVU1044
 3456 00ce 03F0F003 		and	r3, r3, #240
 3457 00d2 202B     		cmp	r3, #32
 3458 00d4 40F08D80 		bne	.L285
 3459              	.L272:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 135


 3460              		.loc 1 2929 11 is_stmt 1 view .LVU1045
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3461              		.loc 1 2929 21 is_stmt 0 view .LVU1046
 3462 00d8 2846     		mov	r0, r5
 3463              	.LVL326:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3464              		.loc 1 2929 21 view .LVU1047
 3465 00da FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 3466              	.LVL327:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3467              		.loc 1 2931 11 is_stmt 1 view .LVU1048
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3468              		.loc 1 2931 11 view .LVU1049
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3469              		.loc 1 2931 11 view .LVU1050
 3470 00de 069B     		ldr	r3, [sp, #24]
 3471 00e0 1B68     		ldr	r3, [r3]
 3472 00e2 032B     		cmp	r3, #3
 3473 00e4 40F28780 		bls	.L286
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3474              		.loc 1 2931 11 discriminator 2 view .LVU1051
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3475              		.loc 1 2931 11 discriminator 2 view .LVU1052
 3476 00e8 3B68     		ldr	r3, [r7]
 3477 00ea 002B     		cmp	r3, #0
 3478 00ec 00F08580 		beq	.L287
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3479              		.loc 1 2931 11 is_stmt 0 discriminator 4 view .LVU1053
 3480 00f0 5B68     		ldr	r3, [r3, #4]
 3481 00f2 002B     		cmp	r3, #0
 3482 00f4 00F08380 		beq	.L288
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3483              		.loc 1 2931 11 is_stmt 1 discriminator 6 view .LVU1054
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3484              		.loc 1 2932 11 discriminator 6 view .LVU1055
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3485              		.loc 1 2932 28 is_stmt 0 discriminator 6 view .LVU1056
 3486 00f8 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 3487 00fa 1840     		ands	r0, r0, r3
 3488              	.LVL328:
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3489              		.loc 1 2932 26 discriminator 6 view .LVU1057
 3490 00fc 3060     		str	r0, [r6]
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3491              		.loc 1 2934 84 is_stmt 1 discriminator 6 view .LVU1058
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3492              		.loc 1 2935 11 discriminator 6 view .LVU1059
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3493              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1060
 3494 00fe 0020     		movs	r0, #0
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3495              		.loc 1 2935 11 discriminator 6 view .LVU1061
 3496 0100 93E7     		b	.L260
 3497              	.LVL329:
 3498              	.L269:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3499              		.loc 1 2938 11 is_stmt 1 view .LVU1062
ARM GAS  /tmp/cc3tDhb2.s 			page 136


2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3500              		.loc 1 2938 11 view .LVU1063
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3501              		.loc 1 2938 11 view .LVU1064
 3502 0102 069B     		ldr	r3, [sp, #24]
 3503 0104 1B68     		ldr	r3, [r3]
 3504 0106 032B     		cmp	r3, #3
 3505 0108 7BD9     		bls	.L289
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3506              		.loc 1 2938 11 discriminator 2 view .LVU1065
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3507              		.loc 1 2938 11 discriminator 2 view .LVU1066
 3508 010a 0368     		ldr	r3, [r0]
 3509 010c 002B     		cmp	r3, #0
 3510 010e 7AD0     		beq	.L290
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3511              		.loc 1 2938 11 discriminator 4 view .LVU1067
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3512              		.loc 1 2939 11 discriminator 4 view .LVU1068
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3513              		.loc 1 2939 19 is_stmt 0 discriminator 4 view .LVU1069
 3514 0110 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3515 0112 02F0F003 		and	r3, r2, #240
 3516 0116 202B     		cmp	r3, #32
 3517 0118 0ED0     		beq	.L273
 3518 011a 402B     		cmp	r3, #64
 3519 011c 04D0     		beq	.L274
 3520 011e 102B     		cmp	r3, #16
 3521 0120 06D0     		beq	.L313
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3522              		.loc 1 2950 15 is_stmt 1 view .LVU1070
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3523              		.loc 1 2950 30 is_stmt 0 view .LVU1071
 3524 0122 3260     		str	r2, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3525              		.loc 1 2884 7 view .LVU1072
 3526 0124 0020     		movs	r0, #0
 3527              	.LVL330:
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3528              		.loc 1 2884 7 view .LVU1073
 3529 0126 80E7     		b	.L260
 3530              	.LVL331:
 3531              	.L274:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3532              		.loc 1 2941 15 is_stmt 1 view .LVU1074
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3533              		.loc 1 2941 30 is_stmt 0 view .LVU1075
 3534 0128 0323     		movs	r3, #3
 3535 012a 3360     		str	r3, [r6]
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3536              		.loc 1 2942 15 is_stmt 1 view .LVU1076
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3537              		.loc 1 2884 7 is_stmt 0 view .LVU1077
 3538 012c 0020     		movs	r0, #0
 3539              	.LVL332:
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3540              		.loc 1 2942 15 view .LVU1078
ARM GAS  /tmp/cc3tDhb2.s 			page 137


 3541 012e 7CE7     		b	.L260
 3542              	.LVL333:
 3543              	.L313:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3544              		.loc 1 2944 15 is_stmt 1 view .LVU1079
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3545              		.loc 1 2944 30 is_stmt 0 view .LVU1080
 3546 0130 0123     		movs	r3, #1
 3547 0132 3360     		str	r3, [r6]
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3548              		.loc 1 2945 15 is_stmt 1 view .LVU1081
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3549              		.loc 1 2884 7 is_stmt 0 view .LVU1082
 3550 0134 0020     		movs	r0, #0
 3551              	.LVL334:
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3552              		.loc 1 2945 15 view .LVU1083
 3553 0136 78E7     		b	.L260
 3554              	.LVL335:
 3555              	.L273:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3556              		.loc 1 2947 15 is_stmt 1 view .LVU1084
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3557              		.loc 1 2947 30 is_stmt 0 view .LVU1085
 3558 0138 0223     		movs	r3, #2
 3559 013a 3360     		str	r3, [r6]
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3560              		.loc 1 2948 15 is_stmt 1 view .LVU1086
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3561              		.loc 1 2884 7 is_stmt 0 view .LVU1087
 3562 013c 0020     		movs	r0, #0
 3563              	.LVL336:
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3564              		.loc 1 2948 15 view .LVU1088
 3565 013e 74E7     		b	.L260
 3566              	.LVL337:
 3567              	.L265:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3568              		.loc 1 2960 11 is_stmt 1 view .LVU1089
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3569              		.loc 1 2960 11 view .LVU1090
 3570 0140 069B     		ldr	r3, [sp, #24]
 3571 0142 1B68     		ldr	r3, [r3]
 3572 0144 032B     		cmp	r3, #3
 3573 0146 60D9     		bls	.L291
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3574              		.loc 1 2960 11 discriminator 2 view .LVU1091
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3575              		.loc 1 2961 11 discriminator 2 view .LVU1092
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3576              		.loc 1 2961 28 is_stmt 0 discriminator 2 view .LVU1093
 3577 0148 0068     		ldr	r0, [r0]
 3578              	.LVL338:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3579              		.loc 1 2961 28 discriminator 2 view .LVU1094
 3580 014a FFF7FEFF 		bl	netconn_err
 3581              	.LVL339:
ARM GAS  /tmp/cc3tDhb2.s 			page 138


 3582 014e FFF7FEFF 		bl	err_to_errno
 3583              	.LVL340:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3584              		.loc 1 2961 26 discriminator 2 view .LVU1095
 3585 0152 3060     		str	r0, [r6]
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3586              		.loc 1 2963 58 is_stmt 1 discriminator 2 view .LVU1096
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3587              		.loc 1 2964 11 discriminator 2 view .LVU1097
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3588              		.loc 1 2884 7 is_stmt 0 discriminator 2 view .LVU1098
 3589 0154 0020     		movs	r0, #0
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3590              		.loc 1 2964 11 discriminator 2 view .LVU1099
 3591 0156 68E7     		b	.L260
 3592              	.LVL341:
 3593              	.L264:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 3594              		.loc 1 3023 7 is_stmt 1 view .LVU1100
 3595 0158 012D     		cmp	r5, #1
 3596 015a 0FD0     		beq	.L277
 3597 015c 022D     		cmp	r5, #2
 3598 015e 5ED1     		bne	.L296
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3599              		.loc 1 3025 11 view .LVU1101
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3600              		.loc 1 3025 11 view .LVU1102
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3601              		.loc 1 3025 11 view .LVU1103
 3602 0160 069B     		ldr	r3, [sp, #24]
 3603 0162 1B68     		ldr	r3, [r3]
 3604 0164 032B     		cmp	r3, #3
 3605 0166 5CD9     		bls	.L297
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3606              		.loc 1 3025 11 discriminator 2 view .LVU1104
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3607              		.loc 1 3025 11 discriminator 2 view .LVU1105
 3608 0168 0368     		ldr	r3, [r0]
 3609 016a 002B     		cmp	r3, #0
 3610 016c 5BD0     		beq	.L298
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3611              		.loc 1 3025 11 is_stmt 0 discriminator 4 view .LVU1106
 3612 016e 5B68     		ldr	r3, [r3, #4]
 3613 0170 002B     		cmp	r3, #0
 3614 0172 5AD0     		beq	.L299
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3615              		.loc 1 3025 11 is_stmt 1 discriminator 6 view .LVU1107
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3616              		.loc 1 3026 11 discriminator 6 view .LVU1108
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3617              		.loc 1 3026 46 is_stmt 0 discriminator 6 view .LVU1109
 3618 0174 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3619              		.loc 1 3026 26 discriminator 6 view .LVU1110
 3620 0176 3360     		str	r3, [r6]
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3621              		.loc 1 3028 58 is_stmt 1 discriminator 6 view .LVU1111
ARM GAS  /tmp/cc3tDhb2.s 			page 139


3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3622              		.loc 1 3029 11 discriminator 6 view .LVU1112
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3623              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1113
 3624 0178 2046     		mov	r0, r4
 3625              	.LVL342:
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3626              		.loc 1 3029 11 discriminator 6 view .LVU1114
 3627 017a 56E7     		b	.L260
 3628              	.LVL343:
 3629              	.L277:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3630              		.loc 1 3031 11 is_stmt 1 view .LVU1115
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3631              		.loc 1 3031 11 view .LVU1116
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3632              		.loc 1 3031 11 view .LVU1117
 3633 017c 069B     		ldr	r3, [sp, #24]
 3634 017e 1B68     		ldr	r3, [r3]
 3635 0180 032B     		cmp	r3, #3
 3636 0182 54D9     		bls	.L300
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3637              		.loc 1 3031 11 discriminator 2 view .LVU1118
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3638              		.loc 1 3031 11 discriminator 2 view .LVU1119
 3639 0184 0368     		ldr	r3, [r0]
 3640 0186 002B     		cmp	r3, #0
 3641 0188 53D0     		beq	.L301
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3642              		.loc 1 3031 11 is_stmt 0 discriminator 4 view .LVU1120
 3643 018a 5B68     		ldr	r3, [r3, #4]
 3644 018c 002B     		cmp	r3, #0
 3645 018e 52D0     		beq	.L302
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3646              		.loc 1 3031 11 is_stmt 1 discriminator 6 view .LVU1121
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3647              		.loc 1 3032 11 discriminator 6 view .LVU1122
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3648              		.loc 1 3032 46 is_stmt 0 discriminator 6 view .LVU1123
 3649 0190 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3650              		.loc 1 3032 26 discriminator 6 view .LVU1124
 3651 0192 3360     		str	r3, [r6]
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3652              		.loc 1 3034 58 is_stmt 1 discriminator 6 view .LVU1125
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3653              		.loc 1 3035 11 discriminator 6 view .LVU1126
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3654              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1127
 3655 0194 2046     		mov	r0, r4
 3656              	.LVL344:
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3657              		.loc 1 3035 11 discriminator 6 view .LVU1128
 3658 0196 48E7     		b	.L260
 3659              	.LVL345:
 3660              	.L262:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
ARM GAS  /tmp/cc3tDhb2.s 			page 140


 3661              		.loc 1 3080 7 is_stmt 1 view .LVU1129
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3662              		.loc 1 3080 7 view .LVU1130
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3663              		.loc 1 3080 7 view .LVU1131
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3664              		.loc 1 3080 7 view .LVU1132
 3665 0198 069B     		ldr	r3, [sp, #24]
 3666 019a 1B68     		ldr	r3, [r3]
 3667 019c 032B     		cmp	r3, #3
 3668 019e 4CD9     		bls	.L303
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3669              		.loc 1 3080 7 discriminator 2 view .LVU1133
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3670              		.loc 1 3080 7 discriminator 2 view .LVU1134
 3671 01a0 0368     		ldr	r3, [r0]
 3672 01a2 002B     		cmp	r3, #0
 3673 01a4 4BD0     		beq	.L304
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3674              		.loc 1 3080 7 is_stmt 0 discriminator 4 view .LVU1135
 3675 01a6 5A68     		ldr	r2, [r3, #4]
 3676 01a8 002A     		cmp	r2, #0
 3677 01aa 4AD0     		beq	.L305
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3678              		.loc 1 3080 7 is_stmt 1 discriminator 6 view .LVU1136
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3679              		.loc 1 3080 7 discriminator 6 view .LVU1137
 3680 01ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3681 01ae 03F0F003 		and	r3, r3, #240
 3682 01b2 102B     		cmp	r3, #16
 3683 01b4 47D1     		bne	.L306
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3684              		.loc 1 3080 7 discriminator 8 view .LVU1138
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3685              		.loc 1 3081 7 discriminator 8 view .LVU1139
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3686              		.loc 1 3081 30 is_stmt 0 discriminator 8 view .LVU1140
 3687 01b6 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3688              		.loc 1 3081 10 discriminator 8 view .LVU1141
 3689 01b8 012B     		cmp	r3, #1
 3690 01ba 46D0     		beq	.L307
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3691              		.loc 1 3085 7 is_stmt 1 view .LVU1142
 3692 01bc 012D     		cmp	r5, #1
 3693 01be 03D0     		beq	.L278
 3694 01c0 022D     		cmp	r5, #2
 3695 01c2 07D0     		beq	.L279
 3696 01c4 5C20     		movs	r0, #92
 3697              	.LVL346:
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3698              		.loc 1 3085 7 is_stmt 0 view .LVU1143
 3699 01c6 30E7     		b	.L260
 3700              	.LVL347:
 3701              	.L278:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3702              		.loc 1 3087 11 is_stmt 1 view .LVU1144
ARM GAS  /tmp/cc3tDhb2.s 			page 141


3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3703              		.loc 1 3087 28 is_stmt 0 view .LVU1145
 3704 01c8 538B     		ldrh	r3, [r2, #26]
 3705 01ca C3F38013 		ubfx	r3, r3, #6, #1
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3706              		.loc 1 3087 26 view .LVU1146
 3707 01ce 3360     		str	r3, [r6]
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3708              		.loc 1 3089 76 is_stmt 1 view .LVU1147
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3709              		.loc 1 3090 11 view .LVU1148
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3710              		.loc 1 2884 7 is_stmt 0 view .LVU1149
 3711 01d0 0020     		movs	r0, #0
 3712              	.LVL348:
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3713              		.loc 1 3090 11 view .LVU1150
 3714 01d2 2AE7     		b	.L260
 3715              	.LVL349:
 3716              	.L279:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3717              		.loc 1 3092 11 is_stmt 1 view .LVU1151
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3718              		.loc 1 3092 52 is_stmt 0 view .LVU1152
 3719 01d4 D2F89430 		ldr	r3, [r2, #148]
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3720              		.loc 1 3092 26 view .LVU1153
 3721 01d8 3360     		str	r3, [r6]
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3722              		.loc 1 3094 58 is_stmt 1 view .LVU1154
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3723              		.loc 1 3095 11 view .LVU1155
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3724              		.loc 1 2884 7 is_stmt 0 view .LVU1156
 3725 01da 0020     		movs	r0, #0
 3726              	.LVL350:
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3727              		.loc 1 3095 11 view .LVU1157
 3728 01dc 25E7     		b	.L260
 3729              	.LVL351:
 3730              	.L280:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3731              		.loc 1 2887 12 view .LVU1158
 3732 01de 0920     		movs	r0, #9
 3733              	.LVL352:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3734              		.loc 1 2887 12 view .LVU1159
 3735 01e0 23E7     		b	.L260
 3736              	.LVL353:
 3737              	.L281:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3738              		.loc 1 2904 11 view .LVU1160
 3739 01e2 1620     		movs	r0, #22
 3740              	.LVL354:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3741              		.loc 1 2904 11 view .LVU1161
 3742 01e4 21E7     		b	.L260
ARM GAS  /tmp/cc3tDhb2.s 			page 142


 3743              	.LVL355:
 3744              	.L282:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3745              		.loc 1 2904 11 view .LVU1162
 3746 01e6 1620     		movs	r0, #22
 3747              	.LVL356:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3748              		.loc 1 2904 11 view .LVU1163
 3749 01e8 1FE7     		b	.L260
 3750              	.LVL357:
 3751              	.L283:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3752              		.loc 1 2904 11 view .LVU1164
 3753 01ea 1620     		movs	r0, #22
 3754              	.LVL358:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3755              		.loc 1 2904 11 view .LVU1165
 3756 01ec 1DE7     		b	.L260
 3757              	.LVL359:
 3758              	.L284:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3759              		.loc 1 2907 20 view .LVU1166
 3760 01ee 5C20     		movs	r0, #92
 3761              	.LVL360:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3762              		.loc 1 2907 20 view .LVU1167
 3763 01f0 1BE7     		b	.L260
 3764              	.LVL361:
 3765              	.L285:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3766              		.loc 1 2926 20 view .LVU1168
 3767 01f2 5C20     		movs	r0, #92
 3768              	.LVL362:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3769              		.loc 1 2926 20 view .LVU1169
 3770 01f4 19E7     		b	.L260
 3771              	.LVL363:
 3772              	.L286:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3773              		.loc 1 2931 11 view .LVU1170
 3774 01f6 1620     		movs	r0, #22
 3775              	.LVL364:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3776              		.loc 1 2931 11 view .LVU1171
 3777 01f8 17E7     		b	.L260
 3778              	.LVL365:
 3779              	.L287:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3780              		.loc 1 2931 11 view .LVU1172
 3781 01fa 1620     		movs	r0, #22
 3782              	.LVL366:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3783              		.loc 1 2931 11 view .LVU1173
 3784 01fc 15E7     		b	.L260
 3785              	.LVL367:
 3786              	.L288:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
ARM GAS  /tmp/cc3tDhb2.s 			page 143


 3787              		.loc 1 2931 11 view .LVU1174
 3788 01fe 1620     		movs	r0, #22
 3789              	.LVL368:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3790              		.loc 1 2931 11 view .LVU1175
 3791 0200 13E7     		b	.L260
 3792              	.LVL369:
 3793              	.L289:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3794              		.loc 1 2938 11 view .LVU1176
 3795 0202 1620     		movs	r0, #22
 3796              	.LVL370:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3797              		.loc 1 2938 11 view .LVU1177
 3798 0204 11E7     		b	.L260
 3799              	.LVL371:
 3800              	.L290:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3801              		.loc 1 2938 11 view .LVU1178
 3802 0206 1620     		movs	r0, #22
 3803              	.LVL372:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3804              		.loc 1 2938 11 view .LVU1179
 3805 0208 0FE7     		b	.L260
 3806              	.LVL373:
 3807              	.L291:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3808              		.loc 1 2960 11 view .LVU1180
 3809 020a 1620     		movs	r0, #22
 3810              	.LVL374:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3811              		.loc 1 2960 11 view .LVU1181
 3812 020c 0DE7     		b	.L260
 3813              	.LVL375:
 3814              	.L292:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3815              		.loc 1 3002 11 view .LVU1182
 3816 020e 1620     		movs	r0, #22
 3817              	.LVL376:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3818              		.loc 1 3002 11 view .LVU1183
 3819 0210 0BE7     		b	.L260
 3820              	.LVL377:
 3821              	.L293:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3822              		.loc 1 3002 11 view .LVU1184
 3823 0212 1620     		movs	r0, #22
 3824              	.LVL378:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3825              		.loc 1 3002 11 view .LVU1185
 3826 0214 09E7     		b	.L260
 3827              	.LVL379:
 3828              	.L294:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3829              		.loc 1 3002 11 view .LVU1186
 3830 0216 1620     		movs	r0, #22
 3831              	.LVL380:
ARM GAS  /tmp/cc3tDhb2.s 			page 144


3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3832              		.loc 1 3002 11 view .LVU1187
 3833 0218 07E7     		b	.L260
 3834              	.LVL381:
 3835              	.L295:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3836              		.loc 1 3002 11 view .LVU1188
 3837 021a 5C20     		movs	r0, #92
 3838              	.LVL382:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3839              		.loc 1 3002 11 view .LVU1189
 3840 021c 05E7     		b	.L260
 3841              	.LVL383:
 3842              	.L296:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3843              		.loc 1 3002 11 view .LVU1190
 3844 021e 5C20     		movs	r0, #92
 3845              	.LVL384:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3846              		.loc 1 3002 11 view .LVU1191
 3847 0220 03E7     		b	.L260
 3848              	.LVL385:
 3849              	.L297:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3850              		.loc 1 3025 11 view .LVU1192
 3851 0222 1620     		movs	r0, #22
 3852              	.LVL386:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3853              		.loc 1 3025 11 view .LVU1193
 3854 0224 01E7     		b	.L260
 3855              	.LVL387:
 3856              	.L298:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3857              		.loc 1 3025 11 view .LVU1194
 3858 0226 1620     		movs	r0, #22
 3859              	.LVL388:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3860              		.loc 1 3025 11 view .LVU1195
 3861 0228 FFE6     		b	.L260
 3862              	.LVL389:
 3863              	.L299:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3864              		.loc 1 3025 11 view .LVU1196
 3865 022a 1620     		movs	r0, #22
 3866              	.LVL390:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3867              		.loc 1 3025 11 view .LVU1197
 3868 022c FDE6     		b	.L260
 3869              	.LVL391:
 3870              	.L300:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3871              		.loc 1 3031 11 view .LVU1198
 3872 022e 1620     		movs	r0, #22
 3873              	.LVL392:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3874              		.loc 1 3031 11 view .LVU1199
 3875 0230 FBE6     		b	.L260
ARM GAS  /tmp/cc3tDhb2.s 			page 145


 3876              	.LVL393:
 3877              	.L301:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3878              		.loc 1 3031 11 view .LVU1200
 3879 0232 1620     		movs	r0, #22
 3880              	.LVL394:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3881              		.loc 1 3031 11 view .LVU1201
 3882 0234 F9E6     		b	.L260
 3883              	.LVL395:
 3884              	.L302:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3885              		.loc 1 3031 11 view .LVU1202
 3886 0236 1620     		movs	r0, #22
 3887              	.LVL396:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3888              		.loc 1 3031 11 view .LVU1203
 3889 0238 F7E6     		b	.L260
 3890              	.LVL397:
 3891              	.L303:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3892              		.loc 1 3080 7 view .LVU1204
 3893 023a 1620     		movs	r0, #22
 3894              	.LVL398:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3895              		.loc 1 3080 7 view .LVU1205
 3896 023c F5E6     		b	.L260
 3897              	.LVL399:
 3898              	.L304:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3899              		.loc 1 3080 7 view .LVU1206
 3900 023e 1620     		movs	r0, #22
 3901              	.LVL400:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3902              		.loc 1 3080 7 view .LVU1207
 3903 0240 F3E6     		b	.L260
 3904              	.LVL401:
 3905              	.L305:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3906              		.loc 1 3080 7 view .LVU1208
 3907 0242 1620     		movs	r0, #22
 3908              	.LVL402:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3909              		.loc 1 3080 7 view .LVU1209
 3910 0244 F1E6     		b	.L260
 3911              	.LVL403:
 3912              	.L306:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3913              		.loc 1 3080 7 view .LVU1210
 3914 0246 5C20     		movs	r0, #92
 3915              	.LVL404:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3916              		.loc 1 3080 7 view .LVU1211
 3917 0248 EFE6     		b	.L260
 3918              	.LVL405:
 3919              	.L307:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  /tmp/cc3tDhb2.s 			page 146


 3920              		.loc 1 3083 16 view .LVU1212
 3921 024a 1620     		movs	r0, #22
 3922              	.LVL406:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3923              		.loc 1 3083 16 view .LVU1213
 3924 024c EDE6     		b	.L260
 3925              		.cfi_endproc
 3926              	.LFE206:
 3928              		.section	.rodata.lwip_setsockopt_impl.str1.4,"aMS",%progbits,1
 3929              		.align	2
 3930              	.LC19:
 3931 0000 556E6861 		.ascii	"Unhandled netconn type in SO_BINDTODEVICE\000"
 3931      6E646C65 
 3931      64206E65 
 3931      74636F6E 
 3931      6E207479 
 3932              		.section	.text.lwip_setsockopt_impl,"ax",%progbits
 3933              		.align	1
 3934              		.syntax unified
 3935              		.thumb
 3936              		.thumb_func
 3937              		.fpu fpv4-sp-d16
 3939              	lwip_setsockopt_impl:
 3940              	.LVL407:
 3941              	.LFB208:
3203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt(int s, int level, int optname, const void *optval, socklen_t optlen)
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
3209:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
3211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
3212:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
3213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NULL == optval) {
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3223:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
3229:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3230:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
3231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
3234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
ARM GAS  /tmp/cc3tDhb2.s 			page 147


3235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
3236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
3242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
3243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
3244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
3245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = optlen;
3246:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval, optval, optlen);
3248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.pc = (const void *)optval;
3250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
3252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
3253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
3254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
3256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_setsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
3258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
3259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
3261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
3265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
3267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
3268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_callback: only used without CORE_LOCKING
3278:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
3279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
3281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_callback(void *arg)
3282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
3284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
3285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
3286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_setsockopt_impl(data->s, data->level, data->optname,
3288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
3290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.pc,
ARM GAS  /tmp/cc3tDhb2.s 			page 148


3292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optlen);
3294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
3296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_impl: the actual implementation of setsockopt:
3300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_setsockopt, either called directly or through callback
3301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
3303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen)
3304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 3942              		.loc 1 3304 1 is_stmt 1 view -0
 3943              		.cfi_startproc
 3944              		@ args = 4, pretend = 0, frame = 0
 3945              		@ frame_needed = 0, uses_anonymous_args = 0
 3946              		.loc 1 3304 1 is_stmt 0 view .LVU1215
 3947 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3948              	.LCFI52:
 3949              		.cfi_def_cfa_offset 24
 3950              		.cfi_offset 3, -24
 3951              		.cfi_offset 4, -20
 3952              		.cfi_offset 5, -16
 3953              		.cfi_offset 6, -12
 3954              		.cfi_offset 7, -8
 3955              		.cfi_offset 14, -4
 3956 0002 0C46     		mov	r4, r1
 3957 0004 1546     		mov	r5, r2
 3958 0006 1E46     		mov	r6, r3
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 3959              		.loc 1 3305 3 is_stmt 1 view .LVU1216
 3960              	.LVL408:
3306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3961              		.loc 1 3306 3 view .LVU1217
 3962              		.loc 1 3306 28 is_stmt 0 view .LVU1218
 3963 0008 FFF7FEFF 		bl	tryget_socket
 3964              	.LVL409:
3307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3965              		.loc 1 3307 3 is_stmt 1 view .LVU1219
 3966              		.loc 1 3307 6 is_stmt 0 view .LVU1220
 3967 000c 0028     		cmp	r0, #0
 3968 000e 00F0D680 		beq	.L334
 3969 0012 0746     		mov	r7, r0
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
3309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3310:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3311:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_SETSOCKOPT
3312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_SETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
3313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
3314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 3970              		.loc 1 3317 3 is_stmt 1 view .LVU1221
 3971 0014 062C     		cmp	r4, #6
 3972 0016 00F0A980 		beq	.L316
ARM GAS  /tmp/cc3tDhb2.s 			page 149


 3973 001a 40F6FF73 		movw	r3, #4095
 3974 001e 9C42     		cmp	r4, r3
 3975 0020 04D0     		beq	.L317
 3976 0022 002C     		cmp	r4, #0
 3977 0024 00F08480 		beq	.L318
 3978 0028 5C20     		movs	r0, #92
 3979              	.LVL410:
 3980              	.L314:
3318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
3320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* SO_ACCEPTCONN is get-only */
3324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
3326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
3327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
3328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
3329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
3330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
3333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
3338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
3342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_reset_option(sock->conn->pcb.ip, optname);
3344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, optname=0x%x, ..) -> %s\n",
3346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(const int *)optval ? "on" : "off")));
3347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3348:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_TYPE is get-only */
3350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_ERROR is get-only */
3351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3352:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
3353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO: {
3354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_sendtimeout(sock->conn, ms_long);
3362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
3365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
3366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO: {
ARM GAS  /tmp/cc3tDhb2.s 			page 150


3367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvtimeout(sock->conn, (u32_t)ms_long);
3375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
3378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
3380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, int);
3381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvbufsize(sock->conn, *(const int *)optval);
3382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3384:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
3385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
3386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct linger *linger = (const struct linger *)optval;
3387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct linger);
3388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (linger->l_onoff) {
3389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             int lingersec = linger->l_linger;
3390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec < 0) {
3391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return EINVAL;
3393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec > 0xFFFF) {
3395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               lingersec = 0xFFFF;
3396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = (s16_t)lingersec;
3398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = -1;
3400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BINDTODEVICE: {
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ifreq *iface;
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
ARM GAS  /tmp/cc3tDhb2.s 			page 151


3424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct ifreq);
3426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           iface = (const struct ifreq *)optval;
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
3431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return ENODEV;
3433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
3437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               tcp_bind_netif(sock->conn->pcb.tcp, n);
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               udp_bind_netif(sock->conn->pcb.udp, n);
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3446:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_RAW
3448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
3449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               raw_bind_netif(sock->conn->pcb.raw, n);
3450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_ASSERT("Unhandled netconn type in SO_BINDTODEVICE", 0);
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
3472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->ttl));
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
3478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->tos));
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
ARM GAS  /tmp/cc3tDhb2.s 			page 152


3481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
3482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_PKTINFO:
3483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags |= NETCONN_FLAG_PKTINFO;
3486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags &= ~NETCONN_FLAG_PKTINFO;
3488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
3491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_ttl(sock->conn->pcb.udp, (u8_t)(*(const u8_t *)optval));
3495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF: {
3497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct in_addr, NETCONN_UDP);
3499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, (const struct in_addr *)optval);
3500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_netif_addr(sock->conn->pcb.udp, &if_addr);
3501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const u8_t *)optval) {
3506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
3513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_ADD_MEMBERSHIP:
3514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_DROP_MEMBERSHIP: {
3515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t igmp_err;
3517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ip_mreq *imr = (const struct ip_mreq *)optval;
3518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t multi_addr;
3520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ip_mreq, NETCONN_UDP);
3521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, &imr->imr_interface);
3522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&multi_addr, &imr->imr_multiaddr);
3523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IP_ADD_MEMBERSHIP) {
3524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_membership(s, &if_addr, &multi_addr)) {
3525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = ERR_OK;
3528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = igmp_joingroup(&if_addr, &multi_addr);
3530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             igmp_err = igmp_leavegroup(&if_addr, &multi_addr);
3533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_membership(s, &if_addr, &multi_addr);
3534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (igmp_err != ERR_OK) {
3536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
ARM GAS  /tmp/cc3tDhb2.s 			page 153


3538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
3541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3549:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
3562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_enable(sock->conn->pcb.tcp);
3564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_NODELAY) -> %s\n",
3566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval) ? "on" : "off") );
3567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = (u32_t)(*(const int *)optval);
3570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3574:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = 1000 * (u32_t)(*(const int *)optval);
3577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) -> %"U32_F"\n
3578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_intvl = 1000 * (u32_t)(*(const int *)optval);
3582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) -> %"U32_F"\
3583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_intvl));
3584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_cnt = (u32_t)(*(const int *)optval);
3587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) -> %"U32_F"\n"
3588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_cnt));
3589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3590:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
ARM GAS  /tmp/cc3tDhb2.s 			page 154


3595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP*/
3599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 1);
3608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 0);
3610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY, ..) -> %d\n",
3612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (netconn_get_ipv6only(sock->conn) ? 1 : 0)));
3613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3614:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
3615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_JOIN_GROUP:
3616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_LEAVE_GROUP: {
3617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t mld6_err;
3619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *netif;
3620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip6_addr_t multi_addr;
3621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ipv6_mreq *imr = (const struct ipv6_mreq *)optval;
3622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ipv6_mreq, NETCONN_UDP);
3623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet6_addr_to_ip6addr(&multi_addr, &imr->ipv6mr_multiaddr);
3624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("Invalid netif index", imr->ipv6mr_interface <= 0xFFu);
3625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netif = netif_get_by_index((u8_t)imr->ipv6mr_interface);
3626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (netif == NULL) {
3627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
3629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IPV6_JOIN_GROUP) {
3632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_mld6_membership(s, imr->ipv6mr_interface, &multi_addr)) {
3633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = ERR_OK;
3636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = mld6_joingroup_netif(netif, &multi_addr);
3638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             mld6_err = mld6_leavegroup_netif(netif, &multi_addr);
3641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_mld6_membership(s, imr->ipv6mr_interface, &multi_addr);
3642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (mld6_err != ERR_OK) {
3644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
3649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
ARM GAS  /tmp/cc3tDhb2.s 			page 155


3652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3657:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3658:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
3672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = 8;
3673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = (u16_t) * (const int *)optval;
3675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) -> 
3677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
3682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = 8;
3683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = (u16_t) * (const int *)optval;
3685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) -> 
3687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* It should not be possible to disable the checksum generation with ICMPv6
3703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            * as per RFC 3542 chapter 3.1 */
3704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->protocol == IPPROTO_ICMPV6) {
3705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3708:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 156


3709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_RAW);
3710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval < 0) {
3711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 0;
3712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else if (*(const int *)optval & 1) {
3713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Per RFC3542, odd offsets are not allowed */
3714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 1;
3718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_offset = (u16_t) * (const int *)optval;
3719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM, ..) -> %d\n"
3721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.raw->chksum_reqd));
3722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }  /* switch (level) */
3737:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3981              		.loc 1 3740 1 is_stmt 0 view .LVU1222
 3982 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3983              	.LVL411:
 3984              	.L317:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3985              		.loc 1 3321 7 is_stmt 1 view .LVU1223
 3986 002c 41F20A03 		movw	r3, #4106
 3987 0030 9D42     		cmp	r5, r3
 3988 0032 50D0     		beq	.L319
 3989 0034 26DC     		bgt	.L320
 3990 0036 082D     		cmp	r5, #8
 3991 0038 01D0     		beq	.L321
 3992 003a 202D     		cmp	r5, #32
 3993 003c 20D1     		bne	.L361
 3994              	.L321:
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3995              		.loc 1 3331 11 view .LVU1224
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3996              		.loc 1 3331 14 is_stmt 0 view .LVU1225
 3997 003e 202D     		cmp	r5, #32
 3998 0040 06D1     		bne	.L323
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3999              		.loc 1 3332 16 discriminator 1 view .LVU1226
 4000 0042 3B68     		ldr	r3, [r7]
 4001 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/cc3tDhb2.s 			page 157


3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4002              		.loc 1 3331 41 discriminator 1 view .LVU1227
 4003 0046 03F0F003 		and	r3, r3, #240
 4004 004a 202B     		cmp	r3, #32
 4005 004c 40F0B980 		bne	.L335
 4006              	.L323:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4007              		.loc 1 3337 11 is_stmt 1 view .LVU1228
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4008              		.loc 1 3337 21 is_stmt 0 view .LVU1229
 4009 0050 2846     		mov	r0, r5
 4010              	.LVL412:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4011              		.loc 1 3337 21 view .LVU1230
 4012 0052 FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 4013              	.LVL413:
 4014 0056 0346     		mov	r3, r0
 4015              	.LVL414:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4016              		.loc 1 3339 11 is_stmt 1 view .LVU1231
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4017              		.loc 1 3339 11 view .LVU1232
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4018              		.loc 1 3339 11 view .LVU1233
 4019 0058 069A     		ldr	r2, [sp, #24]
 4020 005a 032A     		cmp	r2, #3
 4021 005c 40F2B380 		bls	.L336
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4022              		.loc 1 3339 11 discriminator 2 view .LVU1234
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4023              		.loc 1 3339 11 discriminator 2 view .LVU1235
 4024 0060 3A68     		ldr	r2, [r7]
 4025 0062 002A     		cmp	r2, #0
 4026 0064 00F0B180 		beq	.L337
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4027              		.loc 1 3339 11 is_stmt 0 discriminator 4 view .LVU1236
 4028 0068 5268     		ldr	r2, [r2, #4]
 4029 006a 002A     		cmp	r2, #0
 4030 006c 00F0AF80 		beq	.L338
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4031              		.loc 1 3339 11 is_stmt 1 discriminator 6 view .LVU1237
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4032              		.loc 1 3340 11 discriminator 6 view .LVU1238
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4033              		.loc 1 3340 15 is_stmt 0 discriminator 6 view .LVU1239
 4034 0070 3068     		ldr	r0, [r6]
 4035              	.LVL415:
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4036              		.loc 1 3340 14 discriminator 6 view .LVU1240
 4037 0072 50B3     		cbz	r0, .L324
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4038              		.loc 1 3341 13 is_stmt 1 view .LVU1241
 4039 0074 92F90910 		ldrsb	r1, [r2, #9]
 4040 0078 0B43     		orrs	r3, r3, r1
 4041              	.LVL416:
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4042              		.loc 1 3341 13 is_stmt 0 view .LVU1242
ARM GAS  /tmp/cc3tDhb2.s 			page 158


 4043 007a 5372     		strb	r3, [r2, #9]
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4044              		.loc 1 3305 7 view .LVU1243
 4045 007c 0020     		movs	r0, #0
 4046 007e D4E7     		b	.L314
 4047              	.LVL417:
 4048              	.L361:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4049              		.loc 1 3305 7 view .LVU1244
 4050 0080 5C20     		movs	r0, #92
 4051              	.LVL418:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4052              		.loc 1 3305 7 view .LVU1245
 4053 0082 D2E7     		b	.L314
 4054              	.LVL419:
 4055              	.L320:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4056              		.loc 1 3305 7 view .LVU1246
 4057 0084 41F20B03 		movw	r3, #4107
 4058 0088 9D42     		cmp	r5, r3
 4059 008a 1CD1     		bne	.L362
 4060              	.LBB27:
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
 4061              		.loc 1 3422 11 is_stmt 1 view .LVU1247
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4062              		.loc 1 3423 11 view .LVU1248
 4063              	.LVL420:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4064              		.loc 1 3425 11 view .LVU1249
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4065              		.loc 1 3425 11 view .LVU1250
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4066              		.loc 1 3425 11 view .LVU1251
 4067 008c 069B     		ldr	r3, [sp, #24]
 4068 008e 052B     		cmp	r3, #5
 4069 0090 40F2A780 		bls	.L343
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4070              		.loc 1 3425 11 discriminator 2 view .LVU1252
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4071              		.loc 1 3425 11 discriminator 2 view .LVU1253
 4072 0094 0368     		ldr	r3, [r0]
 4073 0096 002B     		cmp	r3, #0
 4074 0098 00F0A580 		beq	.L344
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4075              		.loc 1 3425 11 discriminator 4 view .LVU1254
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
 4076              		.loc 1 3427 11 discriminator 4 view .LVU1255
 4077              	.LVL421:
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4078              		.loc 1 3428 11 discriminator 4 view .LVU1256
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4079              		.loc 1 3428 30 is_stmt 0 discriminator 4 view .LVU1257
 4080 009c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4081              		.loc 1 3428 14 discriminator 4 view .LVU1258
 4082 009e 002B     		cmp	r3, #0
 4083 00a0 34D1     		bne	.L363
ARM GAS  /tmp/cc3tDhb2.s 			page 159


3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4084              		.loc 1 3423 25 view .LVU1259
 4085 00a2 0021     		movs	r1, #0
 4086              	.LVL422:
 4087              	.L326:
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4088              		.loc 1 3436 11 is_stmt 1 view .LVU1260
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4089              		.loc 1 3436 19 is_stmt 0 view .LVU1261
 4090 00a4 3A68     		ldr	r2, [r7]
 4091 00a6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4092 00a8 03F0F003 		and	r3, r3, #240
 4093 00ac 102B     		cmp	r3, #16
 4094 00ae 35D0     		beq	.L327
 4095 00b0 202B     		cmp	r3, #32
 4096 00b2 38D0     		beq	.L328
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4097              		.loc 1 3453 15 is_stmt 1 discriminator 1 view .LVU1262
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4098              		.loc 1 3453 15 discriminator 1 view .LVU1263
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4099              		.loc 1 3453 15 discriminator 1 view .LVU1264
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4100              		.loc 1 3453 15 discriminator 1 view .LVU1265
 4101 00b4 594B     		ldr	r3, .L364
 4102 00b6 40F67D52 		movw	r2, #3453
 4103 00ba 5949     		ldr	r1, .L364+4
 4104              	.LVL423:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4105              		.loc 1 3453 15 is_stmt 0 discriminator 1 view .LVU1266
 4106 00bc 5948     		ldr	r0, .L364+8
 4107 00be FFF7FEFF 		bl	printf
 4108              	.LVL424:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4109              		.loc 1 3453 15 is_stmt 1 discriminator 1 view .LVU1267
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4110              		.loc 1 3453 15 discriminator 1 view .LVU1268
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4111              		.loc 1 3454 15 discriminator 1 view .LVU1269
 4112              	.LBE27:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4113              		.loc 1 3305 7 is_stmt 0 discriminator 1 view .LVU1270
 4114 00c2 0020     		movs	r0, #0
 4115              	.LBB28:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4116              		.loc 1 3454 15 discriminator 1 view .LVU1271
 4117 00c4 B1E7     		b	.L314
 4118              	.LVL425:
 4119              	.L362:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4120              		.loc 1 3454 15 discriminator 1 view .LVU1272
 4121              	.LBE28:
 4122 00c6 5C20     		movs	r0, #92
 4123              	.LVL426:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4124              		.loc 1 3454 15 discriminator 1 view .LVU1273
 4125 00c8 AFE7     		b	.L314
ARM GAS  /tmp/cc3tDhb2.s 			page 160


 4126              	.LVL427:
 4127              	.L324:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4128              		.loc 1 3343 13 is_stmt 1 view .LVU1274
 4129 00ca 92F90910 		ldrsb	r1, [r2, #9]
 4130 00ce 21EA0303 		bic	r3, r1, r3
 4131              	.LVL428:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4132              		.loc 1 3343 13 is_stmt 0 view .LVU1275
 4133 00d2 5372     		strb	r3, [r2, #9]
 4134 00d4 A9E7     		b	.L314
 4135              	.LVL429:
 4136              	.L319:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4137              		.loc 1 3406 11 is_stmt 1 view .LVU1276
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4138              		.loc 1 3406 11 view .LVU1277
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4139              		.loc 1 3406 11 view .LVU1278
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4140              		.loc 1 3406 11 view .LVU1279
 4141 00d6 069B     		ldr	r3, [sp, #24]
 4142 00d8 032B     		cmp	r3, #3
 4143 00da 7AD9     		bls	.L339
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4144              		.loc 1 3406 11 discriminator 2 view .LVU1280
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4145              		.loc 1 3406 11 discriminator 2 view .LVU1281
 4146 00dc 0368     		ldr	r3, [r0]
 4147 00de 002B     		cmp	r3, #0
 4148 00e0 79D0     		beq	.L340
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4149              		.loc 1 3406 11 is_stmt 0 discriminator 4 view .LVU1282
 4150 00e2 5A68     		ldr	r2, [r3, #4]
 4151 00e4 002A     		cmp	r2, #0
 4152 00e6 78D0     		beq	.L341
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4153              		.loc 1 3406 11 is_stmt 1 discriminator 6 view .LVU1283
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4154              		.loc 1 3406 11 discriminator 6 view .LVU1284
 4155 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4156 00ea 03F0F003 		and	r3, r3, #240
 4157 00ee 202B     		cmp	r3, #32
 4158 00f0 75D1     		bne	.L342
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4159              		.loc 1 3406 11 discriminator 8 view .LVU1285
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4160              		.loc 1 3414 11 discriminator 8 view .LVU1286
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4161              		.loc 1 3414 15 is_stmt 0 discriminator 8 view .LVU1287
 4162 00f2 3068     		ldr	r0, [r6]
 4163              	.LVL430:
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4164              		.loc 1 3414 14 discriminator 8 view .LVU1288
 4165 00f4 28B1     		cbz	r0, .L325
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4166              		.loc 1 3415 13 is_stmt 1 view .LVU1289
ARM GAS  /tmp/cc3tDhb2.s 			page 161


3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4167              		.loc 1 3415 13 view .LVU1290
 4168 00f6 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4169 00f8 43F00103 		orr	r3, r3, #1
 4170 00fc 1374     		strb	r3, [r2, #16]
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4171              		.loc 1 3415 13 view .LVU1291
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4172              		.loc 1 3305 7 is_stmt 0 view .LVU1292
 4173 00fe 0020     		movs	r0, #0
 4174 0100 93E7     		b	.L314
 4175              	.L325:
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4176              		.loc 1 3417 13 is_stmt 1 view .LVU1293
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4177              		.loc 1 3417 13 view .LVU1294
 4178 0102 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4179 0104 03F0FE03 		and	r3, r3, #254
 4180 0108 1374     		strb	r3, [r2, #16]
 4181 010a 8EE7     		b	.L314
 4182              	.LVL431:
 4183              	.L363:
 4184              	.LBB29:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4185              		.loc 1 3429 13 view .LVU1295
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4186              		.loc 1 3429 17 is_stmt 0 view .LVU1296
 4187 010c 3046     		mov	r0, r6
 4188              	.LVL432:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4189              		.loc 1 3429 17 view .LVU1297
 4190 010e FFF7FEFF 		bl	netif_find
 4191              	.LVL433:
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4192              		.loc 1 3430 13 is_stmt 1 view .LVU1298
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4193              		.loc 1 3430 16 is_stmt 0 view .LVU1299
 4194 0112 0146     		mov	r1, r0
 4195 0114 0028     		cmp	r0, #0
 4196 0116 C5D1     		bne	.L326
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4197              		.loc 1 3432 22 view .LVU1300
 4198 0118 1320     		movs	r0, #19
 4199              	.LVL434:
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4200              		.loc 1 3432 22 view .LVU1301
 4201 011a 86E7     		b	.L314
 4202              	.L327:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4203              		.loc 1 3439 15 is_stmt 1 view .LVU1302
 4204 011c 5068     		ldr	r0, [r2, #4]
 4205 011e FFF7FEFF 		bl	tcp_bind_netif
 4206              	.LVL435:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4207              		.loc 1 3440 15 view .LVU1303
 4208              	.LBE29:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
ARM GAS  /tmp/cc3tDhb2.s 			page 162


 4209              		.loc 1 3305 7 is_stmt 0 view .LVU1304
 4210 0122 0020     		movs	r0, #0
 4211              	.LBB30:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4212              		.loc 1 3440 15 view .LVU1305
 4213 0124 81E7     		b	.L314
 4214              	.LVL436:
 4215              	.L328:
3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4216              		.loc 1 3444 15 is_stmt 1 view .LVU1306
 4217 0126 5068     		ldr	r0, [r2, #4]
 4218 0128 FFF7FEFF 		bl	udp_bind_netif
 4219              	.LVL437:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4220              		.loc 1 3445 15 view .LVU1307
 4221              	.LBE30:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4222              		.loc 1 3305 7 is_stmt 0 view .LVU1308
 4223 012c 0020     		movs	r0, #0
 4224              	.LBB31:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4225              		.loc 1 3445 15 view .LVU1309
 4226 012e 7CE7     		b	.L314
 4227              	.LVL438:
 4228              	.L318:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4229              		.loc 1 3445 15 view .LVU1310
 4230              	.LBE31:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 4231              		.loc 1 3468 7 is_stmt 1 view .LVU1311
 4232 0130 012D     		cmp	r5, #1
 4233 0132 0ED0     		beq	.L330
 4234 0134 022D     		cmp	r5, #2
 4235 0136 58D1     		bne	.L347
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4236              		.loc 1 3470 11 view .LVU1312
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4237              		.loc 1 3470 11 view .LVU1313
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4238              		.loc 1 3470 11 view .LVU1314
 4239 0138 069B     		ldr	r3, [sp, #24]
 4240 013a 032B     		cmp	r3, #3
 4241 013c 57D9     		bls	.L348
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4242              		.loc 1 3470 11 discriminator 2 view .LVU1315
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4243              		.loc 1 3470 11 discriminator 2 view .LVU1316
 4244 013e 0368     		ldr	r3, [r0]
 4245 0140 002B     		cmp	r3, #0
 4246 0142 56D0     		beq	.L349
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4247              		.loc 1 3470 11 is_stmt 0 discriminator 4 view .LVU1317
 4248 0144 5B68     		ldr	r3, [r3, #4]
 4249 0146 002B     		cmp	r3, #0
 4250 0148 55D0     		beq	.L350
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4251              		.loc 1 3470 11 is_stmt 1 discriminator 6 view .LVU1318
ARM GAS  /tmp/cc3tDhb2.s 			page 163


3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4252              		.loc 1 3471 11 discriminator 6 view .LVU1319
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4253              		.loc 1 3471 37 is_stmt 0 discriminator 6 view .LVU1320
 4254 014a 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4255              		.loc 1 3471 35 discriminator 6 view .LVU1321
 4256 014c DA72     		strb	r2, [r3, #11]
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4257              		.loc 1 3473 67 is_stmt 1 discriminator 6 view .LVU1322
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4258              		.loc 1 3474 11 discriminator 6 view .LVU1323
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4259              		.loc 1 3305 7 is_stmt 0 discriminator 6 view .LVU1324
 4260 014e 2046     		mov	r0, r4
 4261              	.LVL439:
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4262              		.loc 1 3474 11 discriminator 6 view .LVU1325
 4263 0150 6BE7     		b	.L314
 4264              	.LVL440:
 4265              	.L330:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4266              		.loc 1 3476 11 is_stmt 1 view .LVU1326
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4267              		.loc 1 3476 11 view .LVU1327
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4268              		.loc 1 3476 11 view .LVU1328
 4269 0152 069B     		ldr	r3, [sp, #24]
 4270 0154 032B     		cmp	r3, #3
 4271 0156 50D9     		bls	.L351
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4272              		.loc 1 3476 11 discriminator 2 view .LVU1329
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4273              		.loc 1 3476 11 discriminator 2 view .LVU1330
 4274 0158 0368     		ldr	r3, [r0]
 4275 015a 002B     		cmp	r3, #0
 4276 015c 4FD0     		beq	.L352
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4277              		.loc 1 3476 11 is_stmt 0 discriminator 4 view .LVU1331
 4278 015e 5B68     		ldr	r3, [r3, #4]
 4279 0160 002B     		cmp	r3, #0
 4280 0162 4ED0     		beq	.L353
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4281              		.loc 1 3476 11 is_stmt 1 discriminator 6 view .LVU1332
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4282              		.loc 1 3477 11 discriminator 6 view .LVU1333
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4283              		.loc 1 3477 37 is_stmt 0 discriminator 6 view .LVU1334
 4284 0164 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4285              		.loc 1 3477 35 discriminator 6 view .LVU1335
 4286 0166 9A72     		strb	r2, [r3, #10]
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4287              		.loc 1 3479 67 is_stmt 1 discriminator 6 view .LVU1336
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4288              		.loc 1 3480 11 discriminator 6 view .LVU1337
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
ARM GAS  /tmp/cc3tDhb2.s 			page 164


 4289              		.loc 1 3305 7 is_stmt 0 discriminator 6 view .LVU1338
 4290 0168 2046     		mov	r0, r4
 4291              	.LVL441:
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4292              		.loc 1 3480 11 discriminator 6 view .LVU1339
 4293 016a 5EE7     		b	.L314
 4294              	.LVL442:
 4295              	.L316:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4296              		.loc 1 3553 7 is_stmt 1 view .LVU1340
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4297              		.loc 1 3553 7 view .LVU1341
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4298              		.loc 1 3553 7 view .LVU1342
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4299              		.loc 1 3553 7 view .LVU1343
 4300 016c 069B     		ldr	r3, [sp, #24]
 4301 016e 032B     		cmp	r3, #3
 4302 0170 49D9     		bls	.L354
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4303              		.loc 1 3553 7 discriminator 2 view .LVU1344
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4304              		.loc 1 3553 7 discriminator 2 view .LVU1345
 4305 0172 0368     		ldr	r3, [r0]
 4306 0174 002B     		cmp	r3, #0
 4307 0176 48D0     		beq	.L355
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4308              		.loc 1 3553 7 is_stmt 0 discriminator 4 view .LVU1346
 4309 0178 5A68     		ldr	r2, [r3, #4]
 4310 017a 002A     		cmp	r2, #0
 4311 017c 47D0     		beq	.L356
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4312              		.loc 1 3553 7 is_stmt 1 discriminator 6 view .LVU1347
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4313              		.loc 1 3553 7 discriminator 6 view .LVU1348
 4314 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4315 0180 03F0F003 		and	r3, r3, #240
 4316 0184 102B     		cmp	r3, #16
 4317 0186 44D1     		bne	.L357
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4318              		.loc 1 3553 7 discriminator 8 view .LVU1349
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4319              		.loc 1 3554 7 discriminator 8 view .LVU1350
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4320              		.loc 1 3554 30 is_stmt 0 discriminator 8 view .LVU1351
 4321 0188 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4322              		.loc 1 3554 10 discriminator 8 view .LVU1352
 4323 018a 012B     		cmp	r3, #1
 4324 018c 43D0     		beq	.L358
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4325              		.loc 1 3558 7 is_stmt 1 view .LVU1353
 4326 018e 012D     		cmp	r5, #1
 4327 0190 03D0     		beq	.L331
 4328 0192 022D     		cmp	r5, #2
 4329 0194 0ED0     		beq	.L332
 4330 0196 5C20     		movs	r0, #92
ARM GAS  /tmp/cc3tDhb2.s 			page 165


 4331              	.LVL443:
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4332              		.loc 1 3558 7 is_stmt 0 view .LVU1354
 4333 0198 47E7     		b	.L314
 4334              	.LVL444:
 4335              	.L331:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4336              		.loc 1 3560 11 is_stmt 1 view .LVU1355
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4337              		.loc 1 3560 15 is_stmt 0 view .LVU1356
 4338 019a 3068     		ldr	r0, [r6]
 4339              	.LVL445:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4340              		.loc 1 3560 14 view .LVU1357
 4341 019c 28B1     		cbz	r0, .L333
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4342              		.loc 1 3561 13 is_stmt 1 view .LVU1358
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4343              		.loc 1 3561 13 view .LVU1359
 4344 019e 538B     		ldrh	r3, [r2, #26]
 4345 01a0 43F04003 		orr	r3, r3, #64
 4346 01a4 5383     		strh	r3, [r2, #26]	@ movhi
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4347              		.loc 1 3561 13 view .LVU1360
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4348              		.loc 1 3305 7 is_stmt 0 view .LVU1361
 4349 01a6 0020     		movs	r0, #0
 4350 01a8 3FE7     		b	.L314
 4351              	.L333:
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4352              		.loc 1 3563 13 is_stmt 1 view .LVU1362
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4353              		.loc 1 3563 13 view .LVU1363
 4354 01aa 538B     		ldrh	r3, [r2, #26]
 4355 01ac 23F04003 		bic	r3, r3, #64
 4356 01b0 5383     		strh	r3, [r2, #26]	@ movhi
 4357 01b2 3AE7     		b	.L314
 4358              	.LVL446:
 4359              	.L332:
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4360              		.loc 1 3569 11 view .LVU1364
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4361              		.loc 1 3569 52 is_stmt 0 view .LVU1365
 4362 01b4 3368     		ldr	r3, [r6]
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4363              		.loc 1 3569 42 view .LVU1366
 4364 01b6 C2F89430 		str	r3, [r2, #148]
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4365              		.loc 1 3571 74 is_stmt 1 view .LVU1367
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4366              		.loc 1 3572 11 view .LVU1368
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4367              		.loc 1 3305 7 is_stmt 0 view .LVU1369
 4368 01ba 0020     		movs	r0, #0
 4369              	.LVL447:
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4370              		.loc 1 3572 11 view .LVU1370
ARM GAS  /tmp/cc3tDhb2.s 			page 166


 4371 01bc 35E7     		b	.L314
 4372              	.LVL448:
 4373              	.L334:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4374              		.loc 1 3308 12 view .LVU1371
 4375 01be 0920     		movs	r0, #9
 4376              	.LVL449:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4377              		.loc 1 3308 12 view .LVU1372
 4378 01c0 33E7     		b	.L314
 4379              	.LVL450:
 4380              	.L335:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4381              		.loc 1 3334 20 view .LVU1373
 4382 01c2 5C20     		movs	r0, #92
 4383              	.LVL451:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4384              		.loc 1 3334 20 view .LVU1374
 4385 01c4 31E7     		b	.L314
 4386              	.LVL452:
 4387              	.L336:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4388              		.loc 1 3339 11 view .LVU1375
 4389 01c6 1620     		movs	r0, #22
 4390              	.LVL453:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4391              		.loc 1 3339 11 view .LVU1376
 4392 01c8 2FE7     		b	.L314
 4393              	.LVL454:
 4394              	.L337:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4395              		.loc 1 3339 11 view .LVU1377
 4396 01ca 1620     		movs	r0, #22
 4397              	.LVL455:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4398              		.loc 1 3339 11 view .LVU1378
 4399 01cc 2DE7     		b	.L314
 4400              	.LVL456:
 4401              	.L338:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4402              		.loc 1 3339 11 view .LVU1379
 4403 01ce 1620     		movs	r0, #22
 4404              	.LVL457:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4405              		.loc 1 3339 11 view .LVU1380
 4406 01d0 2BE7     		b	.L314
 4407              	.LVL458:
 4408              	.L339:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4409              		.loc 1 3406 11 view .LVU1381
 4410 01d2 1620     		movs	r0, #22
 4411              	.LVL459:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4412              		.loc 1 3406 11 view .LVU1382
 4413 01d4 29E7     		b	.L314
 4414              	.LVL460:
 4415              	.L340:
ARM GAS  /tmp/cc3tDhb2.s 			page 167


3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4416              		.loc 1 3406 11 view .LVU1383
 4417 01d6 1620     		movs	r0, #22
 4418              	.LVL461:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4419              		.loc 1 3406 11 view .LVU1384
 4420 01d8 27E7     		b	.L314
 4421              	.LVL462:
 4422              	.L341:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4423              		.loc 1 3406 11 view .LVU1385
 4424 01da 1620     		movs	r0, #22
 4425              	.LVL463:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4426              		.loc 1 3406 11 view .LVU1386
 4427 01dc 25E7     		b	.L314
 4428              	.LVL464:
 4429              	.L342:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4430              		.loc 1 3406 11 view .LVU1387
 4431 01de 5C20     		movs	r0, #92
 4432              	.LVL465:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4433              		.loc 1 3406 11 view .LVU1388
 4434 01e0 23E7     		b	.L314
 4435              	.LVL466:
 4436              	.L343:
 4437              	.LBB32:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4438              		.loc 1 3425 11 view .LVU1389
 4439 01e2 1620     		movs	r0, #22
 4440              	.LVL467:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4441              		.loc 1 3425 11 view .LVU1390
 4442 01e4 21E7     		b	.L314
 4443              	.LVL468:
 4444              	.L344:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4445              		.loc 1 3425 11 view .LVU1391
 4446 01e6 1620     		movs	r0, #22
 4447              	.LVL469:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4448              		.loc 1 3425 11 view .LVU1392
 4449 01e8 1FE7     		b	.L314
 4450              	.LVL470:
 4451              	.L347:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4452              		.loc 1 3425 11 view .LVU1393
 4453              	.LBE32:
 4454 01ea 5C20     		movs	r0, #92
 4455              	.LVL471:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4456              		.loc 1 3425 11 view .LVU1394
 4457 01ec 1DE7     		b	.L314
 4458              	.LVL472:
 4459              	.L348:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
ARM GAS  /tmp/cc3tDhb2.s 			page 168


 4460              		.loc 1 3470 11 view .LVU1395
 4461 01ee 1620     		movs	r0, #22
 4462              	.LVL473:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4463              		.loc 1 3470 11 view .LVU1396
 4464 01f0 1BE7     		b	.L314
 4465              	.LVL474:
 4466              	.L349:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4467              		.loc 1 3470 11 view .LVU1397
 4468 01f2 1620     		movs	r0, #22
 4469              	.LVL475:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4470              		.loc 1 3470 11 view .LVU1398
 4471 01f4 19E7     		b	.L314
 4472              	.LVL476:
 4473              	.L350:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4474              		.loc 1 3470 11 view .LVU1399
 4475 01f6 1620     		movs	r0, #22
 4476              	.LVL477:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4477              		.loc 1 3470 11 view .LVU1400
 4478 01f8 17E7     		b	.L314
 4479              	.LVL478:
 4480              	.L351:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4481              		.loc 1 3476 11 view .LVU1401
 4482 01fa 1620     		movs	r0, #22
 4483              	.LVL479:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4484              		.loc 1 3476 11 view .LVU1402
 4485 01fc 15E7     		b	.L314
 4486              	.LVL480:
 4487              	.L352:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4488              		.loc 1 3476 11 view .LVU1403
 4489 01fe 1620     		movs	r0, #22
 4490              	.LVL481:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4491              		.loc 1 3476 11 view .LVU1404
 4492 0200 13E7     		b	.L314
 4493              	.LVL482:
 4494              	.L353:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4495              		.loc 1 3476 11 view .LVU1405
 4496 0202 1620     		movs	r0, #22
 4497              	.LVL483:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4498              		.loc 1 3476 11 view .LVU1406
 4499 0204 11E7     		b	.L314
 4500              	.LVL484:
 4501              	.L354:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4502              		.loc 1 3553 7 view .LVU1407
 4503 0206 1620     		movs	r0, #22
 4504              	.LVL485:
ARM GAS  /tmp/cc3tDhb2.s 			page 169


3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4505              		.loc 1 3553 7 view .LVU1408
 4506 0208 0FE7     		b	.L314
 4507              	.LVL486:
 4508              	.L355:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4509              		.loc 1 3553 7 view .LVU1409
 4510 020a 1620     		movs	r0, #22
 4511              	.LVL487:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4512              		.loc 1 3553 7 view .LVU1410
 4513 020c 0DE7     		b	.L314
 4514              	.LVL488:
 4515              	.L356:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4516              		.loc 1 3553 7 view .LVU1411
 4517 020e 1620     		movs	r0, #22
 4518              	.LVL489:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4519              		.loc 1 3553 7 view .LVU1412
 4520 0210 0BE7     		b	.L314
 4521              	.LVL490:
 4522              	.L357:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4523              		.loc 1 3553 7 view .LVU1413
 4524 0212 5C20     		movs	r0, #92
 4525              	.LVL491:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4526              		.loc 1 3553 7 view .LVU1414
 4527 0214 09E7     		b	.L314
 4528              	.LVL492:
 4529              	.L358:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4530              		.loc 1 3556 16 view .LVU1415
 4531 0216 1620     		movs	r0, #22
 4532              	.LVL493:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4533              		.loc 1 3556 16 view .LVU1416
 4534 0218 07E7     		b	.L314
 4535              	.L365:
 4536 021a 00BF     		.align	2
 4537              	.L364:
 4538 021c 00000000 		.word	.LC0
 4539 0220 00000000 		.word	.LC19
 4540 0224 48000000 		.word	.LC2
 4541              		.cfi_endproc
 4542              	.LFE208:
 4544              		.section	.text.lwip_socket_thread_init,"ax",%progbits
 4545              		.align	1
 4546              		.global	lwip_socket_thread_init
 4547              		.syntax unified
 4548              		.thumb
 4549              		.thumb_func
 4550              		.fpu fpv4-sp-d16
 4552              	lwip_socket_thread_init:
 4553              	.LFB159:
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
ARM GAS  /tmp/cc3tDhb2.s 			page 170


 4554              		.loc 1 321 1 is_stmt 1 view -0
 4555              		.cfi_startproc
 4556              		@ args = 0, pretend = 0, frame = 0
 4557              		@ frame_needed = 0, uses_anonymous_args = 0
 4558              		@ link register save eliminated.
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4559              		.loc 1 322 24 view .LVU1418
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4560              		.loc 1 323 1 is_stmt 0 view .LVU1419
 4561 0000 7047     		bx	lr
 4562              		.cfi_endproc
 4563              	.LFE159:
 4565              		.section	.text.lwip_socket_thread_cleanup,"ax",%progbits
 4566              		.align	1
 4567              		.global	lwip_socket_thread_cleanup
 4568              		.syntax unified
 4569              		.thumb
 4570              		.thumb_func
 4571              		.fpu fpv4-sp-d16
 4573              	lwip_socket_thread_cleanup:
 4574              	.LFB160:
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 4575              		.loc 1 328 1 is_stmt 1 view -0
 4576              		.cfi_startproc
 4577              		@ args = 0, pretend = 0, frame = 0
 4578              		@ frame_needed = 0, uses_anonymous_args = 0
 4579              		@ link register save eliminated.
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4580              		.loc 1 329 27 view .LVU1421
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4581              		.loc 1 330 1 is_stmt 0 view .LVU1422
 4582 0000 7047     		bx	lr
 4583              		.cfi_endproc
 4584              	.LFE160:
 4586              		.section	.text.lwip_socket_dbg_get_socket,"ax",%progbits
 4587              		.align	1
 4588              		.global	lwip_socket_dbg_get_socket
 4589              		.syntax unified
 4590              		.thumb
 4591              		.thumb_func
 4592              		.fpu fpv4-sp-d16
 4594              	lwip_socket_dbg_get_socket:
 4595              	.LVL494:
 4596              	.LFB162:
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4597              		.loc 1 423 1 is_stmt 1 view -0
 4598              		.cfi_startproc
 4599              		@ args = 0, pretend = 0, frame = 0
 4600              		@ frame_needed = 0, uses_anonymous_args = 0
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4601              		.loc 1 423 1 is_stmt 0 view .LVU1424
 4602 0000 08B5     		push	{r3, lr}
 4603              	.LCFI53:
 4604              		.cfi_def_cfa_offset 8
 4605              		.cfi_offset 3, -8
 4606              		.cfi_offset 14, -4
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 171


 4607              		.loc 1 424 3 is_stmt 1 view .LVU1425
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4608              		.loc 1 424 10 is_stmt 0 view .LVU1426
 4609 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 4610              	.LVL495:
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4611              		.loc 1 425 1 view .LVU1427
 4612 0006 08BD     		pop	{r3, pc}
 4613              		.cfi_endproc
 4614              	.LFE162:
 4616              		.section	.rodata.lwip_accept.str1.4,"aMS",%progbits,1
 4617              		.align	2
 4618              	.LC20:
 4619 0000 6E657763 		.ascii	"newconn != NULL\000"
 4619      6F6E6E20 
 4619      213D204E 
 4619      554C4C00 
 4620              		.align	2
 4621              	.LC21:
 4622 0010 696E7661 		.ascii	"invalid socket index\000"
 4622      6C696420 
 4622      736F636B 
 4622      65742069 
 4622      6E646578 
 4623              		.section	.text.lwip_accept,"ax",%progbits
 4624              		.align	1
 4625              		.global	lwip_accept
 4626              		.syntax unified
 4627              		.thumb
 4628              		.thumb_func
 4629              		.fpu fpv4-sp-d16
 4631              	lwip_accept:
 4632              	.LVL496:
 4633              	.LFB171:
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4634              		.loc 1 621 1 is_stmt 1 view -0
 4635              		.cfi_startproc
 4636              		@ args = 0, pretend = 0, frame = 32
 4637              		@ frame_needed = 0, uses_anonymous_args = 0
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4638              		.loc 1 621 1 is_stmt 0 view .LVU1429
 4639 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4640              	.LCFI54:
 4641              		.cfi_def_cfa_offset 24
 4642              		.cfi_offset 4, -24
 4643              		.cfi_offset 5, -20
 4644              		.cfi_offset 6, -16
 4645              		.cfi_offset 7, -12
 4646              		.cfi_offset 8, -8
 4647              		.cfi_offset 14, -4
 4648 0004 88B0     		sub	sp, sp, #32
 4649              	.LCFI55:
 4650              		.cfi_def_cfa_offset 56
 4651 0006 0F46     		mov	r7, r1
 4652 0008 1646     		mov	r6, r2
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 4653              		.loc 1 622 3 is_stmt 1 view .LVU1430
ARM GAS  /tmp/cc3tDhb2.s 			page 172


 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 4654              		.loc 1 623 3 view .LVU1431
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 4655              		.loc 1 624 3 view .LVU1432
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4656              		.loc 1 625 3 view .LVU1433
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4657              		.loc 1 625 9 is_stmt 0 view .LVU1434
 4658 000a 0023     		movs	r3, #0
 4659 000c ADF81630 		strh	r3, [sp, #22]	@ movhi
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 4660              		.loc 1 626 3 is_stmt 1 view .LVU1435
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 4661              		.loc 1 627 3 view .LVU1436
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 4662              		.loc 1 628 3 view .LVU1437
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4663              		.loc 1 629 3 view .LVU1438
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 4664              		.loc 1 631 58 view .LVU1439
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4665              		.loc 1 632 3 view .LVU1440
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4666              		.loc 1 632 10 is_stmt 0 view .LVU1441
 4667 0010 FFF7FEFF 		bl	get_socket
 4668              	.LVL497:
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4669              		.loc 1 633 3 is_stmt 1 view .LVU1442
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4670              		.loc 1 633 6 is_stmt 0 view .LVU1443
 4671 0014 0028     		cmp	r0, #0
 4672 0016 00F09E80 		beq	.L385
 4673 001a 0446     		mov	r4, r0
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4674              		.loc 1 638 3 is_stmt 1 view .LVU1444
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4675              		.loc 1 638 9 is_stmt 0 view .LVU1445
 4676 001c 07A9     		add	r1, sp, #28
 4677 001e 0068     		ldr	r0, [r0]
 4678              	.LVL498:
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4679              		.loc 1 638 9 view .LVU1446
 4680 0020 FFF7FEFF 		bl	netconn_accept
 4681              	.LVL499:
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4682              		.loc 1 639 3 is_stmt 1 view .LVU1447
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4683              		.loc 1 639 6 is_stmt 0 view .LVU1448
 4684 0024 00BB     		cbnz	r0, .L387
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4685              		.loc 1 651 3 is_stmt 1 view .LVU1449
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4686              		.loc 1 651 3 view .LVU1450
 4687 0026 079B     		ldr	r3, [sp, #28]
 4688 0028 002B     		cmp	r3, #0
 4689 002a 37D0     		beq	.L388
 4690              	.LVL500:
ARM GAS  /tmp/cc3tDhb2.s 			page 173


 4691              	.L376:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4692              		.loc 1 651 3 discriminator 3 view .LVU1451
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4693              		.loc 1 651 3 discriminator 3 view .LVU1452
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4694              		.loc 1 653 3 discriminator 3 view .LVU1453
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4695              		.loc 1 653 13 is_stmt 0 discriminator 3 view .LVU1454
 4696 002c 0121     		movs	r1, #1
 4697 002e 0798     		ldr	r0, [sp, #28]
 4698 0030 FFF7FEFF 		bl	alloc_socket
 4699              	.LVL501:
 4700 0034 0546     		mov	r5, r0
 4701              	.LVL502:
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 4702              		.loc 1 654 3 is_stmt 1 discriminator 3 view .LVU1455
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 4703              		.loc 1 654 6 is_stmt 0 discriminator 3 view .LVU1456
 4704 0036 B0F1FF3F 		cmp	r0, #-1
 4705 003a 37D0     		beq	.L389
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4706              		.loc 1 660 3 is_stmt 1 view .LVU1457
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4707              		.loc 1 660 3 view .LVU1458
 4708 003c 0328     		cmp	r0, #3
 4709 003e 3CD8     		bhi	.L390
 4710              	.LVL503:
 4711              	.L378:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4712              		.loc 1 660 3 discriminator 3 view .LVU1459
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4713              		.loc 1 660 3 discriminator 3 view .LVU1460
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4714              		.loc 1 661 3 discriminator 3 view .LVU1461
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4715              		.loc 1 661 9 is_stmt 0 discriminator 3 view .LVU1462
 4716 0040 464B     		ldr	r3, .L392
 4717 0042 03EB0518 		add	r8, r3, r5, lsl #4
 4718              	.LVL504:
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 4719              		.loc 1 668 3 is_stmt 1 discriminator 3 view .LVU1463
 4720 0046 FFF7FEFF 		bl	sys_arch_protect
 4721              	.LVL505:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4722              		.loc 1 669 3 discriminator 3 view .LVU1464
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4723              		.loc 1 669 35 is_stmt 0 discriminator 3 view .LVU1465
 4724 004a 079B     		ldr	r3, [sp, #28]
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4725              		.loc 1 669 26 discriminator 3 view .LVU1466
 4726 004c B3F91840 		ldrsh	r4, [r3, #24]
 4727              	.LVL506:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4728              		.loc 1 669 15 discriminator 3 view .LVU1467
 4729 0050 E443     		mvns	r4, r4
 4730              	.LVL507:
ARM GAS  /tmp/cc3tDhb2.s 			page 174


 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4731              		.loc 1 670 3 is_stmt 1 discriminator 3 view .LVU1468
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4732              		.loc 1 670 19 is_stmt 0 discriminator 3 view .LVU1469
 4733 0052 9D61     		str	r5, [r3, #24]
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4734              		.loc 1 671 3 is_stmt 1 discriminator 3 view .LVU1470
 4735 0054 FFF7FEFF 		bl	sys_arch_unprotect
 4736              	.LVL508:
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4737              		.loc 1 673 3 discriminator 3 view .LVU1471
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4738              		.loc 1 673 14 is_stmt 0 discriminator 3 view .LVU1472
 4739 0058 079B     		ldr	r3, [sp, #28]
 4740 005a 5B6A     		ldr	r3, [r3, #36]
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4741              		.loc 1 673 6 discriminator 3 view .LVU1473
 4742 005c 002B     		cmp	r3, #0
 4743 005e 3FD0     		beq	.L379
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 4744              		.loc 1 674 5 is_stmt 1 view .LVU1474
 4745 0060 3F48     		ldr	r0, .L392+4
 4746 0062 FFF7FEFF 		bl	sys_mutex_lock
 4747              	.LVL509:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4748              		.loc 1 675 5 view .LVU1475
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4749              		.loc 1 675 11 is_stmt 0 view .LVU1476
 4750 0066 36E0     		b	.L380
 4751              	.LVL510:
 4752              	.L387:
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 4753              		.loc 1 640 92 is_stmt 1 view .LVU1477
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4754              		.loc 1 641 5 view .LVU1478
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4755              		.loc 1 641 9 is_stmt 0 view .LVU1479
 4756 0068 2268     		ldr	r2, [r4]
 4757 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4758              		.loc 1 641 8 view .LVU1480
 4759 006c 02F0F002 		and	r2, r2, #240
 4760 0070 102A     		cmp	r2, #16
 4761 0072 05D0     		beq	.L373
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4762              		.loc 1 642 7 is_stmt 1 view .LVU1481
 4763              	.LBB33:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4764              		.loc 1 642 7 view .LVU1482
 4765              	.LVL511:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4766              		.loc 1 642 7 view .LVU1483
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4767              		.loc 1 642 7 view .LVU1484
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4768              		.loc 1 642 7 view .LVU1485
 4769 0074 3B4B     		ldr	r3, .L392+8
ARM GAS  /tmp/cc3tDhb2.s 			page 175


 4770 0076 5F22     		movs	r2, #95
 4771 0078 1A60     		str	r2, [r3]
 4772              	.LVL512:
 4773              	.L374:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4774              		.loc 1 642 7 is_stmt 0 view .LVU1486
 4775              	.LBE33:
 4776              	.LBB34:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4777              		.loc 1 646 7 is_stmt 1 discriminator 3 view .LVU1487
 4778              	.LBE34:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4779              		.loc 1 646 7 discriminator 3 view .LVU1488
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4780              		.loc 1 648 22 discriminator 3 view .LVU1489
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4781              		.loc 1 649 5 discriminator 3 view .LVU1490
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4782              		.loc 1 649 12 is_stmt 0 discriminator 3 view .LVU1491
 4783 007a 4FF0FF35 		mov	r5, #-1
 4784 007e 56E0     		b	.L370
 4785              	.LVL513:
 4786              	.L373:
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4787              		.loc 1 643 12 is_stmt 1 view .LVU1492
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4788              		.loc 1 643 15 is_stmt 0 view .LVU1493
 4789 0080 10F10F0F 		cmn	r0, #15
 4790 0084 03D1     		bne	.L375
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4791              		.loc 1 644 7 is_stmt 1 view .LVU1494
 4792              	.LBB35:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4793              		.loc 1 644 7 view .LVU1495
 4794              	.LVL514:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4795              		.loc 1 644 7 view .LVU1496
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4796              		.loc 1 644 7 view .LVU1497
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4797              		.loc 1 644 7 view .LVU1498
 4798 0086 374B     		ldr	r3, .L392+8
 4799 0088 1622     		movs	r2, #22
 4800 008a 1A60     		str	r2, [r3]
 4801 008c F5E7     		b	.L374
 4802              	.LVL515:
 4803              	.L375:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4804              		.loc 1 644 7 is_stmt 0 view .LVU1499
 4805              	.LBE35:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4806              		.loc 1 646 7 is_stmt 1 view .LVU1500
 4807              	.LBB36:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4808              		.loc 1 646 7 view .LVU1501
 4809 008e FFF7FEFF 		bl	err_to_errno
 4810              	.LVL516:
ARM GAS  /tmp/cc3tDhb2.s 			page 176


 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4811              		.loc 1 646 7 view .LVU1502
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4812              		.loc 1 646 7 view .LVU1503
 4813 0092 0028     		cmp	r0, #0
 4814 0094 F1D0     		beq	.L374
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4815              		.loc 1 646 7 discriminator 1 view .LVU1504
 4816 0096 334B     		ldr	r3, .L392+8
 4817 0098 1860     		str	r0, [r3]
 4818 009a EEE7     		b	.L374
 4819              	.LVL517:
 4820              	.L388:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4821              		.loc 1 646 7 is_stmt 0 discriminator 1 view .LVU1505
 4822              	.LBE36:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4823              		.loc 1 651 3 is_stmt 1 discriminator 1 view .LVU1506
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4824              		.loc 1 651 3 discriminator 1 view .LVU1507
 4825 009c 324B     		ldr	r3, .L392+12
 4826 009e 40F28B22 		movw	r2, #651
 4827 00a2 3249     		ldr	r1, .L392+16
 4828 00a4 3248     		ldr	r0, .L392+20
 4829              	.LVL518:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4830              		.loc 1 651 3 is_stmt 0 discriminator 1 view .LVU1508
 4831 00a6 FFF7FEFF 		bl	printf
 4832              	.LVL519:
 4833 00aa BFE7     		b	.L376
 4834              	.LVL520:
 4835              	.L389:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4836              		.loc 1 655 5 is_stmt 1 view .LVU1509
 4837 00ac 0798     		ldr	r0, [sp, #28]
 4838              	.LVL521:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4839              		.loc 1 655 5 is_stmt 0 view .LVU1510
 4840 00ae FFF7FEFF 		bl	netconn_delete
 4841              	.LVL522:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4842              		.loc 1 656 5 is_stmt 1 view .LVU1511
 4843              	.LBB37:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4844              		.loc 1 656 5 view .LVU1512
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4845              		.loc 1 656 5 view .LVU1513
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4846              		.loc 1 656 5 view .LVU1514
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4847              		.loc 1 656 5 view .LVU1515
 4848 00b2 2C4B     		ldr	r3, .L392+8
 4849 00b4 1722     		movs	r2, #23
 4850 00b6 1A60     		str	r2, [r3]
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4851              		.loc 1 656 5 view .LVU1516
 4852              	.LBE37:
ARM GAS  /tmp/cc3tDhb2.s 			page 177


 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4853              		.loc 1 656 5 view .LVU1517
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4854              		.loc 1 657 22 view .LVU1518
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4855              		.loc 1 658 5 view .LVU1519
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4856              		.loc 1 658 12 is_stmt 0 view .LVU1520
 4857 00b8 39E0     		b	.L370
 4858              	.LVL523:
 4859              	.L390:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4860              		.loc 1 660 3 is_stmt 1 discriminator 1 view .LVU1521
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4861              		.loc 1 660 3 discriminator 1 view .LVU1522
 4862 00ba 2B4B     		ldr	r3, .L392+12
 4863 00bc 4FF42572 		mov	r2, #660
 4864 00c0 2C49     		ldr	r1, .L392+24
 4865 00c2 2B48     		ldr	r0, .L392+20
 4866              	.LVL524:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4867              		.loc 1 660 3 is_stmt 0 discriminator 1 view .LVU1523
 4868 00c4 FFF7FEFF 		bl	printf
 4869              	.LVL525:
 4870 00c8 BAE7     		b	.L378
 4871              	.LVL526:
 4872              	.L381:
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4873              		.loc 1 676 7 is_stmt 1 view .LVU1524
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4874              		.loc 1 676 16 is_stmt 0 view .LVU1525
 4875 00ca 013C     		subs	r4, r4, #1
 4876              	.LVL527:
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4877              		.loc 1 677 7 is_stmt 1 view .LVU1526
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4878              		.loc 1 677 14 is_stmt 0 view .LVU1527
 4879 00cc 0798     		ldr	r0, [sp, #28]
 4880 00ce 436A     		ldr	r3, [r0, #36]
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4881              		.loc 1 677 7 view .LVU1528
 4882 00d0 0022     		movs	r2, #0
 4883 00d2 1146     		mov	r1, r2
 4884 00d4 9847     		blx	r3
 4885              	.LVL528:
 4886              	.L380:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4887              		.loc 1 675 11 is_stmt 1 view .LVU1529
 4888 00d6 002C     		cmp	r4, #0
 4889 00d8 F7DC     		bgt	.L381
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4890              		.loc 1 679 5 view .LVU1530
 4891 00da 2148     		ldr	r0, .L392+4
 4892 00dc FFF7FEFF 		bl	sys_mutex_unlock
 4893              	.LVL529:
 4894              	.L379:
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
ARM GAS  /tmp/cc3tDhb2.s 			page 178


 4895              		.loc 1 685 3 view .LVU1531
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4896              		.loc 1 685 6 is_stmt 0 view .LVU1532
 4897 00e0 2FB3     		cbz	r7, .L370
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4898              		.loc 1 685 22 discriminator 1 view .LVU1533
 4899 00e2 26B3     		cbz	r6, .L370
 4900              	.LBB38:
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 4901              		.loc 1 686 5 is_stmt 1 view .LVU1534
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4902              		.loc 1 688 5 view .LVU1535
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4903              		.loc 1 688 11 is_stmt 0 view .LVU1536
 4904 00e4 0023     		movs	r3, #0
 4905 00e6 0DF11602 		add	r2, sp, #22
 4906 00ea 06A9     		add	r1, sp, #24
 4907 00ec 0798     		ldr	r0, [sp, #28]
 4908 00ee FFF7FEFF 		bl	netconn_getaddr
 4909              	.LVL530:
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4910              		.loc 1 689 5 is_stmt 1 view .LVU1537
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4911              		.loc 1 689 8 is_stmt 0 view .LVU1538
 4912 00f2 0446     		mov	r4, r0
 4913              	.LVL531:
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4914              		.loc 1 689 8 view .LVU1539
 4915 00f4 F8B9     		cbnz	r0, .L391
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4916              		.loc 1 698 5 is_stmt 1 view .LVU1540
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4917              		.loc 1 698 5 view .LVU1541
 4918 00f6 1023     		movs	r3, #16
 4919 00f8 8DF80430 		strb	r3, [sp, #4]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4920              		.loc 1 698 5 view .LVU1542
 4921 00fc 0223     		movs	r3, #2
 4922 00fe 8DF80530 		strb	r3, [sp, #5]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4923              		.loc 1 698 5 view .LVU1543
 4924 0102 BDF81600 		ldrh	r0, [sp, #22]
 4925              	.LVL532:
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4926              		.loc 1 698 5 is_stmt 0 view .LVU1544
 4927 0106 FFF7FEFF 		bl	lwip_htons
 4928              	.LVL533:
 4929 010a ADF80600 		strh	r0, [sp, #6]	@ movhi
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4930              		.loc 1 698 5 is_stmt 1 view .LVU1545
 4931 010e 069B     		ldr	r3, [sp, #24]
 4932 0110 0293     		str	r3, [sp, #8]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4933              		.loc 1 698 5 view .LVU1546
 4934 0112 0023     		movs	r3, #0
 4935 0114 0393     		str	r3, [sp, #12]
 4936 0116 0493     		str	r3, [sp, #16]
ARM GAS  /tmp/cc3tDhb2.s 			page 179


 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4937              		.loc 1 698 5 view .LVU1547
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4938              		.loc 1 699 5 view .LVU1548
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4939              		.loc 1 699 9 is_stmt 0 view .LVU1549
 4940 0118 3268     		ldr	r2, [r6]
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4941              		.loc 1 699 31 view .LVU1550
 4942 011a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4943              		.loc 1 699 8 view .LVU1551
 4944 011e 9A42     		cmp	r2, r3
 4945 0120 00D9     		bls	.L384
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4946              		.loc 1 700 7 is_stmt 1 view .LVU1552
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4947              		.loc 1 700 16 is_stmt 0 view .LVU1553
 4948 0122 3360     		str	r3, [r6]
 4949              	.L384:
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4950              		.loc 1 702 5 is_stmt 1 view .LVU1554
 4951 0124 3268     		ldr	r2, [r6]
 4952 0126 01A9     		add	r1, sp, #4
 4953 0128 3846     		mov	r0, r7
 4954 012a FFF7FEFF 		bl	memcpy
 4955              	.LVL534:
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 4956              		.loc 1 704 92 view .LVU1555
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 4957              		.loc 1 705 50 view .LVU1556
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 4958              		.loc 1 706 59 view .LVU1557
 4959              	.L370:
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 4960              		.loc 1 706 59 is_stmt 0 view .LVU1558
 4961              	.LBE38:
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4962              		.loc 1 715 1 view .LVU1559
 4963 012e 2846     		mov	r0, r5
 4964 0130 08B0     		add	sp, sp, #32
 4965              	.LCFI56:
 4966              		.cfi_remember_state
 4967              		.cfi_def_cfa_offset 24
 4968              		@ sp needed
 4969 0132 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4970              	.LVL535:
 4971              	.L391:
 4972              	.LCFI57:
 4973              		.cfi_restore_state
 4974              	.LBB40:
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 4975              		.loc 1 690 93 is_stmt 1 view .LVU1560
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 4976              		.loc 1 691 7 view .LVU1561
 4977 0136 0798     		ldr	r0, [sp, #28]
 4978              	.LVL536:
ARM GAS  /tmp/cc3tDhb2.s 			page 180


 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 4979              		.loc 1 691 7 is_stmt 0 view .LVU1562
 4980 0138 FFF7FEFF 		bl	netconn_delete
 4981              	.LVL537:
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 4982              		.loc 1 692 7 is_stmt 1 view .LVU1563
 4983 013c 0121     		movs	r1, #1
 4984 013e 4046     		mov	r0, r8
 4985 0140 FFF7FEFF 		bl	free_socket
 4986              	.LVL538:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 4987              		.loc 1 693 7 view .LVU1564
 4988              	.LBB39:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 4989              		.loc 1 693 7 view .LVU1565
 4990 0144 2046     		mov	r0, r4
 4991 0146 FFF7FEFF 		bl	err_to_errno
 4992              	.LVL539:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 4993              		.loc 1 693 7 view .LVU1566
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 4994              		.loc 1 693 7 view .LVU1567
 4995 014a 08B1     		cbz	r0, .L383
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 4996              		.loc 1 693 7 discriminator 1 view .LVU1568
 4997 014c 054B     		ldr	r3, .L392+8
 4998 014e 1860     		str	r0, [r3]
 4999              	.L383:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5000              		.loc 1 693 7 discriminator 3 view .LVU1569
 5001              	.LBE39:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5002              		.loc 1 693 7 discriminator 3 view .LVU1570
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5003              		.loc 1 694 24 discriminator 3 view .LVU1571
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5004              		.loc 1 695 7 discriminator 3 view .LVU1572
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5005              		.loc 1 695 14 is_stmt 0 discriminator 3 view .LVU1573
 5006 0150 4FF0FF35 		mov	r5, #-1
 5007              	.LVL540:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5008              		.loc 1 695 14 discriminator 3 view .LVU1574
 5009 0154 EBE7     		b	.L370
 5010              	.LVL541:
 5011              	.L385:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5012              		.loc 1 695 14 discriminator 3 view .LVU1575
 5013              	.LBE40:
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5014              		.loc 1 634 12 view .LVU1576
 5015 0156 4FF0FF35 		mov	r5, #-1
 5016 015a E8E7     		b	.L370
 5017              	.L393:
 5018              		.align	2
 5019              	.L392:
 5020 015c 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/cc3tDhb2.s 			page 181


 5021 0160 00000000 		.word	lock_tcpip_core
 5022 0164 00000000 		.word	errno
 5023 0168 00000000 		.word	.LC0
 5024 016c 00000000 		.word	.LC20
 5025 0170 48000000 		.word	.LC2
 5026 0174 10000000 		.word	.LC21
 5027              		.cfi_endproc
 5028              	.LFE171:
 5030              		.section	.rodata.lwip_bind.str1.4,"aMS",%progbits,1
 5031              		.align	2
 5032              	.LC22:
 5033 0000 6C776970 		.ascii	"lwip_bind: invalid address\000"
 5033      5F62696E 
 5033      643A2069 
 5033      6E76616C 
 5033      69642061 
 5034              		.section	.text.lwip_bind,"ax",%progbits
 5035              		.align	1
 5036              		.global	lwip_bind
 5037              		.syntax unified
 5038              		.thumb
 5039              		.thumb_func
 5040              		.fpu fpv4-sp-d16
 5042              	lwip_bind:
 5043              	.LVL542:
 5044              	.LFB172:
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5045              		.loc 1 719 1 is_stmt 1 view -0
 5046              		.cfi_startproc
 5047              		@ args = 0, pretend = 0, frame = 8
 5048              		@ frame_needed = 0, uses_anonymous_args = 0
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5049              		.loc 1 719 1 is_stmt 0 view .LVU1578
 5050 0000 70B5     		push	{r4, r5, r6, lr}
 5051              	.LCFI58:
 5052              		.cfi_def_cfa_offset 16
 5053              		.cfi_offset 4, -16
 5054              		.cfi_offset 5, -12
 5055              		.cfi_offset 6, -8
 5056              		.cfi_offset 14, -4
 5057 0002 82B0     		sub	sp, sp, #8
 5058              	.LCFI59:
 5059              		.cfi_def_cfa_offset 24
 5060 0004 0C46     		mov	r4, r1
 5061 0006 1546     		mov	r5, r2
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 5062              		.loc 1 720 3 is_stmt 1 view .LVU1579
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 5063              		.loc 1 721 3 view .LVU1580
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5064              		.loc 1 722 3 view .LVU1581
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5065              		.loc 1 723 3 view .LVU1582
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5066              		.loc 1 725 3 view .LVU1583
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5067              		.loc 1 725 10 is_stmt 0 view .LVU1584
ARM GAS  /tmp/cc3tDhb2.s 			page 182


 5068 0008 FFF7FEFF 		bl	get_socket
 5069              	.LVL543:
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5070              		.loc 1 726 3 is_stmt 1 view .LVU1585
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5071              		.loc 1 726 6 is_stmt 0 view .LVU1586
 5072 000c 78B3     		cbz	r0, .L400
 5073 000e 0646     		mov	r6, r0
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5074              		.loc 1 730 3 is_stmt 1 view .LVU1587
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5075              		.loc 1 738 3 view .LVU1588
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5076              		.loc 1 738 3 view .LVU1589
 5077 0010 102D     		cmp	r5, #16
 5078 0012 13D1     		bne	.L396
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5079              		.loc 1 738 3 is_stmt 0 discriminator 2 view .LVU1590
 5080 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 5081 0016 022B     		cmp	r3, #2
 5082 0018 10D1     		bne	.L396
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5083              		.loc 1 738 3 discriminator 4 view .LVU1591
 5084 001a 14F0030F 		tst	r4, #3
 5085 001e 0DD1     		bne	.L396
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5086              		.loc 1 738 3 is_stmt 1 discriminator 6 view .LVU1592
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5087              		.loc 1 738 3 discriminator 6 view .LVU1593
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5088              		.loc 1 741 3 discriminator 6 view .LVU1594
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5089              		.loc 1 743 3 discriminator 6 view .LVU1595
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5090              		.loc 1 743 3 discriminator 6 view .LVU1596
 5091 0020 6368     		ldr	r3, [r4, #4]
 5092 0022 0193     		str	r3, [sp, #4]
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5093              		.loc 1 743 3 discriminator 6 view .LVU1597
 5094 0024 6088     		ldrh	r0, [r4, #2]
 5095              	.LVL544:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5096              		.loc 1 743 3 is_stmt 0 discriminator 6 view .LVU1598
 5097 0026 FFF7FEFF 		bl	lwip_htons
 5098              	.LVL545:
 5099 002a 0246     		mov	r2, r0
 5100              	.LVL546:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5101              		.loc 1 743 3 is_stmt 1 discriminator 6 view .LVU1599
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 5102              		.loc 1 744 57 discriminator 6 view .LVU1600
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 5103              		.loc 1 745 53 discriminator 6 view .LVU1601
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5104              		.loc 1 746 64 discriminator 6 view .LVU1602
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5105              		.loc 1 756 3 discriminator 6 view .LVU1603
ARM GAS  /tmp/cc3tDhb2.s 			page 183


 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5106              		.loc 1 756 9 is_stmt 0 discriminator 6 view .LVU1604
 5107 002c 01A9     		add	r1, sp, #4
 5108 002e 3068     		ldr	r0, [r6]
 5109 0030 FFF7FEFF 		bl	netconn_bind
 5110              	.LVL547:
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5111              		.loc 1 758 3 is_stmt 1 discriminator 6 view .LVU1605
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5112              		.loc 1 758 6 is_stmt 0 discriminator 6 view .LVU1606
 5113 0034 98B9     		cbnz	r0, .L403
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5114              		.loc 1 768 10 view .LVU1607
 5115 0036 0020     		movs	r0, #0
 5116              	.LVL548:
 5117              	.L394:
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5118              		.loc 1 769 1 view .LVU1608
 5119 0038 02B0     		add	sp, sp, #8
 5120              	.LCFI60:
 5121              		.cfi_remember_state
 5122              		.cfi_def_cfa_offset 16
 5123              		@ sp needed
 5124 003a 70BD     		pop	{r4, r5, r6, pc}
 5125              	.LVL549:
 5126              	.L396:
 5127              	.LCFI61:
 5128              		.cfi_restore_state
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5129              		.loc 1 738 3 is_stmt 1 discriminator 5 view .LVU1609
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5130              		.loc 1 738 3 discriminator 5 view .LVU1610
 5131 003c 0D4B     		ldr	r3, .L404
 5132 003e 40F2E222 		movw	r2, #738
 5133 0042 0D49     		ldr	r1, .L404+4
 5134 0044 0D48     		ldr	r0, .L404+8
 5135              	.LVL550:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5136              		.loc 1 738 3 is_stmt 0 discriminator 5 view .LVU1611
 5137 0046 FFF7FEFF 		bl	printf
 5138              	.LVL551:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5139              		.loc 1 738 3 is_stmt 1 discriminator 5 view .LVU1612
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5140              		.loc 1 738 3 discriminator 5 view .LVU1613
 5141              	.LBB41:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5142              		.loc 1 738 3 discriminator 5 view .LVU1614
 5143 004a 6FF00F00 		mvn	r0, #15
 5144 004e FFF7FEFF 		bl	err_to_errno
 5145              	.LVL552:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5146              		.loc 1 738 3 discriminator 5 view .LVU1615
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5147              		.loc 1 738 3 discriminator 5 view .LVU1616
 5148 0052 08B1     		cbz	r0, .L398
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
ARM GAS  /tmp/cc3tDhb2.s 			page 184


 5149              		.loc 1 738 3 discriminator 7 view .LVU1617
 5150 0054 0A4A     		ldr	r2, .L404+12
 5151 0056 1060     		str	r0, [r2]
 5152              	.L398:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5153              		.loc 1 738 3 discriminator 9 view .LVU1618
 5154              	.LBE41:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5155              		.loc 1 738 3 discriminator 9 view .LVU1619
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5156              		.loc 1 738 3 discriminator 9 view .LVU1620
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5157              		.loc 1 738 3 discriminator 9 view .LVU1621
 5158 0058 4FF0FF30 		mov	r0, #-1
 5159              	.LVL553:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5160              		.loc 1 738 3 is_stmt 0 discriminator 9 view .LVU1622
 5161 005c ECE7     		b	.L394
 5162              	.LVL554:
 5163              	.L403:
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5164              		.loc 1 759 75 is_stmt 1 view .LVU1623
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5165              		.loc 1 760 5 view .LVU1624
 5166              	.LBB42:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5167              		.loc 1 760 5 view .LVU1625
 5168 005e FFF7FEFF 		bl	err_to_errno
 5169              	.LVL555:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5170              		.loc 1 760 5 view .LVU1626
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5171              		.loc 1 760 5 view .LVU1627
 5172 0062 08B1     		cbz	r0, .L399
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5173              		.loc 1 760 5 discriminator 1 view .LVU1628
 5174 0064 064A     		ldr	r2, .L404+12
 5175 0066 1060     		str	r0, [r2]
 5176              	.L399:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5177              		.loc 1 760 5 discriminator 3 view .LVU1629
 5178              	.LBE42:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5179              		.loc 1 760 5 discriminator 3 view .LVU1630
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5180              		.loc 1 761 22 discriminator 3 view .LVU1631
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5181              		.loc 1 762 5 discriminator 3 view .LVU1632
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5182              		.loc 1 762 12 is_stmt 0 discriminator 3 view .LVU1633
 5183 0068 4FF0FF30 		mov	r0, #-1
 5184              	.LVL556:
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5185              		.loc 1 762 12 discriminator 3 view .LVU1634
 5186 006c E4E7     		b	.L394
 5187              	.LVL557:
 5188              	.L400:
ARM GAS  /tmp/cc3tDhb2.s 			page 185


 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5189              		.loc 1 727 12 view .LVU1635
 5190 006e 4FF0FF30 		mov	r0, #-1
 5191              	.LVL558:
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5192              		.loc 1 727 12 view .LVU1636
 5193 0072 E1E7     		b	.L394
 5194              	.L405:
 5195              		.align	2
 5196              	.L404:
 5197 0074 00000000 		.word	.LC0
 5198 0078 00000000 		.word	.LC22
 5199 007c 48000000 		.word	.LC2
 5200 0080 00000000 		.word	errno
 5201              		.cfi_endproc
 5202              	.LFE172:
 5204              		.section	.rodata.lwip_close.str1.4,"aMS",%progbits,1
 5205              		.align	2
 5206              	.LC23:
 5207 0000 736F636B 		.ascii	"sock->lastdata == NULL\000"
 5207      2D3E6C61 
 5207      73746461 
 5207      7461203D 
 5207      3D204E55 
 5208              		.section	.text.lwip_close,"ax",%progbits
 5209              		.align	1
 5210              		.global	lwip_close
 5211              		.syntax unified
 5212              		.thumb
 5213              		.thumb_func
 5214              		.fpu fpv4-sp-d16
 5216              	lwip_close:
 5217              	.LVL559:
 5218              	.LFB173:
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5219              		.loc 1 773 1 is_stmt 1 view -0
 5220              		.cfi_startproc
 5221              		@ args = 0, pretend = 0, frame = 0
 5222              		@ frame_needed = 0, uses_anonymous_args = 0
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5223              		.loc 1 773 1 is_stmt 0 view .LVU1638
 5224 0000 38B5     		push	{r3, r4, r5, lr}
 5225              	.LCFI62:
 5226              		.cfi_def_cfa_offset 16
 5227              		.cfi_offset 3, -16
 5228              		.cfi_offset 4, -12
 5229              		.cfi_offset 5, -8
 5230              		.cfi_offset 14, -4
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 5231              		.loc 1 774 3 is_stmt 1 view .LVU1639
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5232              		.loc 1 775 3 view .LVU1640
 5233              	.LVL560:
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5234              		.loc 1 776 3 view .LVU1641
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5235              		.loc 1 778 54 view .LVU1642
ARM GAS  /tmp/cc3tDhb2.s 			page 186


 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5236              		.loc 1 780 3 view .LVU1643
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5237              		.loc 1 780 10 is_stmt 0 view .LVU1644
 5238 0002 FFF7FEFF 		bl	get_socket
 5239              	.LVL561:
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5240              		.loc 1 781 3 is_stmt 1 view .LVU1645
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5241              		.loc 1 781 6 is_stmt 0 view .LVU1646
 5242 0006 40B3     		cbz	r0, .L412
 5243 0008 0546     		mov	r5, r0
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5244              		.loc 1 785 3 is_stmt 1 view .LVU1647
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5245              		.loc 1 785 11 is_stmt 0 view .LVU1648
 5246 000a 0368     		ldr	r3, [r0]
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5247              		.loc 1 785 6 view .LVU1649
 5248 000c 83B1     		cbz	r3, .L408
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5249              		.loc 1 786 5 is_stmt 1 view .LVU1650
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5250              		.loc 1 786 14 is_stmt 0 view .LVU1651
 5251 000e 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5252              		.loc 1 786 58 view .LVU1652
 5253 0010 04F0F004 		and	r4, r4, #240
 5254 0014 102C     		cmp	r4, #16
 5255 0016 14BF     		ite	ne
 5256 0018 0024     		movne	r4, #0
 5257 001a 0124     		moveq	r4, #1
 5258              	.LVL562:
 5259              	.L409:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5260              		.loc 1 788 5 is_stmt 1 discriminator 3 view .LVU1653
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5261              		.loc 1 788 5 discriminator 3 view .LVU1654
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5262              		.loc 1 800 3 discriminator 3 view .LVU1655
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5263              		.loc 1 800 9 is_stmt 0 discriminator 3 view .LVU1656
 5264 001c 2868     		ldr	r0, [r5]
 5265 001e FFF7FEFF 		bl	netconn_prepare_delete
 5266              	.LVL563:
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5267              		.loc 1 801 3 is_stmt 1 discriminator 3 view .LVU1657
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5268              		.loc 1 801 6 is_stmt 0 discriminator 3 view .LVU1658
 5269 0022 90B9     		cbnz	r0, .L415
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5270              		.loc 1 807 3 is_stmt 1 view .LVU1659
 5271 0024 2146     		mov	r1, r4
 5272 0026 2846     		mov	r0, r5
 5273              	.LVL564:
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5274              		.loc 1 807 3 is_stmt 0 view .LVU1660
ARM GAS  /tmp/cc3tDhb2.s 			page 187


 5275 0028 FFF7FEFF 		bl	free_socket
 5276              	.LVL565:
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5277              		.loc 1 808 3 is_stmt 1 view .LVU1661
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5278              		.loc 1 808 3 view .LVU1662
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5279              		.loc 1 808 3 view .LVU1663
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5280              		.loc 1 809 3 view .LVU1664
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5281              		.loc 1 809 10 is_stmt 0 view .LVU1665
 5282 002c 0020     		movs	r0, #0
 5283              	.LVL566:
 5284              	.L406:
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5285              		.loc 1 810 1 view .LVU1666
 5286 002e 38BD     		pop	{r3, r4, r5, pc}
 5287              	.LVL567:
 5288              	.L408:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5289              		.loc 1 788 5 is_stmt 1 view .LVU1667
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5290              		.loc 1 788 5 view .LVU1668
 5291 0030 4368     		ldr	r3, [r0, #4]
 5292 0032 43B1     		cbz	r3, .L413
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5293              		.loc 1 788 5 discriminator 1 view .LVU1669
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5294              		.loc 1 788 5 discriminator 1 view .LVU1670
 5295 0034 0A4B     		ldr	r3, .L416
 5296 0036 4FF44572 		mov	r2, #788
 5297 003a 0A49     		ldr	r1, .L416+4
 5298 003c 0A48     		ldr	r0, .L416+8
 5299              	.LVL568:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5300              		.loc 1 788 5 is_stmt 0 discriminator 1 view .LVU1671
 5301 003e FFF7FEFF 		bl	printf
 5302              	.LVL569:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5303              		.loc 1 775 7 discriminator 1 view .LVU1672
 5304 0042 0024     		movs	r4, #0
 5305 0044 EAE7     		b	.L409
 5306              	.LVL570:
 5307              	.L413:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5308              		.loc 1 775 7 view .LVU1673
 5309 0046 0024     		movs	r4, #0
 5310 0048 E8E7     		b	.L409
 5311              	.LVL571:
 5312              	.L415:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5313              		.loc 1 802 5 is_stmt 1 view .LVU1674
 5314              	.LBB43:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5315              		.loc 1 802 5 view .LVU1675
 5316 004a FFF7FEFF 		bl	err_to_errno
ARM GAS  /tmp/cc3tDhb2.s 			page 188


 5317              	.LVL572:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5318              		.loc 1 802 5 view .LVU1676
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5319              		.loc 1 802 5 view .LVU1677
 5320 004e 08B1     		cbz	r0, .L411
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5321              		.loc 1 802 5 discriminator 1 view .LVU1678
 5322 0050 064A     		ldr	r2, .L416+12
 5323 0052 1060     		str	r0, [r2]
 5324              	.L411:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5325              		.loc 1 802 5 discriminator 3 view .LVU1679
 5326              	.LBE43:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5327              		.loc 1 802 5 discriminator 3 view .LVU1680
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5328              		.loc 1 803 22 discriminator 3 view .LVU1681
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5329              		.loc 1 804 5 discriminator 3 view .LVU1682
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5330              		.loc 1 804 12 is_stmt 0 discriminator 3 view .LVU1683
 5331 0054 4FF0FF30 		mov	r0, #-1
 5332              	.LVL573:
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5333              		.loc 1 804 12 discriminator 3 view .LVU1684
 5334 0058 E9E7     		b	.L406
 5335              	.LVL574:
 5336              	.L412:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5337              		.loc 1 782 12 view .LVU1685
 5338 005a 4FF0FF30 		mov	r0, #-1
 5339              	.LVL575:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5340              		.loc 1 782 12 view .LVU1686
 5341 005e E6E7     		b	.L406
 5342              	.L417:
 5343              		.align	2
 5344              	.L416:
 5345 0060 00000000 		.word	.LC0
 5346 0064 00000000 		.word	.LC23
 5347 0068 48000000 		.word	.LC2
 5348 006c 00000000 		.word	errno
 5349              		.cfi_endproc
 5350              	.LFE173:
 5352              		.section	.rodata.lwip_connect.str1.4,"aMS",%progbits,1
 5353              		.align	2
 5354              	.LC24:
 5355 0000 6C776970 		.ascii	"lwip_connect: invalid address\000"
 5355      5F636F6E 
 5355      6E656374 
 5355      3A20696E 
 5355      76616C69 
 5356              		.section	.text.lwip_connect,"ax",%progbits
 5357              		.align	1
 5358              		.global	lwip_connect
 5359              		.syntax unified
ARM GAS  /tmp/cc3tDhb2.s 			page 189


 5360              		.thumb
 5361              		.thumb_func
 5362              		.fpu fpv4-sp-d16
 5364              	lwip_connect:
 5365              	.LVL576:
 5366              	.LFB174:
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5367              		.loc 1 814 1 is_stmt 1 view -0
 5368              		.cfi_startproc
 5369              		@ args = 0, pretend = 0, frame = 8
 5370              		@ frame_needed = 0, uses_anonymous_args = 0
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5371              		.loc 1 814 1 is_stmt 0 view .LVU1688
 5372 0000 70B5     		push	{r4, r5, r6, lr}
 5373              	.LCFI63:
 5374              		.cfi_def_cfa_offset 16
 5375              		.cfi_offset 4, -16
 5376              		.cfi_offset 5, -12
 5377              		.cfi_offset 6, -8
 5378              		.cfi_offset 14, -4
 5379 0002 82B0     		sub	sp, sp, #8
 5380              	.LCFI64:
 5381              		.cfi_def_cfa_offset 24
 5382 0004 0C46     		mov	r4, r1
 5383 0006 1546     		mov	r5, r2
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5384              		.loc 1 815 3 is_stmt 1 view .LVU1689
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5385              		.loc 1 816 3 view .LVU1690
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5386              		.loc 1 818 3 view .LVU1691
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5387              		.loc 1 818 10 is_stmt 0 view .LVU1692
 5388 0008 FFF7FEFF 		bl	get_socket
 5389              	.LVL577:
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5390              		.loc 1 819 3 is_stmt 1 view .LVU1693
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5391              		.loc 1 819 6 is_stmt 0 view .LVU1694
 5392 000c 0028     		cmp	r0, #0
 5393 000e 34D0     		beq	.L426
 5394 0010 0646     		mov	r6, r0
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5395              		.loc 1 823 3 is_stmt 1 view .LVU1695
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 5396              		.loc 1 830 3 view .LVU1696
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5397              		.loc 1 831 3 view .LVU1697
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5398              		.loc 1 831 11 is_stmt 0 view .LVU1698
 5399 0012 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5400              		.loc 1 831 6 view .LVU1699
 5401 0014 A3B1     		cbz	r3, .L429
 5402              	.LBB44:
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 5403              		.loc 1 835 5 is_stmt 1 view .LVU1700
ARM GAS  /tmp/cc3tDhb2.s 			page 190


 836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5404              		.loc 1 836 5 view .LVU1701
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5405              		.loc 1 839 5 view .LVU1702
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5406              		.loc 1 839 5 view .LVU1703
 5407 0016 102D     		cmp	r5, #16
 5408 0018 16D1     		bne	.L422
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5409              		.loc 1 839 5 is_stmt 0 discriminator 3 view .LVU1704
 5410 001a 022B     		cmp	r3, #2
 5411 001c 14D1     		bne	.L422
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5412              		.loc 1 839 5 discriminator 6 view .LVU1705
 5413 001e 14F0030F 		tst	r4, #3
 5414 0022 11D1     		bne	.L422
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5415              		.loc 1 839 5 is_stmt 1 discriminator 8 view .LVU1706
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5416              		.loc 1 839 5 discriminator 8 view .LVU1707
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5417              		.loc 1 843 5 discriminator 8 view .LVU1708
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5418              		.loc 1 843 5 discriminator 8 view .LVU1709
 5419 0024 6368     		ldr	r3, [r4, #4]
 5420 0026 0193     		str	r3, [sp, #4]
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5421              		.loc 1 843 5 discriminator 8 view .LVU1710
 5422 0028 6088     		ldrh	r0, [r4, #2]
 5423              	.LVL578:
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5424              		.loc 1 843 5 is_stmt 0 discriminator 8 view .LVU1711
 5425 002a FFF7FEFF 		bl	lwip_htons
 5426              	.LVL579:
 5427 002e 0246     		mov	r2, r0
 5428              	.LVL580:
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5429              		.loc 1 843 5 is_stmt 1 discriminator 8 view .LVU1712
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 5430              		.loc 1 844 62 discriminator 8 view .LVU1713
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 5431              		.loc 1 845 56 discriminator 8 view .LVU1714
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5432              		.loc 1 846 67 discriminator 8 view .LVU1715
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5433              		.loc 1 856 5 discriminator 8 view .LVU1716
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5434              		.loc 1 856 11 is_stmt 0 discriminator 8 view .LVU1717
 5435 0030 01A9     		add	r1, sp, #4
 5436 0032 3068     		ldr	r0, [r6]
 5437 0034 FFF7FEFF 		bl	netconn_connect
 5438              	.LVL581:
 5439              	.L421:
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5440              		.loc 1 856 11 discriminator 8 view .LVU1718
 5441              	.LBE44:
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
ARM GAS  /tmp/cc3tDhb2.s 			page 191


 5442              		.loc 1 859 3 is_stmt 1 view .LVU1719
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5443              		.loc 1 859 6 is_stmt 0 view .LVU1720
 5444 0038 B8B9     		cbnz	r0, .L430
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5445              		.loc 1 869 10 view .LVU1721
 5446 003a 0020     		movs	r0, #0
 5447              	.LVL582:
 5448              	.L418:
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5449              		.loc 1 870 1 view .LVU1722
 5450 003c 02B0     		add	sp, sp, #8
 5451              	.LCFI65:
 5452              		.cfi_remember_state
 5453              		.cfi_def_cfa_offset 16
 5454              		@ sp needed
 5455 003e 70BD     		pop	{r4, r5, r6, pc}
 5456              	.LVL583:
 5457              	.L429:
 5458              	.LCFI66:
 5459              		.cfi_restore_state
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 5460              		.loc 1 832 69 is_stmt 1 view .LVU1723
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5461              		.loc 1 833 5 view .LVU1724
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5462              		.loc 1 833 11 is_stmt 0 view .LVU1725
 5463 0040 0068     		ldr	r0, [r0]
 5464              	.LVL584:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5465              		.loc 1 833 11 view .LVU1726
 5466 0042 FFF7FEFF 		bl	netconn_disconnect
 5467              	.LVL585:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5468              		.loc 1 833 11 view .LVU1727
 5469 0046 F7E7     		b	.L421
 5470              	.LVL586:
 5471              	.L422:
 5472              	.LBB46:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5473              		.loc 1 839 5 is_stmt 1 discriminator 7 view .LVU1728
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5474              		.loc 1 839 5 discriminator 7 view .LVU1729
 5475 0048 0D4B     		ldr	r3, .L431
 5476 004a 40F24732 		movw	r2, #839
 5477 004e 0D49     		ldr	r1, .L431+4
 5478 0050 0D48     		ldr	r0, .L431+8
 5479              	.LVL587:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5480              		.loc 1 839 5 is_stmt 0 discriminator 7 view .LVU1730
 5481 0052 FFF7FEFF 		bl	printf
 5482              	.LVL588:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5483              		.loc 1 839 5 is_stmt 1 discriminator 7 view .LVU1731
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5484              		.loc 1 839 5 discriminator 7 view .LVU1732
 5485              	.LBB45:
ARM GAS  /tmp/cc3tDhb2.s 			page 192


 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5486              		.loc 1 839 5 discriminator 7 view .LVU1733
 5487 0056 6FF00F00 		mvn	r0, #15
 5488 005a FFF7FEFF 		bl	err_to_errno
 5489              	.LVL589:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5490              		.loc 1 839 5 discriminator 7 view .LVU1734
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5491              		.loc 1 839 5 discriminator 7 view .LVU1735
 5492 005e 08B1     		cbz	r0, .L424
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5493              		.loc 1 839 5 discriminator 9 view .LVU1736
 5494 0060 0A4A     		ldr	r2, .L431+12
 5495 0062 1060     		str	r0, [r2]
 5496              	.L424:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5497              		.loc 1 839 5 discriminator 11 view .LVU1737
 5498              	.LBE45:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5499              		.loc 1 839 5 discriminator 11 view .LVU1738
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5500              		.loc 1 839 5 discriminator 11 view .LVU1739
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5501              		.loc 1 839 5 discriminator 11 view .LVU1740
 5502 0064 4FF0FF30 		mov	r0, #-1
 5503              	.LVL590:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5504              		.loc 1 839 5 is_stmt 0 discriminator 11 view .LVU1741
 5505 0068 E8E7     		b	.L418
 5506              	.LVL591:
 5507              	.L430:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5508              		.loc 1 839 5 discriminator 11 view .LVU1742
 5509              	.LBE46:
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5510              		.loc 1 860 78 is_stmt 1 view .LVU1743
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5511              		.loc 1 861 5 view .LVU1744
 5512              	.LBB47:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5513              		.loc 1 861 5 view .LVU1745
 5514 006a FFF7FEFF 		bl	err_to_errno
 5515              	.LVL592:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5516              		.loc 1 861 5 view .LVU1746
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5517              		.loc 1 861 5 view .LVU1747
 5518 006e 08B1     		cbz	r0, .L425
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5519              		.loc 1 861 5 discriminator 1 view .LVU1748
 5520 0070 064A     		ldr	r2, .L431+12
 5521 0072 1060     		str	r0, [r2]
 5522              	.L425:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5523              		.loc 1 861 5 discriminator 3 view .LVU1749
 5524              	.LBE47:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
ARM GAS  /tmp/cc3tDhb2.s 			page 193


 5525              		.loc 1 861 5 discriminator 3 view .LVU1750
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5526              		.loc 1 862 22 discriminator 3 view .LVU1751
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5527              		.loc 1 863 5 discriminator 3 view .LVU1752
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5528              		.loc 1 863 12 is_stmt 0 discriminator 3 view .LVU1753
 5529 0074 4FF0FF30 		mov	r0, #-1
 5530              	.LVL593:
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5531              		.loc 1 863 12 discriminator 3 view .LVU1754
 5532 0078 E0E7     		b	.L418
 5533              	.LVL594:
 5534              	.L426:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5535              		.loc 1 820 12 view .LVU1755
 5536 007a 4FF0FF30 		mov	r0, #-1
 5537              	.LVL595:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5538              		.loc 1 820 12 view .LVU1756
 5539 007e DDE7     		b	.L418
 5540              	.L432:
 5541              		.align	2
 5542              	.L431:
 5543 0080 00000000 		.word	.LC0
 5544 0084 00000000 		.word	.LC24
 5545 0088 48000000 		.word	.LC2
 5546 008c 00000000 		.word	errno
 5547              		.cfi_endproc
 5548              	.LFE174:
 5550              		.section	.text.lwip_listen,"ax",%progbits
 5551              		.align	1
 5552              		.global	lwip_listen
 5553              		.syntax unified
 5554              		.thumb
 5555              		.thumb_func
 5556              		.fpu fpv4-sp-d16
 5558              	lwip_listen:
 5559              	.LVL596:
 5560              	.LFB175:
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5561              		.loc 1 882 1 is_stmt 1 view -0
 5562              		.cfi_startproc
 5563              		@ args = 0, pretend = 0, frame = 0
 5564              		@ frame_needed = 0, uses_anonymous_args = 0
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5565              		.loc 1 882 1 is_stmt 0 view .LVU1758
 5566 0000 38B5     		push	{r3, r4, r5, lr}
 5567              	.LCFI67:
 5568              		.cfi_def_cfa_offset 16
 5569              		.cfi_offset 3, -16
 5570              		.cfi_offset 4, -12
 5571              		.cfi_offset 5, -8
 5572              		.cfi_offset 14, -4
 5573 0002 0C46     		mov	r4, r1
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5574              		.loc 1 883 3 is_stmt 1 view .LVU1759
ARM GAS  /tmp/cc3tDhb2.s 			page 194


 884:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5575              		.loc 1 884 3 view .LVU1760
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5576              		.loc 1 886 76 view .LVU1761
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5577              		.loc 1 888 3 view .LVU1762
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5578              		.loc 1 888 10 is_stmt 0 view .LVU1763
 5579 0004 FFF7FEFF 		bl	get_socket
 5580              	.LVL597:
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5581              		.loc 1 889 3 is_stmt 1 view .LVU1764
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5582              		.loc 1 889 6 is_stmt 0 view .LVU1765
 5583 0008 00B3     		cbz	r0, .L438
 5584 000a 0546     		mov	r5, r0
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5585              		.loc 1 894 3 is_stmt 1 view .LVU1766
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5586              		.loc 1 894 13 is_stmt 0 view .LVU1767
 5587 000c FE2C     		cmp	r4, #254
 5588 000e 02DC     		bgt	.L439
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5589              		.loc 1 894 13 discriminator 1 view .LVU1768
 5590 0010 24EAE471 		bic	r1, r4, r4, asr #31
 5591 0014 00E0     		b	.L435
 5592              	.L439:
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5593              		.loc 1 894 13 view .LVU1769
 5594 0016 FF21     		movs	r1, #255
 5595              	.L435:
 5596              	.LVL598:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5597              		.loc 1 896 3 is_stmt 1 discriminator 4 view .LVU1770
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5598              		.loc 1 896 9 is_stmt 0 discriminator 4 view .LVU1771
 5599 0018 C9B2     		uxtb	r1, r1
 5600              	.LVL599:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5601              		.loc 1 896 9 discriminator 4 view .LVU1772
 5602 001a 2868     		ldr	r0, [r5]
 5603              	.LVL600:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5604              		.loc 1 896 9 discriminator 4 view .LVU1773
 5605 001c FFF7FEFF 		bl	netconn_listen_with_backlog
 5606              	.LVL601:
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5607              		.loc 1 898 3 is_stmt 1 discriminator 4 view .LVU1774
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5608              		.loc 1 898 6 is_stmt 0 discriminator 4 view .LVU1775
 5609 0020 08B9     		cbnz	r0, .L442
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5610              		.loc 1 911 10 view .LVU1776
 5611 0022 0020     		movs	r0, #0
 5612              	.LVL602:
 5613              	.L433:
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 195


 5614              		.loc 1 912 1 view .LVU1777
 5615 0024 38BD     		pop	{r3, r4, r5, pc}
 5616              	.LVL603:
 5617              	.L442:
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 5618              		.loc 1 899 77 is_stmt 1 view .LVU1778
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5619              		.loc 1 900 5 view .LVU1779
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5620              		.loc 1 900 9 is_stmt 0 view .LVU1780
 5621 0026 2A68     		ldr	r2, [r5]
 5622 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5623              		.loc 1 900 8 view .LVU1781
 5624 002a 02F0F002 		and	r2, r2, #240
 5625 002e 102A     		cmp	r2, #16
 5626 0030 05D0     		beq	.L436
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5627              		.loc 1 901 7 is_stmt 1 view .LVU1782
 5628              	.LBB48:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5629              		.loc 1 901 7 view .LVU1783
 5630              	.LVL604:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5631              		.loc 1 901 7 view .LVU1784
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5632              		.loc 1 901 7 view .LVU1785
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5633              		.loc 1 901 7 view .LVU1786
 5634 0032 084B     		ldr	r3, .L443
 5635 0034 5F22     		movs	r2, #95
 5636 0036 1A60     		str	r2, [r3]
 5637              	.LVL605:
 5638              	.L437:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5639              		.loc 1 901 7 is_stmt 0 view .LVU1787
 5640              	.LBE48:
 5641              	.LBB49:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5642              		.loc 1 903 7 is_stmt 1 discriminator 3 view .LVU1788
 5643              	.LBE49:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5644              		.loc 1 903 7 discriminator 3 view .LVU1789
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5645              		.loc 1 905 22 discriminator 3 view .LVU1790
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5646              		.loc 1 906 5 discriminator 3 view .LVU1791
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5647              		.loc 1 906 12 is_stmt 0 discriminator 3 view .LVU1792
 5648 0038 4FF0FF30 		mov	r0, #-1
 5649 003c F2E7     		b	.L433
 5650              	.LVL606:
 5651              	.L436:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5652              		.loc 1 903 7 is_stmt 1 view .LVU1793
 5653              	.LBB50:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  /tmp/cc3tDhb2.s 			page 196


 5654              		.loc 1 903 7 view .LVU1794
 5655 003e FFF7FEFF 		bl	err_to_errno
 5656              	.LVL607:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5657              		.loc 1 903 7 view .LVU1795
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5658              		.loc 1 903 7 view .LVU1796
 5659 0042 0028     		cmp	r0, #0
 5660 0044 F8D0     		beq	.L437
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5661              		.loc 1 903 7 discriminator 1 view .LVU1797
 5662 0046 034A     		ldr	r2, .L443
 5663 0048 1060     		str	r0, [r2]
 5664 004a F5E7     		b	.L437
 5665              	.LVL608:
 5666              	.L438:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5667              		.loc 1 903 7 is_stmt 0 discriminator 1 view .LVU1798
 5668              	.LBE50:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5669              		.loc 1 890 12 view .LVU1799
 5670 004c 4FF0FF30 		mov	r0, #-1
 5671              	.LVL609:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5672              		.loc 1 890 12 view .LVU1800
 5673 0050 E8E7     		b	.L433
 5674              	.L444:
 5675 0052 00BF     		.align	2
 5676              	.L443:
 5677 0054 00000000 		.word	errno
 5678              		.cfi_endproc
 5679              	.LFE175:
 5681              		.section	.rodata.lwip_recvfrom.str1.4,"aMS",%progbits,1
 5682              		.align	2
 5683              	.LC25:
 5684 0000 6C776970 		.ascii	"lwip_recvfrom\000"
 5684      5F726563 
 5684      7666726F 
 5684      6D00
 5685              		.section	.text.lwip_recvfrom,"ax",%progbits
 5686              		.align	1
 5687              		.global	lwip_recvfrom
 5688              		.syntax unified
 5689              		.thumb
 5690              		.thumb_func
 5691              		.fpu fpv4-sp-d16
 5693              	lwip_recvfrom:
 5694              	.LVL610:
 5695              	.LFB180:
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5696              		.loc 1 1201 1 is_stmt 1 view -0
 5697              		.cfi_startproc
 5698              		@ args = 8, pretend = 0, frame = 40
 5699              		@ frame_needed = 0, uses_anonymous_args = 0
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5700              		.loc 1 1201 1 is_stmt 0 view .LVU1802
 5701 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
ARM GAS  /tmp/cc3tDhb2.s 			page 197


 5702              	.LCFI68:
 5703              		.cfi_def_cfa_offset 28
 5704              		.cfi_offset 4, -28
 5705              		.cfi_offset 5, -24
 5706              		.cfi_offset 6, -20
 5707              		.cfi_offset 7, -16
 5708              		.cfi_offset 8, -12
 5709              		.cfi_offset 9, -8
 5710              		.cfi_offset 14, -4
 5711 0004 8DB0     		sub	sp, sp, #52
 5712              	.LCFI69:
 5713              		.cfi_def_cfa_offset 80
 5714 0006 0746     		mov	r7, r0
 5715 0008 8946     		mov	r9, r1
 5716 000a 1446     		mov	r4, r2
 5717 000c 1E46     		mov	r6, r3
 5718 000e 159D     		ldr	r5, [sp, #84]
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
 5719              		.loc 1 1202 3 is_stmt 1 view .LVU1803
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5720              		.loc 1 1203 3 view .LVU1804
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 5721              		.loc 1 1205 98 view .LVU1805
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5722              		.loc 1 1206 3 view .LVU1806
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5723              		.loc 1 1206 10 is_stmt 0 view .LVU1807
 5724 0010 FFF7FEFF 		bl	get_socket
 5725              	.LVL611:
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5726              		.loc 1 1207 3 is_stmt 1 view .LVU1808
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5727              		.loc 1 1207 6 is_stmt 0 view .LVU1809
 5728 0014 0028     		cmp	r0, #0
 5729 0016 4ED0     		beq	.L453
 5730 0018 8046     		mov	r8, r0
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5731              		.loc 1 1211 3 is_stmt 1 view .LVU1810
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5732              		.loc 1 1211 7 is_stmt 0 view .LVU1811
 5733 001a 0368     		ldr	r3, [r0]
 5734 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5735              		.loc 1 1211 6 view .LVU1812
 5736 001e 03F0F003 		and	r3, r3, #240
 5737 0022 102B     		cmp	r3, #16
 5738 0024 2BD0     		beq	.L457
 5739              	.LBB51:
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5740              		.loc 1 1219 5 is_stmt 1 view .LVU1813
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5741              		.loc 1 1219 11 is_stmt 0 view .LVU1814
 5742 0026 0022     		movs	r2, #0
 5743 0028 ADF80A20 		strh	r2, [sp, #10]	@ movhi
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
 5744              		.loc 1 1220 5 is_stmt 1 view .LVU1815
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
ARM GAS  /tmp/cc3tDhb2.s 			page 198


 5745              		.loc 1 1221 5 view .LVU1816
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
 5746              		.loc 1 1222 5 view .LVU1817
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5747              		.loc 1 1223 5 view .LVU1818
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5748              		.loc 1 1223 18 is_stmt 0 view .LVU1819
 5749 002c CDF80C90 		str	r9, [sp, #12]
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
 5750              		.loc 1 1224 5 is_stmt 1 view .LVU1820
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
 5751              		.loc 1 1224 17 is_stmt 0 view .LVU1821
 5752 0030 0494     		str	r4, [sp, #16]
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5753              		.loc 1 1225 5 is_stmt 1 view .LVU1822
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5754              		.loc 1 1225 21 is_stmt 0 view .LVU1823
 5755 0032 0992     		str	r2, [sp, #36]
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5756              		.loc 1 1226 5 is_stmt 1 view .LVU1824
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5757              		.loc 1 1226 24 is_stmt 0 view .LVU1825
 5758 0034 0A92     		str	r2, [sp, #40]
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5759              		.loc 1 1227 5 is_stmt 1 view .LVU1826
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5760              		.loc 1 1227 19 is_stmt 0 view .LVU1827
 5761 0036 0B92     		str	r2, [sp, #44]
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5762              		.loc 1 1228 5 is_stmt 1 view .LVU1828
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5763              		.loc 1 1228 17 is_stmt 0 view .LVU1829
 5764 0038 03AB     		add	r3, sp, #12
 5765 003a 0793     		str	r3, [sp, #28]
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5766              		.loc 1 1229 5 is_stmt 1 view .LVU1830
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5767              		.loc 1 1229 20 is_stmt 0 view .LVU1831
 5768 003c 0123     		movs	r3, #1
 5769 003e 0893     		str	r3, [sp, #32]
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5770              		.loc 1 1230 5 is_stmt 1 view .LVU1832
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5771              		.loc 1 1230 18 is_stmt 0 view .LVU1833
 5772 0040 149B     		ldr	r3, [sp, #80]
 5773 0042 0593     		str	r3, [sp, #20]
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5774              		.loc 1 1231 5 is_stmt 1 view .LVU1834
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5775              		.loc 1 1231 43 is_stmt 0 view .LVU1835
 5776 0044 55B3     		cbz	r5, .L454
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5777              		.loc 1 1231 43 discriminator 1 view .LVU1836
 5778 0046 2B68     		ldr	r3, [r5]
 5779              	.L448:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5780              		.loc 1 1231 21 discriminator 4 view .LVU1837
ARM GAS  /tmp/cc3tDhb2.s 			page 199


 5781 0048 0693     		str	r3, [sp, #24]
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5782              		.loc 1 1232 5 is_stmt 1 discriminator 4 view .LVU1838
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5783              		.loc 1 1232 11 is_stmt 0 discriminator 4 view .LVU1839
 5784 004a 0097     		str	r7, [sp]
 5785 004c 0DF10A03 		add	r3, sp, #10
 5786 0050 05AA     		add	r2, sp, #20
 5787 0052 3146     		mov	r1, r6
 5788 0054 4046     		mov	r0, r8
 5789              	.LVL612:
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5790              		.loc 1 1232 11 discriminator 4 view .LVU1840
 5791 0056 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 5792              	.LVL613:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5793              		.loc 1 1233 5 is_stmt 1 discriminator 4 view .LVU1841
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5794              		.loc 1 1233 8 is_stmt 0 discriminator 4 view .LVU1842
 5795 005a 08BB     		cbnz	r0, .L458
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5796              		.loc 1 1240 5 is_stmt 1 view .LVU1843
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5797              		.loc 1 1240 20 is_stmt 0 view .LVU1844
 5798 005c BDF80A20 		ldrh	r2, [sp, #10]
 5799 0060 A242     		cmp	r2, r4
 5800 0062 28BF     		it	cs
 5801 0064 2246     		movcs	r2, r4
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5802              		.loc 1 1240 11 view .LVU1845
 5803 0066 6FF00043 		mvn	r3, #-2147483648
 5804 006a 9A42     		cmp	r2, r3
 5805 006c 20D2     		bcs	.L455
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5806              		.loc 1 1240 11 discriminator 1 view .LVU1846
 5807 006e 1446     		mov	r4, r2
 5808              	.LVL614:
 5809              	.L451:
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5810              		.loc 1 1241 5 is_stmt 1 discriminator 4 view .LVU1847
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5811              		.loc 1 1241 8 is_stmt 0 discriminator 4 view .LVU1848
 5812 0070 0DB1     		cbz	r5, .L445
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5813              		.loc 1 1242 7 is_stmt 1 view .LVU1849
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5814              		.loc 1 1242 21 is_stmt 0 view .LVU1850
 5815 0072 069B     		ldr	r3, [sp, #24]
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5816              		.loc 1 1242 16 view .LVU1851
 5817 0074 2B60     		str	r3, [r5]
 5818              	.LBE51:
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5819              		.loc 1 1246 3 is_stmt 1 view .LVU1852
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5820              		.loc 1 1246 3 view .LVU1853
 5821              	.LVL615:
ARM GAS  /tmp/cc3tDhb2.s 			page 200


1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5822              		.loc 1 1246 3 view .LVU1854
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5823              		.loc 1 1246 3 view .LVU1855
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5824              		.loc 1 1246 3 view .LVU1856
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5825              		.loc 1 1246 3 view .LVU1857
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 5826              		.loc 1 1247 20 view .LVU1858
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5827              		.loc 1 1248 3 view .LVU1859
 5828              	.L445:
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5829              		.loc 1 1249 1 is_stmt 0 view .LVU1860
 5830 0076 2046     		mov	r0, r4
 5831 0078 0DB0     		add	sp, sp, #52
 5832              	.LCFI70:
 5833              		.cfi_remember_state
 5834              		.cfi_def_cfa_offset 28
 5835              		@ sp needed
 5836 007a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5837              	.LVL616:
 5838              	.L457:
 5839              	.LCFI71:
 5840              		.cfi_restore_state
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5841              		.loc 1 1212 5 is_stmt 1 view .LVU1861
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5842              		.loc 1 1212 11 is_stmt 0 view .LVU1862
 5843 007e 3346     		mov	r3, r6
 5844 0080 2246     		mov	r2, r4
 5845 0082 4946     		mov	r1, r9
 5846 0084 FFF7FEFF 		bl	lwip_recv_tcp
 5847              	.LVL617:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5848              		.loc 1 1212 11 view .LVU1863
 5849 0088 0446     		mov	r4, r0
 5850              	.LVL618:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5851              		.loc 1 1213 5 is_stmt 1 view .LVU1864
 5852 008a 0190     		str	r0, [sp, #4]
 5853 008c 0097     		str	r7, [sp]
 5854 008e 0B4B     		ldr	r3, .L459
 5855 0090 2A46     		mov	r2, r5
 5856 0092 1499     		ldr	r1, [sp, #80]
 5857 0094 4046     		mov	r0, r8
 5858              	.LVL619:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5859              		.loc 1 1213 5 is_stmt 0 view .LVU1865
 5860 0096 FFF7FEFF 		bl	lwip_recv_tcp_from
 5861              	.LVL620:
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
 5862              		.loc 1 1214 22 is_stmt 1 view .LVU1866
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
 5863              		.loc 1 1215 5 view .LVU1867
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
ARM GAS  /tmp/cc3tDhb2.s 			page 201


 5864              		.loc 1 1215 12 is_stmt 0 view .LVU1868
 5865 009a ECE7     		b	.L445
 5866              	.LVL621:
 5867              	.L454:
 5868              	.LBB53:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5869              		.loc 1 1231 43 view .LVU1869
 5870 009c 0023     		movs	r3, #0
 5871 009e D3E7     		b	.L448
 5872              	.LVL622:
 5873              	.L458:
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 5874              		.loc 1 1235 56 is_stmt 1 view .LVU1870
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5875              		.loc 1 1236 7 view .LVU1871
 5876              	.LBB52:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5877              		.loc 1 1236 7 view .LVU1872
 5878 00a0 FFF7FEFF 		bl	err_to_errno
 5879              	.LVL623:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5880              		.loc 1 1236 7 view .LVU1873
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5881              		.loc 1 1236 7 view .LVU1874
 5882 00a4 08B1     		cbz	r0, .L450
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5883              		.loc 1 1236 7 discriminator 1 view .LVU1875
 5884 00a6 064A     		ldr	r2, .L459+4
 5885 00a8 1060     		str	r0, [r2]
 5886              	.L450:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5887              		.loc 1 1236 7 discriminator 3 view .LVU1876
 5888              	.LBE52:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5889              		.loc 1 1236 7 discriminator 3 view .LVU1877
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5890              		.loc 1 1237 24 discriminator 3 view .LVU1878
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5891              		.loc 1 1238 7 discriminator 3 view .LVU1879
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5892              		.loc 1 1238 14 is_stmt 0 discriminator 3 view .LVU1880
 5893 00aa 4FF0FF34 		mov	r4, #-1
 5894              	.LVL624:
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5895              		.loc 1 1238 14 discriminator 3 view .LVU1881
 5896 00ae E2E7     		b	.L445
 5897              	.LVL625:
 5898              	.L455:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5899              		.loc 1 1240 11 view .LVU1882
 5900 00b0 6FF00044 		mvn	r4, #-2147483648
 5901              	.LVL626:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5902              		.loc 1 1240 11 view .LVU1883
 5903 00b4 DCE7     		b	.L451
 5904              	.LVL627:
 5905              	.L453:
ARM GAS  /tmp/cc3tDhb2.s 			page 202


1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5906              		.loc 1 1240 11 view .LVU1884
 5907              	.LBE53:
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5908              		.loc 1 1208 12 view .LVU1885
 5909 00b6 4FF0FF34 		mov	r4, #-1
 5910              	.LVL628:
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5911              		.loc 1 1208 12 view .LVU1886
 5912 00ba DCE7     		b	.L445
 5913              	.L460:
 5914              		.align	2
 5915              	.L459:
 5916 00bc 00000000 		.word	.LC25
 5917 00c0 00000000 		.word	errno
 5918              		.cfi_endproc
 5919              	.LFE180:
 5921              		.section	.text.lwip_read,"ax",%progbits
 5922              		.align	1
 5923              		.global	lwip_read
 5924              		.syntax unified
 5925              		.thumb
 5926              		.thumb_func
 5927              		.fpu fpv4-sp-d16
 5929              	lwip_read:
 5930              	.LVL629:
 5931              	.LFB181:
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5932              		.loc 1 1253 1 is_stmt 1 view -0
 5933              		.cfi_startproc
 5934              		@ args = 0, pretend = 0, frame = 0
 5935              		@ frame_needed = 0, uses_anonymous_args = 0
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5936              		.loc 1 1253 1 is_stmt 0 view .LVU1888
 5937 0000 00B5     		push	{lr}
 5938              	.LCFI72:
 5939              		.cfi_def_cfa_offset 4
 5940              		.cfi_offset 14, -4
 5941 0002 83B0     		sub	sp, sp, #12
 5942              	.LCFI73:
 5943              		.cfi_def_cfa_offset 16
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5944              		.loc 1 1254 3 is_stmt 1 view .LVU1889
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5945              		.loc 1 1254 10 is_stmt 0 view .LVU1890
 5946 0004 0023     		movs	r3, #0
 5947 0006 0193     		str	r3, [sp, #4]
 5948 0008 0093     		str	r3, [sp]
 5949 000a FFF7FEFF 		bl	lwip_recvfrom
 5950              	.LVL630:
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5951              		.loc 1 1255 1 view .LVU1891
 5952 000e 03B0     		add	sp, sp, #12
 5953              	.LCFI74:
 5954              		.cfi_def_cfa_offset 4
 5955              		@ sp needed
 5956 0010 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  /tmp/cc3tDhb2.s 			page 203


 5957              		.cfi_endproc
 5958              	.LFE181:
 5960              		.section	.text.lwip_recv,"ax",%progbits
 5961              		.align	1
 5962              		.global	lwip_recv
 5963              		.syntax unified
 5964              		.thumb
 5965              		.thumb_func
 5966              		.fpu fpv4-sp-d16
 5968              	lwip_recv:
 5969              	.LVL631:
 5970              	.LFB183:
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 5971              		.loc 1 1276 1 is_stmt 1 view -0
 5972              		.cfi_startproc
 5973              		@ args = 0, pretend = 0, frame = 0
 5974              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 5975              		.loc 1 1276 1 is_stmt 0 view .LVU1893
 5976 0000 10B5     		push	{r4, lr}
 5977              	.LCFI75:
 5978              		.cfi_def_cfa_offset 8
 5979              		.cfi_offset 4, -8
 5980              		.cfi_offset 14, -4
 5981 0002 82B0     		sub	sp, sp, #8
 5982              	.LCFI76:
 5983              		.cfi_def_cfa_offset 16
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5984              		.loc 1 1277 3 is_stmt 1 view .LVU1894
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5985              		.loc 1 1277 10 is_stmt 0 view .LVU1895
 5986 0004 0024     		movs	r4, #0
 5987 0006 0194     		str	r4, [sp, #4]
 5988 0008 0094     		str	r4, [sp]
 5989 000a FFF7FEFF 		bl	lwip_recvfrom
 5990              	.LVL632:
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5991              		.loc 1 1278 1 view .LVU1896
 5992 000e 02B0     		add	sp, sp, #8
 5993              	.LCFI77:
 5994              		.cfi_def_cfa_offset 8
 5995              		@ sp needed
 5996 0010 10BD     		pop	{r4, pc}
 5997              		.cfi_endproc
 5998              	.LFE183:
 6000              		.section	.rodata.lwip_recvmsg.str1.4,"aMS",%progbits,1
 6001              		.align	2
 6002              	.LC26:
 6003 0000 6C776970 		.ascii	"lwip_recvmsg: invalid message pointer\000"
 6003      5F726563 
 6003      766D7367 
 6003      3A20696E 
 6003      76616C69 
 6004 0026 0000     		.align	2
 6005              	.LC27:
 6006 0028 6C776970 		.ascii	"lwip_recvmsg: unsupported flags\000"
 6006      5F726563 
ARM GAS  /tmp/cc3tDhb2.s 			page 204


 6006      766D7367 
 6006      3A20756E 
 6006      73757070 
 6007              		.section	.text.lwip_recvmsg,"ax",%progbits
 6008              		.align	1
 6009              		.global	lwip_recvmsg
 6010              		.syntax unified
 6011              		.thumb
 6012              		.thumb_func
 6013              		.fpu fpv4-sp-d16
 6015              	lwip_recvmsg:
 6016              	.LVL633:
 6017              	.LFB184:
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6018              		.loc 1 1282 1 is_stmt 1 view -0
 6019              		.cfi_startproc
 6020              		@ args = 0, pretend = 0, frame = 8
 6021              		@ frame_needed = 0, uses_anonymous_args = 0
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6022              		.loc 1 1282 1 is_stmt 0 view .LVU1898
 6023 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6024              	.LCFI78:
 6025              		.cfi_def_cfa_offset 32
 6026              		.cfi_offset 4, -32
 6027              		.cfi_offset 5, -28
 6028              		.cfi_offset 6, -24
 6029              		.cfi_offset 7, -20
 6030              		.cfi_offset 8, -16
 6031              		.cfi_offset 9, -12
 6032              		.cfi_offset 10, -8
 6033              		.cfi_offset 14, -4
 6034 0004 84B0     		sub	sp, sp, #16
 6035              	.LCFI79:
 6036              		.cfi_def_cfa_offset 48
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 6037              		.loc 1 1283 3 is_stmt 1 view .LVU1899
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
 6038              		.loc 1 1284 3 view .LVU1900
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6039              		.loc 1 1285 3 view .LVU1901
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
 6040              		.loc 1 1287 104 view .LVU1902
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6041              		.loc 1 1288 3 view .LVU1903
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6042              		.loc 1 1288 3 view .LVU1904
 6043 0006 A1B1     		cbz	r1, .L487
 6044 0008 8046     		mov	r8, r0
 6045 000a 1746     		mov	r7, r2
 6046 000c 0D46     		mov	r5, r1
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6047              		.loc 1 1288 3 discriminator 2 view .LVU1905
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6048              		.loc 1 1288 3 discriminator 2 view .LVU1906
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6049              		.loc 1 1289 3 discriminator 2 view .LVU1907
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
ARM GAS  /tmp/cc3tDhb2.s 			page 205


 6050              		.loc 1 1289 3 discriminator 2 view .LVU1908
 6051 000e 32F00906 		bics	r6, r2, #9
 6052 0012 18D1     		bne	.L488
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6053              		.loc 1 1289 3 discriminator 2 view .LVU1909
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6054              		.loc 1 1289 3 discriminator 2 view .LVU1910
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6055              		.loc 1 1292 3 discriminator 2 view .LVU1911
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6056              		.loc 1 1292 15 is_stmt 0 discriminator 2 view .LVU1912
 6057 0014 CB68     		ldr	r3, [r1, #12]
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6058              		.loc 1 1292 34 discriminator 2 view .LVU1913
 6059 0016 013B     		subs	r3, r3, #1
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6060              		.loc 1 1292 6 discriminator 2 view .LVU1914
 6061 0018 4FF6FE72 		movw	r2, #65534
 6062              	.LVL634:
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6063              		.loc 1 1292 6 discriminator 2 view .LVU1915
 6064 001c 9342     		cmp	r3, r2
 6065 001e 1FD8     		bhi	.L489
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6066              		.loc 1 1297 3 is_stmt 1 view .LVU1916
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6067              		.loc 1 1297 10 is_stmt 0 view .LVU1917
 6068 0020 FFF7FEFF 		bl	get_socket
 6069              	.LVL635:
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6070              		.loc 1 1298 3 is_stmt 1 view .LVU1918
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6071              		.loc 1 1298 6 is_stmt 0 view .LVU1919
 6072 0024 8146     		mov	r9, r0
 6073 0026 0028     		cmp	r0, #0
 6074 0028 00F08D80 		beq	.L485
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
 6075              		.loc 1 1303 10 view .LVU1920
 6076 002c 3446     		mov	r4, r6
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6077              		.loc 1 1304 10 view .LVU1921
 6078 002e 3346     		mov	r3, r6
 6079 0030 1DE0     		b	.L470
 6080              	.LVL636:
 6081              	.L487:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6082              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1922
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6083              		.loc 1 1288 3 discriminator 1 view .LVU1923
 6084 0032 464B     		ldr	r3, .L494
 6085 0034 4FF4A162 		mov	r2, #1288
 6086              	.LVL637:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6087              		.loc 1 1288 3 is_stmt 0 discriminator 1 view .LVU1924
 6088 0038 4549     		ldr	r1, .L494+4
 6089              	.LVL638:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
ARM GAS  /tmp/cc3tDhb2.s 			page 206


 6090              		.loc 1 1288 3 discriminator 1 view .LVU1925
 6091 003a 4648     		ldr	r0, .L494+8
 6092              	.LVL639:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6093              		.loc 1 1288 3 discriminator 1 view .LVU1926
 6094 003c FFF7FEFF 		bl	printf
 6095              	.LVL640:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6096              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1927
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6097              		.loc 1 1288 3 discriminator 1 view .LVU1928
 6098 0040 6FF00F00 		mvn	r0, #15
 6099 0044 2BE0     		b	.L465
 6100              	.LVL641:
 6101              	.L488:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6102              		.loc 1 1289 3 discriminator 1 view .LVU1929
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6103              		.loc 1 1289 3 discriminator 1 view .LVU1930
 6104 0046 414B     		ldr	r3, .L494
 6105 0048 40F20952 		movw	r2, #1289
 6106              	.LVL642:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6107              		.loc 1 1289 3 is_stmt 0 discriminator 1 view .LVU1931
 6108 004c 4249     		ldr	r1, .L494+12
 6109              	.LVL643:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6110              		.loc 1 1289 3 discriminator 1 view .LVU1932
 6111 004e 4148     		ldr	r0, .L494+8
 6112              	.LVL644:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6113              		.loc 1 1289 3 discriminator 1 view .LVU1933
 6114 0050 FFF7FEFF 		bl	printf
 6115              	.LVL645:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6116              		.loc 1 1289 3 is_stmt 1 discriminator 1 view .LVU1934
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6117              		.loc 1 1289 3 discriminator 1 view .LVU1935
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6118              		.loc 1 1289 3 discriminator 1 view .LVU1936
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6119              		.loc 1 1289 3 discriminator 1 view .LVU1937
 6120 0054 414B     		ldr	r3, .L494+16
 6121 0056 5F22     		movs	r2, #95
 6122 0058 1A60     		str	r2, [r3]
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6123              		.loc 1 1289 3 discriminator 1 view .LVU1938
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6124              		.loc 1 1289 3 discriminator 1 view .LVU1939
 6125 005a 4FF0FF30 		mov	r0, #-1
 6126 005e 1EE0     		b	.L465
 6127              	.LVL646:
 6128              	.L489:
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6129              		.loc 1 1293 5 discriminator 1 view .LVU1940
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6130              		.loc 1 1293 5 discriminator 1 view .LVU1941
ARM GAS  /tmp/cc3tDhb2.s 			page 207


1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6131              		.loc 1 1293 5 discriminator 1 view .LVU1942
 6132 0060 3E4B     		ldr	r3, .L494+16
 6133 0062 5A22     		movs	r2, #90
 6134 0064 1A60     		str	r2, [r3]
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6135              		.loc 1 1293 5 discriminator 1 view .LVU1943
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6136              		.loc 1 1294 5 discriminator 1 view .LVU1944
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6137              		.loc 1 1294 12 is_stmt 0 discriminator 1 view .LVU1945
 6138 0066 4FF0FF30 		mov	r0, #-1
 6139              	.LVL647:
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6140              		.loc 1 1294 12 discriminator 1 view .LVU1946
 6141 006a 18E0     		b	.L465
 6142              	.LVL648:
 6143              	.L472:
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6144              		.loc 1 1312 5 is_stmt 1 discriminator 2 view .LVU1947
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6145              		.loc 1 1304 40 discriminator 2 view .LVU1948
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6146              		.loc 1 1304 41 is_stmt 0 discriminator 2 view .LVU1949
 6147 006c 0133     		adds	r3, r3, #1
 6148              	.LVL649:
 6149              	.L470:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6150              		.loc 1 1304 15 is_stmt 1 discriminator 1 view .LVU1950
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6151              		.loc 1 1304 26 is_stmt 0 discriminator 1 view .LVU1951
 6152 006e EA68     		ldr	r2, [r5, #12]
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6153              		.loc 1 1304 3 discriminator 1 view .LVU1952
 6154 0070 9A42     		cmp	r2, r3
 6155 0072 17DD     		ble	.L490
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6156              		.loc 1 1305 5 is_stmt 1 view .LVU1953
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6157              		.loc 1 1305 17 is_stmt 0 view .LVU1954
 6158 0074 A968     		ldr	r1, [r5, #8]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6159              		.loc 1 1305 26 view .LVU1955
 6160 0076 01EBC300 		add	r0, r1, r3, lsl #3
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6161              		.loc 1 1305 29 view .LVU1956
 6162 007a 51F83320 		ldr	r2, [r1, r3, lsl #3]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6163              		.loc 1 1305 8 view .LVU1957
 6164 007e 2AB1     		cbz	r2, .L471
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6165              		.loc 1 1305 80 discriminator 1 view .LVU1958
 6166 0080 4268     		ldr	r2, [r0, #4]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6167              		.loc 1 1305 95 discriminator 1 view .LVU1959
 6168 0082 002A     		cmp	r2, #0
 6169 0084 02DD     		ble	.L471
ARM GAS  /tmp/cc3tDhb2.s 			page 208


1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
 6170              		.loc 1 1307 10 view .LVU1960
 6171 0086 1444     		add	r4, r4, r2
 6172              	.LVL650:
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
 6173              		.loc 1 1306 87 view .LVU1961
 6174 0088 002C     		cmp	r4, #0
 6175 008a EFDC     		bgt	.L472
 6176              	.L471:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6177              		.loc 1 1308 7 is_stmt 1 view .LVU1962
 6178              	.LBB54:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6179              		.loc 1 1308 7 view .LVU1963
 6180 008c 6FF00500 		mvn	r0, #5
 6181 0090 FFF7FEFF 		bl	err_to_errno
 6182              	.LVL651:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6183              		.loc 1 1308 7 view .LVU1964
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6184              		.loc 1 1308 7 view .LVU1965
 6185 0094 08B1     		cbz	r0, .L473
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6186              		.loc 1 1308 7 discriminator 1 view .LVU1966
 6187 0096 314A     		ldr	r2, .L494+16
 6188 0098 1060     		str	r0, [r2]
 6189              	.L473:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6190              		.loc 1 1308 7 discriminator 3 view .LVU1967
 6191              	.LBE54:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6192              		.loc 1 1308 7 discriminator 3 view .LVU1968
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6193              		.loc 1 1309 24 discriminator 3 view .LVU1969
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6194              		.loc 1 1310 7 discriminator 3 view .LVU1970
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6195              		.loc 1 1310 14 is_stmt 0 discriminator 3 view .LVU1971
 6196 009a 4FF0FF30 		mov	r0, #-1
 6197              	.LVL652:
 6198              	.L465:
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6199              		.loc 1 1379 1 view .LVU1972
 6200 009e 04B0     		add	sp, sp, #16
 6201              	.LCFI80:
 6202              		.cfi_remember_state
 6203              		.cfi_def_cfa_offset 32
 6204              		@ sp needed
 6205 00a0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6206              	.LVL653:
 6207              	.L490:
 6208              	.LCFI81:
 6209              		.cfi_restore_state
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6210              		.loc 1 1315 3 is_stmt 1 view .LVU1973
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6211              		.loc 1 1315 7 is_stmt 0 view .LVU1974
ARM GAS  /tmp/cc3tDhb2.s 			page 209


 6212 00a4 D9F80030 		ldr	r3, [r9]
 6213              	.LVL654:
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6214              		.loc 1 1315 7 view .LVU1975
 6215 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6216              		.loc 1 1315 6 view .LVU1976
 6217 00aa 03F0F003 		and	r3, r3, #240
 6218 00ae 102B     		cmp	r3, #16
 6219 00b0 15D0     		beq	.L491
 6220              	.LBB55:
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6221              		.loc 1 1356 5 is_stmt 1 view .LVU1977
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6222              		.loc 1 1356 11 is_stmt 0 view .LVU1978
 6223 00b2 0023     		movs	r3, #0
 6224 00b4 ADF80E30 		strh	r3, [sp, #14]	@ movhi
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
 6225              		.loc 1 1357 5 is_stmt 1 view .LVU1979
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6226              		.loc 1 1358 5 view .LVU1980
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6227              		.loc 1 1358 11 is_stmt 0 view .LVU1981
 6228 00b8 CDF80080 		str	r8, [sp]
 6229 00bc 0DF10E03 		add	r3, sp, #14
 6230 00c0 2A46     		mov	r2, r5
 6231 00c2 3946     		mov	r1, r7
 6232 00c4 4846     		mov	r0, r9
 6233 00c6 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 6234              	.LVL655:
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6235              		.loc 1 1359 5 is_stmt 1 view .LVU1982
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6236              		.loc 1 1359 8 is_stmt 0 view .LVU1983
 6237 00ca A0BB     		cbnz	r0, .L492
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6238              		.loc 1 1366 5 is_stmt 1 view .LVU1984
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6239              		.loc 1 1366 22 is_stmt 0 view .LVU1985
 6240 00cc BDF80E00 		ldrh	r0, [sp, #14]
 6241              	.LVL656:
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6242              		.loc 1 1366 8 view .LVU1986
 6243 00d0 A042     		cmp	r0, r4
 6244 00d2 E4DD     		ble	.L465
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6245              		.loc 1 1367 7 is_stmt 1 view .LVU1987
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6246              		.loc 1 1367 26 is_stmt 0 view .LVU1988
 6247 00d4 AB69     		ldr	r3, [r5, #24]
 6248 00d6 43F00403 		orr	r3, r3, #4
 6249 00da AB61     		str	r3, [r5, #24]
 6250 00dc DFE7     		b	.L465
 6251              	.L491:
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6252              		.loc 1 1367 26 view .LVU1989
 6253              	.LBE55:
ARM GAS  /tmp/cc3tDhb2.s 			page 210


 6254              	.LBB57:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6255              		.loc 1 1317 5 is_stmt 1 view .LVU1990
 6256              	.LVL657:
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
 6257              		.loc 1 1318 5 view .LVU1991
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
 6258              		.loc 1 1318 24 is_stmt 0 view .LVU1992
 6259 00de 0023     		movs	r3, #0
 6260 00e0 AB61     		str	r3, [r5, #24]
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6261              		.loc 1 1320 5 is_stmt 1 view .LVU1993
 6262              	.LVL658:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6263              		.loc 1 1321 5 view .LVU1994
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6264              		.loc 1 1317 9 is_stmt 0 view .LVU1995
 6265 00e2 3C46     		mov	r4, r7
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6266              		.loc 1 1320 12 view .LVU1996
 6267 00e4 B246     		mov	r10, r6
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6268              		.loc 1 1321 5 view .LVU1997
 6269 00e6 0CE0     		b	.L476
 6270              	.LVL659:
 6271              	.L477:
 6272              	.LBB58:
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6273              		.loc 1 1328 7 is_stmt 1 view .LVU1998
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6274              		.loc 1 1328 10 is_stmt 0 view .LVU1999
 6275 00e8 0028     		cmp	r0, #0
 6276 00ea 1DDB     		blt	.L478
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6277              		.loc 1 1328 59 discriminator 1 view .LVU2000
 6278 00ec AB68     		ldr	r3, [r5, #8]
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6279              		.loc 1 1328 68 discriminator 1 view .LVU2001
 6280 00ee 4344     		add	r3, r3, r8
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6281              		.loc 1 1328 71 discriminator 1 view .LVU2002
 6282 00f0 5B68     		ldr	r3, [r3, #4]
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6283              		.loc 1 1328 29 discriminator 1 view .LVU2003
 6284 00f2 8342     		cmp	r3, r0
 6285 00f4 18DC     		bgt	.L478
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6286              		.loc 1 1328 81 discriminator 2 view .LVU2004
 6287 00f6 17F0010F 		tst	r7, #1
 6288 00fa 15D1     		bne	.L478
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6289              		.loc 1 1338 7 is_stmt 1 discriminator 2 view .LVU2005
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6290              		.loc 1 1338 18 is_stmt 0 discriminator 2 view .LVU2006
 6291 00fc 44F00804 		orr	r4, r4, #8
 6292              	.LVL660:
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  /tmp/cc3tDhb2.s 			page 211


 6293              		.loc 1 1338 18 discriminator 2 view .LVU2007
 6294              	.LBE58:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6295              		.loc 1 1321 42 is_stmt 1 discriminator 2 view .LVU2008
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6296              		.loc 1 1321 43 is_stmt 0 discriminator 2 view .LVU2009
 6297 0100 0136     		adds	r6, r6, #1
 6298              	.LVL661:
 6299              	.L476:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6300              		.loc 1 1321 17 is_stmt 1 discriminator 1 view .LVU2010
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6301              		.loc 1 1321 28 is_stmt 0 discriminator 1 view .LVU2011
 6302 0102 EB68     		ldr	r3, [r5, #12]
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6303              		.loc 1 1321 5 discriminator 1 view .LVU2012
 6304 0104 B342     		cmp	r3, r6
 6305 0106 14DD     		ble	.L493
 6306              	.LBB59:
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6307              		.loc 1 1323 7 is_stmt 1 view .LVU2013
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6308              		.loc 1 1323 56 is_stmt 0 view .LVU2014
 6309 0108 A968     		ldr	r1, [r5, #8]
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6310              		.loc 1 1323 65 view .LVU2015
 6311 010a 4FEAC608 		lsl	r8, r6, #3
 6312 010e 01EBC602 		add	r2, r1, r6, lsl #3
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6313              		.loc 1 1323 29 view .LVU2016
 6314 0112 2346     		mov	r3, r4
 6315 0114 5268     		ldr	r2, [r2, #4]
 6316 0116 51F83610 		ldr	r1, [r1, r6, lsl #3]
 6317 011a 4846     		mov	r0, r9
 6318 011c FFF7FEFF 		bl	lwip_recv_tcp
 6319              	.LVL662:
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6320              		.loc 1 1324 7 is_stmt 1 view .LVU2017
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6321              		.loc 1 1324 10 is_stmt 0 view .LVU2018
 6322 0120 0028     		cmp	r0, #0
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6323              		.loc 1 1324 10 view .LVU2019
 6324 0122 E1DD     		ble	.L477
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6325              		.loc 1 1326 9 is_stmt 1 view .LVU2020
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6326              		.loc 1 1326 16 is_stmt 0 view .LVU2021
 6327 0124 8244     		add	r10, r10, r0
 6328              	.LVL663:
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6329              		.loc 1 1326 16 view .LVU2022
 6330 0126 DFE7     		b	.L477
 6331              	.L478:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6332              		.loc 1 1331 9 is_stmt 1 view .LVU2023
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
ARM GAS  /tmp/cc3tDhb2.s 			page 212


 6333              		.loc 1 1331 12 is_stmt 0 view .LVU2024
 6334 0128 BAF1000F 		cmp	r10, #0
 6335 012c B7DD     		ble	.L465
 6336 012e 5046     		mov	r0, r10
 6337              	.LVL664:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6338              		.loc 1 1331 12 view .LVU2025
 6339 0130 B5E7     		b	.L465
 6340              	.L493:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6341              		.loc 1 1331 12 view .LVU2026
 6342              	.LBE59:
 6343 0132 5046     		mov	r0, r10
 6344              	.LVL665:
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
 6345              		.loc 1 1340 5 is_stmt 1 view .LVU2027
 6346              	.LBE57:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6347              		.loc 1 1342 7 view .LVU2028
 6348              	.LBB60:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6349              		.loc 1 1342 7 view .LVU2029
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
 6350              		.loc 1 1345 22 view .LVU2030
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6351              		.loc 1 1346 5 view .LVU2031
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6352              		.loc 1 1346 12 is_stmt 0 view .LVU2032
 6353 0134 B3E7     		b	.L465
 6354              	.LVL666:
 6355              	.L492:
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6356              		.loc 1 1346 12 view .LVU2033
 6357              	.LBE60:
 6358              	.LBB61:
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 6359              		.loc 1 1361 56 is_stmt 1 view .LVU2034
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6360              		.loc 1 1362 7 view .LVU2035
 6361              	.LBB56:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6362              		.loc 1 1362 7 view .LVU2036
 6363 0136 FFF7FEFF 		bl	err_to_errno
 6364              	.LVL667:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6365              		.loc 1 1362 7 view .LVU2037
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6366              		.loc 1 1362 7 view .LVU2038
 6367 013a 08B1     		cbz	r0, .L483
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6368              		.loc 1 1362 7 discriminator 1 view .LVU2039
 6369 013c 074A     		ldr	r2, .L494+16
 6370 013e 1060     		str	r0, [r2]
 6371              	.L483:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6372              		.loc 1 1362 7 discriminator 3 view .LVU2040
 6373              	.LBE56:
ARM GAS  /tmp/cc3tDhb2.s 			page 213


1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6374              		.loc 1 1362 7 discriminator 3 view .LVU2041
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6375              		.loc 1 1363 24 discriminator 3 view .LVU2042
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6376              		.loc 1 1364 7 discriminator 3 view .LVU2043
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6377              		.loc 1 1364 14 is_stmt 0 discriminator 3 view .LVU2044
 6378 0140 4FF0FF30 		mov	r0, #-1
 6379              	.LVL668:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6380              		.loc 1 1364 14 discriminator 3 view .LVU2045
 6381 0144 ABE7     		b	.L465
 6382              	.LVL669:
 6383              	.L485:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6384              		.loc 1 1364 14 discriminator 3 view .LVU2046
 6385              	.LBE61:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6386              		.loc 1 1299 12 view .LVU2047
 6387 0146 4FF0FF30 		mov	r0, #-1
 6388              	.LVL670:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6389              		.loc 1 1299 12 view .LVU2048
 6390 014a A8E7     		b	.L465
 6391              	.L495:
 6392              		.align	2
 6393              	.L494:
 6394 014c 00000000 		.word	.LC0
 6395 0150 00000000 		.word	.LC26
 6396 0154 48000000 		.word	.LC2
 6397 0158 28000000 		.word	.LC27
 6398 015c 00000000 		.word	errno
 6399              		.cfi_endproc
 6400              	.LFE184:
 6402              		.section	.text.lwip_readv,"ax",%progbits
 6403              		.align	1
 6404              		.global	lwip_readv
 6405              		.syntax unified
 6406              		.thumb
 6407              		.thumb_func
 6408              		.fpu fpv4-sp-d16
 6410              	lwip_readv:
 6411              	.LVL671:
 6412              	.LFB182:
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6413              		.loc 1 1259 1 is_stmt 1 view -0
 6414              		.cfi_startproc
 6415              		@ args = 0, pretend = 0, frame = 32
 6416              		@ frame_needed = 0, uses_anonymous_args = 0
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6417              		.loc 1 1259 1 is_stmt 0 view .LVU2050
 6418 0000 00B5     		push	{lr}
 6419              	.LCFI82:
 6420              		.cfi_def_cfa_offset 4
 6421              		.cfi_offset 14, -4
 6422 0002 89B0     		sub	sp, sp, #36
ARM GAS  /tmp/cc3tDhb2.s 			page 214


 6423              	.LCFI83:
 6424              		.cfi_def_cfa_offset 40
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6425              		.loc 1 1260 3 is_stmt 1 view .LVU2051
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6426              		.loc 1 1262 3 view .LVU2052
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6427              		.loc 1 1262 16 is_stmt 0 view .LVU2053
 6428 0004 0023     		movs	r3, #0
 6429 0006 0193     		str	r3, [sp, #4]
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6430              		.loc 1 1263 3 is_stmt 1 view .LVU2054
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6431              		.loc 1 1263 19 is_stmt 0 view .LVU2055
 6432 0008 0293     		str	r3, [sp, #8]
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6433              		.loc 1 1266 3 is_stmt 1 view .LVU2056
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6434              		.loc 1 1266 15 is_stmt 0 view .LVU2057
 6435 000a 0391     		str	r1, [sp, #12]
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6436              		.loc 1 1267 3 is_stmt 1 view .LVU2058
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6437              		.loc 1 1267 18 is_stmt 0 view .LVU2059
 6438 000c 0492     		str	r2, [sp, #16]
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6439              		.loc 1 1268 3 is_stmt 1 view .LVU2060
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6440              		.loc 1 1268 19 is_stmt 0 view .LVU2061
 6441 000e 0593     		str	r3, [sp, #20]
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6442              		.loc 1 1269 3 is_stmt 1 view .LVU2062
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6443              		.loc 1 1269 22 is_stmt 0 view .LVU2063
 6444 0010 0693     		str	r3, [sp, #24]
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6445              		.loc 1 1270 3 is_stmt 1 view .LVU2064
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6446              		.loc 1 1270 17 is_stmt 0 view .LVU2065
 6447 0012 0793     		str	r3, [sp, #28]
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6448              		.loc 1 1271 3 is_stmt 1 view .LVU2066
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6449              		.loc 1 1271 10 is_stmt 0 view .LVU2067
 6450 0014 1A46     		mov	r2, r3
 6451              	.LVL672:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6452              		.loc 1 1271 10 view .LVU2068
 6453 0016 01A9     		add	r1, sp, #4
 6454              	.LVL673:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6455              		.loc 1 1271 10 view .LVU2069
 6456 0018 FFF7FEFF 		bl	lwip_recvmsg
 6457              	.LVL674:
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6458              		.loc 1 1272 1 view .LVU2070
 6459 001c 09B0     		add	sp, sp, #36
ARM GAS  /tmp/cc3tDhb2.s 			page 215


 6460              	.LCFI84:
 6461              		.cfi_def_cfa_offset 4
 6462              		@ sp needed
 6463 001e 5DF804FB 		ldr	pc, [sp], #4
 6464              		.cfi_endproc
 6465              	.LFE182:
 6467              		.section	.rodata.lwip_sendmsg.str1.4,"aMS",%progbits,1
 6468              		.align	2
 6469              	.LC28:
 6470 0000 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr\000"
 6470      5F73656E 
 6470      646D7367 
 6470      3A20696E 
 6470      76616C69 
 6471 001d 000000   		.align	2
 6472              	.LC29:
 6473 0020 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr iov\000"
 6473      5F73656E 
 6473      646D7367 
 6473      3A20696E 
 6473      76616C69 
 6474 0041 000000   		.align	2
 6475              	.LC30:
 6476 0044 6C776970 		.ascii	"lwip_sendmsg: maximum iovs exceeded\000"
 6476      5F73656E 
 6476      646D7367 
 6476      3A206D61 
 6476      78696D75 
 6477              		.align	2
 6478              	.LC31:
 6479 0068 6C776970 		.ascii	"lwip_sendmsg: unsupported flags\000"
 6479      5F73656E 
 6479      646D7367 
 6479      3A20756E 
 6479      73757070 
 6480              		.align	2
 6481              	.LC32:
 6482 0088 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr name\000"
 6482      5F73656E 
 6482      646D7367 
 6482      3A20696E 
 6482      76616C69 
 6483              		.section	.text.lwip_sendmsg,"ax",%progbits
 6484              		.align	1
 6485              		.global	lwip_sendmsg
 6486              		.syntax unified
 6487              		.thumb
 6488              		.thumb_func
 6489              		.fpu fpv4-sp-d16
 6491              	lwip_sendmsg:
 6492              	.LVL675:
 6493              	.LFB186:
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6494              		.loc 1 1423 1 is_stmt 1 view -0
 6495              		.cfi_startproc
 6496              		@ args = 0, pretend = 0, frame = 24
 6497              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc3tDhb2.s 			page 216


1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6498              		.loc 1 1423 1 is_stmt 0 view .LVU2072
 6499 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 6500              	.LCFI85:
 6501              		.cfi_def_cfa_offset 24
 6502              		.cfi_offset 4, -24
 6503              		.cfi_offset 5, -20
 6504              		.cfi_offset 6, -16
 6505              		.cfi_offset 7, -12
 6506              		.cfi_offset 8, -8
 6507              		.cfi_offset 14, -4
 6508 0004 88B0     		sub	sp, sp, #32
 6509              	.LCFI86:
 6510              		.cfi_def_cfa_offset 56
 6511 0006 0C46     		mov	r4, r1
 6512 0008 1546     		mov	r5, r2
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6513              		.loc 1 1424 3 is_stmt 1 view .LVU2073
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 6514              		.loc 1 1426 3 view .LVU2074
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 6515              		.loc 1 1427 3 view .LVU2075
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6516              		.loc 1 1429 3 view .LVU2076
 6517              	.LVL676:
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6518              		.loc 1 1431 3 view .LVU2077
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6519              		.loc 1 1431 10 is_stmt 0 view .LVU2078
 6520 000a FFF7FEFF 		bl	get_socket
 6521              	.LVL677:
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6522              		.loc 1 1432 3 is_stmt 1 view .LVU2079
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6523              		.loc 1 1432 6 is_stmt 0 view .LVU2080
 6524 000e 0028     		cmp	r0, #0
 6525 0010 00F0F180 		beq	.L525
 6526 0014 8046     		mov	r8, r0
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6527              		.loc 1 1436 3 is_stmt 1 view .LVU2081
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6528              		.loc 1 1436 3 view .LVU2082
 6529 0016 4CB3     		cbz	r4, .L531
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6530              		.loc 1 1436 3 discriminator 2 view .LVU2083
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6531              		.loc 1 1436 3 discriminator 2 view .LVU2084
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6532              		.loc 1 1438 3 discriminator 2 view .LVU2085
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6533              		.loc 1 1438 3 discriminator 2 view .LVU2086
 6534 0018 A168     		ldr	r1, [r4, #8]
 6535 001a 0029     		cmp	r1, #0
 6536 001c 37D0     		beq	.L532
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6537              		.loc 1 1438 3 discriminator 2 view .LVU2087
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
ARM GAS  /tmp/cc3tDhb2.s 			page 217


 6538              		.loc 1 1438 3 discriminator 2 view .LVU2088
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6539              		.loc 1 1440 3 discriminator 2 view .LVU2089
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6540              		.loc 1 1440 3 discriminator 2 view .LVU2090
 6541 001e E268     		ldr	r2, [r4, #12]
 6542 0020 501E     		subs	r0, r2, #1
 6543              	.LVL678:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6544              		.loc 1 1440 3 is_stmt 0 discriminator 2 view .LVU2091
 6545 0022 4FF6FE73 		movw	r3, #65534
 6546 0026 9842     		cmp	r0, r3
 6547 0028 42D8     		bhi	.L533
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6548              		.loc 1 1440 3 is_stmt 1 discriminator 2 view .LVU2092
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6549              		.loc 1 1440 3 discriminator 2 view .LVU2093
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6550              		.loc 1 1442 3 discriminator 2 view .LVU2094
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6551              		.loc 1 1442 3 discriminator 2 view .LVU2095
 6552 002a 35F01807 		bics	r7, r5, #24
 6553 002e 4CD1     		bne	.L534
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6554              		.loc 1 1442 3 discriminator 2 view .LVU2096
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6555              		.loc 1 1442 3 discriminator 2 view .LVU2097
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
 6556              		.loc 1 1445 3 discriminator 2 view .LVU2098
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
 6557              		.loc 1 1446 3 discriminator 2 view .LVU2099
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6558              		.loc 1 1447 3 discriminator 2 view .LVU2100
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6559              		.loc 1 1449 3 discriminator 2 view .LVU2101
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6560              		.loc 1 1449 7 is_stmt 0 discriminator 2 view .LVU2102
 6561 0030 D8F80030 		ldr	r3, [r8]
 6562 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6563              		.loc 1 1449 6 discriminator 2 view .LVU2103
 6564 0036 03F0F003 		and	r3, r3, #240
 6565 003a 102B     		cmp	r3, #16
 6566 003c 52D0     		beq	.L535
 6567              	.LBB62:
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
 6568              		.loc 1 1470 5 is_stmt 1 view .LVU2104
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
 6569              		.loc 1 1471 5 view .LVU2105
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6570              		.loc 1 1472 5 view .LVU2106
 6571              	.LVL679:
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
 6572              		.loc 1 1474 5 view .LVU2107
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6573              		.loc 1 1475 5 view .LVU2108
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
ARM GAS  /tmp/cc3tDhb2.s 			page 218


 6574              		.loc 1 1475 5 view .LVU2109
 6575 003e 2368     		ldr	r3, [r4]
 6576 0040 002B     		cmp	r3, #0
 6577 0042 6ED0     		beq	.L536
 6578              	.L510:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6579              		.loc 1 1475 5 is_stmt 0 discriminator 3 view .LVU2110
 6580 0044 6368     		ldr	r3, [r4, #4]
 6581 0046 102B     		cmp	r3, #16
 6582 0048 6FD1     		bne	.L537
 6583              	.L511:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6584              		.loc 1 1475 5 is_stmt 1 discriminator 6 view .LVU2111
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6585              		.loc 1 1475 5 discriminator 6 view .LVU2112
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
 6586              		.loc 1 1480 5 discriminator 6 view .LVU2113
 6587 004a 0023     		movs	r3, #0
 6588 004c 0393     		str	r3, [sp, #12]
 6589 004e 0493     		str	r3, [sp, #16]
 6590 0050 0593     		str	r3, [sp, #20]
 6591 0052 0693     		str	r3, [sp, #24]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6592              		.loc 1 1481 5 discriminator 6 view .LVU2114
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6593              		.loc 1 1481 12 is_stmt 0 discriminator 6 view .LVU2115
 6594 0054 2368     		ldr	r3, [r4]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6595              		.loc 1 1481 8 discriminator 6 view .LVU2116
 6596 0056 3BB1     		cbz	r3, .L514
 6597              	.LBB63:
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
 6598              		.loc 1 1482 7 is_stmt 1 view .LVU2117
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6599              		.loc 1 1483 7 view .LVU2118
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6600              		.loc 1 1483 7 view .LVU2119
 6601 0058 5B68     		ldr	r3, [r3, #4]
 6602 005a 0593     		str	r3, [sp, #20]
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6603              		.loc 1 1483 7 view .LVU2120
 6604 005c 2368     		ldr	r3, [r4]
 6605 005e 5888     		ldrh	r0, [r3, #2]
 6606 0060 FFF7FEFF 		bl	lwip_htons
 6607              	.LVL680:
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6608              		.loc 1 1483 7 view .LVU2121
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6609              		.loc 1 1484 7 view .LVU2122
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6610              		.loc 1 1484 35 is_stmt 0 view .LVU2123
 6611 0064 ADF81800 		strh	r0, [sp, #24]	@ movhi
 6612              	.LVL681:
 6613              	.L514:
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6614              		.loc 1 1484 35 view .LVU2124
 6615              	.LBE63:
ARM GAS  /tmp/cc3tDhb2.s 			page 219


 6616              	.LBE62:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6617              		.loc 1 1460 46 discriminator 1 view .LVU2125
 6618 0068 3D46     		mov	r5, r7
 6619              	.LVL682:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6620              		.loc 1 1460 46 discriminator 1 view .LVU2126
 6621 006a 75E0     		b	.L520
 6622              	.LVL683:
 6623              	.L531:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6624              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2127
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6625              		.loc 1 1436 3 discriminator 1 view .LVU2128
 6626 006c 634B     		ldr	r3, .L541
 6627 006e 40F29C52 		movw	r2, #1436
 6628 0072 6349     		ldr	r1, .L541+4
 6629 0074 6348     		ldr	r0, .L541+8
 6630              	.LVL684:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6631              		.loc 1 1436 3 is_stmt 0 discriminator 1 view .LVU2129
 6632 0076 FFF7FEFF 		bl	printf
 6633              	.LVL685:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6634              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2130
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6635              		.loc 1 1436 3 discriminator 1 view .LVU2131
 6636              	.LBB70:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6637              		.loc 1 1436 3 discriminator 1 view .LVU2132
 6638 007a 6FF00F00 		mvn	r0, #15
 6639 007e FFF7FEFF 		bl	err_to_errno
 6640              	.LVL686:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6641              		.loc 1 1436 3 discriminator 1 view .LVU2133
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6642              		.loc 1 1436 3 discriminator 1 view .LVU2134
 6643 0082 08B1     		cbz	r0, .L501
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6644              		.loc 1 1436 3 discriminator 3 view .LVU2135
 6645 0084 604B     		ldr	r3, .L541+12
 6646 0086 1860     		str	r0, [r3]
 6647              	.L501:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6648              		.loc 1 1436 3 discriminator 5 view .LVU2136
 6649              	.LBE70:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6650              		.loc 1 1436 3 discriminator 5 view .LVU2137
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6651              		.loc 1 1436 3 discriminator 5 view .LVU2138
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6652              		.loc 1 1436 3 discriminator 5 view .LVU2139
 6653 0088 4FF0FF37 		mov	r7, #-1
 6654 008c 92E0     		b	.L498
 6655              	.LVL687:
 6656              	.L532:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
ARM GAS  /tmp/cc3tDhb2.s 			page 220


 6657              		.loc 1 1438 3 discriminator 1 view .LVU2140
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6658              		.loc 1 1438 3 discriminator 1 view .LVU2141
 6659 008e 5B4B     		ldr	r3, .L541
 6660 0090 40F29E52 		movw	r2, #1438
 6661 0094 5D49     		ldr	r1, .L541+16
 6662 0096 5B48     		ldr	r0, .L541+8
 6663              	.LVL688:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6664              		.loc 1 1438 3 is_stmt 0 discriminator 1 view .LVU2142
 6665 0098 FFF7FEFF 		bl	printf
 6666              	.LVL689:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6667              		.loc 1 1438 3 is_stmt 1 discriminator 1 view .LVU2143
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6668              		.loc 1 1438 3 discriminator 1 view .LVU2144
 6669              	.LBB71:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6670              		.loc 1 1438 3 discriminator 1 view .LVU2145
 6671 009c 6FF00F00 		mvn	r0, #15
 6672 00a0 FFF7FEFF 		bl	err_to_errno
 6673              	.LVL690:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6674              		.loc 1 1438 3 discriminator 1 view .LVU2146
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6675              		.loc 1 1438 3 discriminator 1 view .LVU2147
 6676 00a4 08B1     		cbz	r0, .L503
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6677              		.loc 1 1438 3 discriminator 3 view .LVU2148
 6678 00a6 584B     		ldr	r3, .L541+12
 6679 00a8 1860     		str	r0, [r3]
 6680              	.L503:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6681              		.loc 1 1438 3 discriminator 5 view .LVU2149
 6682              	.LBE71:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6683              		.loc 1 1438 3 discriminator 5 view .LVU2150
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6684              		.loc 1 1438 3 discriminator 5 view .LVU2151
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6685              		.loc 1 1438 3 discriminator 5 view .LVU2152
 6686 00aa 4FF0FF37 		mov	r7, #-1
 6687 00ae 81E0     		b	.L498
 6688              	.LVL691:
 6689              	.L533:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6690              		.loc 1 1440 3 discriminator 1 view .LVU2153
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6691              		.loc 1 1440 3 discriminator 1 view .LVU2154
 6692 00b0 524B     		ldr	r3, .L541
 6693 00b2 4FF4B462 		mov	r2, #1440
 6694 00b6 5649     		ldr	r1, .L541+20
 6695 00b8 5248     		ldr	r0, .L541+8
 6696 00ba FFF7FEFF 		bl	printf
 6697              	.LVL692:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6698              		.loc 1 1440 3 discriminator 1 view .LVU2155
ARM GAS  /tmp/cc3tDhb2.s 			page 221


1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6699              		.loc 1 1440 3 discriminator 1 view .LVU2156
 6700              	.LBB72:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6701              		.loc 1 1440 3 discriminator 1 view .LVU2157
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6702              		.loc 1 1440 3 discriminator 1 view .LVU2158
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6703              		.loc 1 1440 3 discriminator 1 view .LVU2159
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6704              		.loc 1 1440 3 discriminator 1 view .LVU2160
 6705 00be 524B     		ldr	r3, .L541+12
 6706 00c0 5A22     		movs	r2, #90
 6707 00c2 1A60     		str	r2, [r3]
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6708              		.loc 1 1440 3 discriminator 1 view .LVU2161
 6709              	.LBE72:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6710              		.loc 1 1440 3 discriminator 1 view .LVU2162
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6711              		.loc 1 1440 3 discriminator 1 view .LVU2163
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6712              		.loc 1 1440 3 discriminator 1 view .LVU2164
 6713 00c4 4FF0FF37 		mov	r7, #-1
 6714 00c8 74E0     		b	.L498
 6715              	.LVL693:
 6716              	.L534:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6717              		.loc 1 1442 3 discriminator 1 view .LVU2165
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6718              		.loc 1 1442 3 discriminator 1 view .LVU2166
 6719 00ca 4C4B     		ldr	r3, .L541
 6720 00cc 40F2A252 		movw	r2, #1442
 6721 00d0 5049     		ldr	r1, .L541+24
 6722 00d2 4C48     		ldr	r0, .L541+8
 6723 00d4 FFF7FEFF 		bl	printf
 6724              	.LVL694:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6725              		.loc 1 1442 3 discriminator 1 view .LVU2167
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6726              		.loc 1 1442 3 discriminator 1 view .LVU2168
 6727              	.LBB73:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6728              		.loc 1 1442 3 discriminator 1 view .LVU2169
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6729              		.loc 1 1442 3 discriminator 1 view .LVU2170
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6730              		.loc 1 1442 3 discriminator 1 view .LVU2171
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6731              		.loc 1 1442 3 discriminator 1 view .LVU2172
 6732 00d8 4B4B     		ldr	r3, .L541+12
 6733 00da 5F22     		movs	r2, #95
 6734 00dc 1A60     		str	r2, [r3]
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6735              		.loc 1 1442 3 discriminator 1 view .LVU2173
 6736              	.LBE73:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
ARM GAS  /tmp/cc3tDhb2.s 			page 222


 6737              		.loc 1 1442 3 discriminator 1 view .LVU2174
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6738              		.loc 1 1442 3 discriminator 1 view .LVU2175
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6739              		.loc 1 1442 3 discriminator 1 view .LVU2176
 6740 00de 4FF0FF37 		mov	r7, #-1
 6741 00e2 67E0     		b	.L498
 6742              	.LVL695:
 6743              	.L535:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6744              		.loc 1 1451 5 view .LVU2177
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6745              		.loc 1 1451 39 is_stmt 0 view .LVU2178
 6746 00e4 15F0100F 		tst	r5, #16
 6747 00e8 16D0     		beq	.L526
 6748 00ea 0323     		movs	r3, #3
 6749              	.L507:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6750              		.loc 1 1452 75 view .LVU2179
 6751 00ec 6D10     		asrs	r5, r5, #1
 6752              	.LVL696:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6753              		.loc 1 1452 75 view .LVU2180
 6754 00ee 05F00405 		and	r5, r5, #4
 6755              	.LVL697:
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6756              		.loc 1 1455 5 is_stmt 1 view .LVU2181
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6757              		.loc 1 1455 13 is_stmt 0 view .LVU2182
 6758 00f2 0020     		movs	r0, #0
 6759 00f4 0790     		str	r0, [sp, #28]
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6760              		.loc 1 1456 5 is_stmt 1 view .LVU2183
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6761              		.loc 1 1456 11 is_stmt 0 view .LVU2184
 6762 00f6 D8F80000 		ldr	r0, [r8]
 6763 00fa 07AC     		add	r4, sp, #28
 6764              	.LVL698:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6765              		.loc 1 1456 11 view .LVU2185
 6766 00fc 0094     		str	r4, [sp]
 6767 00fe 2B43     		orrs	r3, r3, r5
 6768              	.LVL699:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6769              		.loc 1 1456 11 view .LVU2186
 6770 0100 92B2     		uxth	r2, r2
 6771 0102 FFF7FEFF 		bl	netconn_write_vectors_partly
 6772              	.LVL700:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6773              		.loc 1 1456 11 view .LVU2187
 6774 0106 0446     		mov	r4, r0
 6775              	.LVL701:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6776              		.loc 1 1457 5 is_stmt 1 view .LVU2188
 6777              	.LBB74:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6778              		.loc 1 1457 5 view .LVU2189
ARM GAS  /tmp/cc3tDhb2.s 			page 223


 6779 0108 FFF7FEFF 		bl	err_to_errno
 6780              	.LVL702:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6781              		.loc 1 1457 5 view .LVU2190
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6782              		.loc 1 1457 5 view .LVU2191
 6783 010c 08B1     		cbz	r0, .L508
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6784              		.loc 1 1457 5 discriminator 1 view .LVU2192
 6785 010e 3E4A     		ldr	r2, .L541+12
 6786 0110 1060     		str	r0, [r2]
 6787              	.L508:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6788              		.loc 1 1457 5 discriminator 3 view .LVU2193
 6789              	.LBE74:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6790              		.loc 1 1457 5 discriminator 3 view .LVU2194
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 6791              		.loc 1 1458 22 discriminator 3 view .LVU2195
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6792              		.loc 1 1460 5 discriminator 3 view .LVU2196
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6793              		.loc 1 1460 46 is_stmt 0 discriminator 3 view .LVU2197
 6794 0112 1CB9     		cbnz	r4, .L527
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6795              		.loc 1 1460 46 discriminator 1 view .LVU2198
 6796 0114 079F     		ldr	r7, [sp, #28]
 6797 0116 4DE0     		b	.L498
 6798              	.LVL703:
 6799              	.L526:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6800              		.loc 1 1451 39 view .LVU2199
 6801 0118 0123     		movs	r3, #1
 6802 011a E7E7     		b	.L507
 6803              	.LVL704:
 6804              	.L527:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6805              		.loc 1 1460 46 view .LVU2200
 6806 011c 4FF0FF37 		mov	r7, #-1
 6807 0120 48E0     		b	.L498
 6808              	.LVL705:
 6809              	.L536:
 6810              	.LBB75:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6811              		.loc 1 1475 5 discriminator 2 view .LVU2201
 6812 0122 6368     		ldr	r3, [r4, #4]
 6813 0124 002B     		cmp	r3, #0
 6814 0126 90D0     		beq	.L511
 6815 0128 8CE7     		b	.L510
 6816              	.L537:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6817              		.loc 1 1475 5 is_stmt 1 discriminator 5 view .LVU2202
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6818              		.loc 1 1475 5 discriminator 5 view .LVU2203
 6819 012a 344B     		ldr	r3, .L541
 6820 012c 40F2C352 		movw	r2, #1475
 6821 0130 3949     		ldr	r1, .L541+28
ARM GAS  /tmp/cc3tDhb2.s 			page 224


 6822 0132 3448     		ldr	r0, .L541+8
 6823 0134 FFF7FEFF 		bl	printf
 6824              	.LVL706:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6825              		.loc 1 1475 5 discriminator 5 view .LVU2204
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6826              		.loc 1 1475 5 discriminator 5 view .LVU2205
 6827              	.LBB64:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6828              		.loc 1 1475 5 discriminator 5 view .LVU2206
 6829 0138 6FF00F00 		mvn	r0, #15
 6830 013c FFF7FEFF 		bl	err_to_errno
 6831              	.LVL707:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6832              		.loc 1 1475 5 discriminator 5 view .LVU2207
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6833              		.loc 1 1475 5 discriminator 5 view .LVU2208
 6834 0140 08B1     		cbz	r0, .L512
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6835              		.loc 1 1475 5 discriminator 7 view .LVU2209
 6836 0142 314A     		ldr	r2, .L541+12
 6837 0144 1060     		str	r0, [r2]
 6838              	.L512:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6839              		.loc 1 1475 5 discriminator 9 view .LVU2210
 6840              	.LBE64:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6841              		.loc 1 1475 5 discriminator 9 view .LVU2211
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6842              		.loc 1 1475 5 discriminator 9 view .LVU2212
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6843              		.loc 1 1475 5 discriminator 9 view .LVU2213
 6844 0146 4FF0FF37 		mov	r7, #-1
 6845 014a 33E0     		b	.L498
 6846              	.LVL708:
 6847              	.L539:
 6848              	.LBB65:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6849              		.loc 1 1535 9 view .LVU2214
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6850              		.loc 1 1535 37 is_stmt 0 view .LVU2215
 6851 014c 0491     		str	r1, [sp, #16]
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6852              		.loc 1 1535 21 view .LVU2216
 6853 014e 0391     		str	r1, [sp, #12]
 6854 0150 01E0     		b	.L518
 6855              	.L519:
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6856              		.loc 1 1543 9 is_stmt 1 view .LVU2217
 6857 0152 FFF7FEFF 		bl	pbuf_cat
 6858              	.LVL709:
 6859              	.L518:
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6860              		.loc 1 1543 9 is_stmt 0 view .LVU2218
 6861              	.LBE65:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6862              		.loc 1 1520 38 is_stmt 1 discriminator 2 view .LVU2219
ARM GAS  /tmp/cc3tDhb2.s 			page 225


1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6863              		.loc 1 1520 39 is_stmt 0 discriminator 2 view .LVU2220
 6864 0156 0135     		adds	r5, r5, #1
 6865              	.LVL710:
 6866              	.L520:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6867              		.loc 1 1520 17 is_stmt 1 discriminator 1 view .LVU2221
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6868              		.loc 1 1520 24 is_stmt 0 discriminator 1 view .LVU2222
 6869 0158 E368     		ldr	r3, [r4, #12]
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6870              		.loc 1 1520 5 discriminator 1 view .LVU2223
 6871 015a AB42     		cmp	r3, r5
 6872 015c 2EDD     		ble	.L538
 6873              	.LBB66:
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
 6874              		.loc 1 1521 7 is_stmt 1 view .LVU2224
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6875              		.loc 1 1522 7 view .LVU2225
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6876              		.loc 1 1522 14 is_stmt 0 view .LVU2226
 6877 015e A368     		ldr	r3, [r4, #8]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6878              		.loc 1 1522 23 view .LVU2227
 6879 0160 EE00     		lsls	r6, r5, #3
 6880 0162 03EBC503 		add	r3, r3, r5, lsl #3
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6881              		.loc 1 1522 26 view .LVU2228
 6882 0166 5B68     		ldr	r3, [r3, #4]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6883              		.loc 1 1522 10 view .LVU2229
 6884 0168 B3F5803F 		cmp	r3, #65536
 6885 016c 1AD2     		bcs	.L515
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6886              		.loc 1 1526 7 is_stmt 1 view .LVU2230
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6887              		.loc 1 1526 11 is_stmt 0 view .LVU2231
 6888 016e 4122     		movs	r2, #65
 6889 0170 0021     		movs	r1, #0
 6890 0172 3620     		movs	r0, #54
 6891 0174 FFF7FEFF 		bl	pbuf_alloc
 6892              	.LVL711:
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6893              		.loc 1 1527 7 is_stmt 1 view .LVU2232
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6894              		.loc 1 1527 10 is_stmt 0 view .LVU2233
 6895 0178 0146     		mov	r1, r0
 6896 017a 0028     		cmp	r0, #0
 6897 017c 31D0     		beq	.L528
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6898              		.loc 1 1531 7 is_stmt 1 view .LVU2234
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6899              		.loc 1 1531 23 is_stmt 0 view .LVU2235
 6900 017e A368     		ldr	r3, [r4, #8]
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6901              		.loc 1 1531 35 view .LVU2236
 6902 0180 9B59     		ldr	r3, [r3, r6]
ARM GAS  /tmp/cc3tDhb2.s 			page 226


1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6903              		.loc 1 1531 18 view .LVU2237
 6904 0182 4360     		str	r3, [r0, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6905              		.loc 1 1532 7 is_stmt 1 view .LVU2238
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6906              		.loc 1 1532 39 is_stmt 0 view .LVU2239
 6907 0184 A368     		ldr	r3, [r4, #8]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6908              		.loc 1 1532 48 view .LVU2240
 6909 0186 1E44     		add	r6, r6, r3
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6910              		.loc 1 1532 29 view .LVU2241
 6911 0188 B388     		ldrh	r3, [r6, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6912              		.loc 1 1532 27 view .LVU2242
 6913 018a 0381     		strh	r3, [r0, #8]	@ movhi
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6914              		.loc 1 1532 14 view .LVU2243
 6915 018c 4381     		strh	r3, [r0, #10]	@ movhi
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6916              		.loc 1 1534 7 is_stmt 1 view .LVU2244
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6917              		.loc 1 1534 20 is_stmt 0 view .LVU2245
 6918 018e 0398     		ldr	r0, [sp, #12]
 6919              	.LVL712:
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6920              		.loc 1 1534 10 view .LVU2246
 6921 0190 0028     		cmp	r0, #0
 6922 0192 DBD0     		beq	.L539
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6923              		.loc 1 1538 9 is_stmt 1 view .LVU2247
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6924              		.loc 1 1538 24 is_stmt 0 view .LVU2248
 6925 0194 0289     		ldrh	r2, [r0, #8]
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6926              		.loc 1 1538 34 view .LVU2249
 6927 0196 1344     		add	r3, r3, r2
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6928              		.loc 1 1538 12 view .LVU2250
 6929 0198 B3F5803F 		cmp	r3, #65536
 6930 019c D9DB     		blt	.L519
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
 6931              		.loc 1 1540 11 is_stmt 1 view .LVU2251
 6932 019e 0846     		mov	r0, r1
 6933 01a0 FFF7FEFF 		bl	pbuf_free
 6934              	.LVL713:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 6935              		.loc 1 1541 11 view .LVU2252
 6936              	.L515:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 6937              		.loc 1 1541 11 is_stmt 0 view .LVU2253
 6938              	.LBE66:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6939              		.loc 1 1572 5 is_stmt 1 view .LVU2254
 6940              	.LBB67:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
ARM GAS  /tmp/cc3tDhb2.s 			page 227


 6941              		.loc 1 1572 5 view .LVU2255
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6942              		.loc 1 1572 5 view .LVU2256
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6943              		.loc 1 1572 5 view .LVU2257
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6944              		.loc 1 1572 5 view .LVU2258
 6945 01a4 184B     		ldr	r3, .L541+12
 6946 01a6 5A22     		movs	r2, #90
 6947 01a8 1A60     		str	r2, [r3]
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6948              		.loc 1 1572 5 view .LVU2259
 6949              	.LBE67:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6950              		.loc 1 1572 5 view .LVU2260
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6951              		.loc 1 1573 5 view .LVU2261
 6952 01aa 03A8     		add	r0, sp, #12
 6953 01ac FFF7FEFF 		bl	netbuf_free
 6954              	.LVL714:
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6955              		.loc 1 1574 22 view .LVU2262
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6956              		.loc 1 1575 5 view .LVU2263
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6957              		.loc 1 1575 12 is_stmt 0 view .LVU2264
 6958 01b0 4FF0FF37 		mov	r7, #-1
 6959              	.LVL715:
 6960              	.L498:
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6961              		.loc 1 1575 12 view .LVU2265
 6962              	.LBE75:
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6963              		.loc 1 1582 1 view .LVU2266
 6964 01b4 3846     		mov	r0, r7
 6965 01b6 08B0     		add	sp, sp, #32
 6966              	.LCFI87:
 6967              		.cfi_remember_state
 6968              		.cfi_def_cfa_offset 24
 6969              		@ sp needed
 6970 01b8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6971              	.LVL716:
 6972              	.L538:
 6973              	.LCFI88:
 6974              		.cfi_restore_state
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6975              		.loc 1 1429 9 view .LVU2267
 6976 01bc 0024     		movs	r4, #0
 6977              	.LVL717:
 6978              	.L516:
 6979              	.LBB76:
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 6980              		.loc 1 1547 5 is_stmt 1 view .LVU2268
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 6981              		.loc 1 1547 8 is_stmt 0 view .LVU2269
 6982 01be 0CB9     		cbnz	r4, .L522
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  /tmp/cc3tDhb2.s 			page 228


 6983              		.loc 1 1548 7 is_stmt 1 view .LVU2270
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6984              		.loc 1 1548 14 is_stmt 0 view .LVU2271
 6985 01c0 039B     		ldr	r3, [sp, #12]
 6986 01c2 1F89     		ldrh	r7, [r3, #8]
 6987              	.LVL718:
 6988              	.L522:
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 6989              		.loc 1 1552 5 is_stmt 1 view .LVU2272
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 6990              		.loc 1 1552 8 is_stmt 0 view .LVU2273
 6991 01c4 84B1     		cbz	r4, .L540
 6992              	.L523:
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6993              		.loc 1 1566 5 is_stmt 1 view .LVU2274
 6994 01c6 03A8     		add	r0, sp, #12
 6995 01c8 FFF7FEFF 		bl	netbuf_free
 6996              	.LVL719:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6997              		.loc 1 1568 5 view .LVU2275
 6998              	.LBB68:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6999              		.loc 1 1568 5 view .LVU2276
 7000 01cc 2046     		mov	r0, r4
 7001 01ce FFF7FEFF 		bl	err_to_errno
 7002              	.LVL720:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7003              		.loc 1 1568 5 view .LVU2277
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7004              		.loc 1 1568 5 view .LVU2278
 7005 01d2 08B1     		cbz	r0, .L524
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7006              		.loc 1 1568 5 discriminator 1 view .LVU2279
 7007 01d4 0C4A     		ldr	r2, .L541+12
 7008 01d6 1060     		str	r0, [r2]
 7009              	.L524:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7010              		.loc 1 1568 5 discriminator 3 view .LVU2280
 7011              	.LBE68:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7012              		.loc 1 1568 5 discriminator 3 view .LVU2281
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 7013              		.loc 1 1569 22 discriminator 3 view .LVU2282
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7014              		.loc 1 1570 5 discriminator 3 view .LVU2283
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7015              		.loc 1 1570 34 is_stmt 0 discriminator 3 view .LVU2284
 7016 01d8 002C     		cmp	r4, #0
 7017 01da EBD0     		beq	.L498
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7018              		.loc 1 1570 34 view .LVU2285
 7019 01dc 4FF0FF37 		mov	r7, #-1
 7020              	.LVL721:
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7021              		.loc 1 1570 34 view .LVU2286
 7022 01e0 E8E7     		b	.L498
 7023              	.LVL722:
ARM GAS  /tmp/cc3tDhb2.s 			page 229


 7024              	.L528:
 7025              	.LBB69:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7026              		.loc 1 1528 13 view .LVU2287
 7027 01e2 4FF0FF34 		mov	r4, #-1
 7028              	.LVL723:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7029              		.loc 1 1528 13 view .LVU2288
 7030 01e6 EAE7     		b	.L516
 7031              	.LVL724:
 7032              	.L540:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7033              		.loc 1 1528 13 view .LVU2289
 7034              	.LBE69:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7035              		.loc 1 1562 7 is_stmt 1 view .LVU2290
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7036              		.loc 1 1562 13 is_stmt 0 view .LVU2291
 7037 01e8 03A9     		add	r1, sp, #12
 7038 01ea D8F80000 		ldr	r0, [r8]
 7039 01ee FFF7FEFF 		bl	netconn_send
 7040              	.LVL725:
 7041 01f2 0446     		mov	r4, r0
 7042              	.LVL726:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7043              		.loc 1 1562 13 view .LVU2292
 7044 01f4 E7E7     		b	.L523
 7045              	.LVL727:
 7046              	.L525:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7047              		.loc 1 1562 13 view .LVU2293
 7048              	.LBE76:
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7049              		.loc 1 1433 12 view .LVU2294
 7050 01f6 4FF0FF37 		mov	r7, #-1
 7051 01fa DBE7     		b	.L498
 7052              	.L542:
 7053              		.align	2
 7054              	.L541:
 7055 01fc 00000000 		.word	.LC0
 7056 0200 00000000 		.word	.LC28
 7057 0204 48000000 		.word	.LC2
 7058 0208 00000000 		.word	errno
 7059 020c 20000000 		.word	.LC29
 7060 0210 44000000 		.word	.LC30
 7061 0214 68000000 		.word	.LC31
 7062 0218 88000000 		.word	.LC32
 7063              		.cfi_endproc
 7064              	.LFE186:
 7066              		.section	.rodata.lwip_sendto.str1.4,"aMS",%progbits,1
 7067              		.align	2
 7068              	.LC33:
 7069 0000 6C776970 		.ascii	"lwip_sendto: invalid address\000"
 7069      5F73656E 
 7069      64746F3A 
 7069      20696E76 
 7069      616C6964 
ARM GAS  /tmp/cc3tDhb2.s 			page 230


 7070              		.section	.text.lwip_sendto,"ax",%progbits
 7071              		.align	1
 7072              		.global	lwip_sendto
 7073              		.syntax unified
 7074              		.thumb
 7075              		.thumb_func
 7076              		.fpu fpv4-sp-d16
 7078              	lwip_sendto:
 7079              	.LVL728:
 7080              	.LFB187:
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7081              		.loc 1 1587 1 is_stmt 1 view -0
 7082              		.cfi_startproc
 7083              		@ args = 8, pretend = 0, frame = 16
 7084              		@ frame_needed = 0, uses_anonymous_args = 0
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7085              		.loc 1 1587 1 is_stmt 0 view .LVU2296
 7086 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7087              	.LCFI89:
 7088              		.cfi_def_cfa_offset 32
 7089              		.cfi_offset 4, -32
 7090              		.cfi_offset 5, -28
 7091              		.cfi_offset 6, -24
 7092              		.cfi_offset 7, -20
 7093              		.cfi_offset 8, -16
 7094              		.cfi_offset 9, -12
 7095              		.cfi_offset 10, -8
 7096              		.cfi_offset 14, -4
 7097 0004 84B0     		sub	sp, sp, #16
 7098              	.LCFI90:
 7099              		.cfi_def_cfa_offset 48
 7100 0006 8046     		mov	r8, r0
 7101 0008 0F46     		mov	r7, r1
 7102 000a 1446     		mov	r4, r2
 7103 000c 9946     		mov	r9, r3
 7104 000e 0C9D     		ldr	r5, [sp, #48]
 7105 0010 0D9E     		ldr	r6, [sp, #52]
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7106              		.loc 1 1588 3 is_stmt 1 view .LVU2297
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
 7107              		.loc 1 1589 3 view .LVU2298
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
 7108              		.loc 1 1590 3 view .LVU2299
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
 7109              		.loc 1 1591 3 view .LVU2300
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7110              		.loc 1 1592 3 view .LVU2301
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7111              		.loc 1 1594 3 view .LVU2302
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7112              		.loc 1 1594 10 is_stmt 0 view .LVU2303
 7113 0012 FFF7FEFF 		bl	get_socket
 7114              	.LVL729:
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7115              		.loc 1 1595 3 is_stmt 1 view .LVU2304
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7116              		.loc 1 1595 6 is_stmt 0 view .LVU2305
ARM GAS  /tmp/cc3tDhb2.s 			page 231


 7117 0016 0028     		cmp	r0, #0
 7118 0018 63D0     		beq	.L555
 7119 001a 8246     		mov	r10, r0
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7120              		.loc 1 1599 3 is_stmt 1 view .LVU2306
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7121              		.loc 1 1599 7 is_stmt 0 view .LVU2307
 7122 001c 0368     		ldr	r3, [r0]
 7123 001e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7124              		.loc 1 1599 6 view .LVU2308
 7125 0020 02F0F002 		and	r2, r2, #240
 7126 0024 102A     		cmp	r2, #16
 7127 0026 31D0     		beq	.L558
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7128              		.loc 1 1611 3 is_stmt 1 view .LVU2309
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7129              		.loc 1 1611 6 is_stmt 0 view .LVU2310
 7130 0028 B4F5803F 		cmp	r4, #65536
 7131 002c 35D2     		bcs	.L559
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7132              		.loc 1 1617 3 is_stmt 1 view .LVU2311
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7133              		.loc 1 1617 14 is_stmt 0 view .LVU2312
 7134 002e 1FFA84F8 		uxth	r8, r4
 7135              	.LVL730:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7136              		.loc 1 1618 3 is_stmt 1 view .LVU2313
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7137              		.loc 1 1618 3 view .LVU2314
 7138 0032 002D     		cmp	r5, #0
 7139 0034 37D0     		beq	.L560
 7140              	.L547:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7141              		.loc 1 1618 3 is_stmt 0 discriminator 3 view .LVU2315
 7142 0036 102E     		cmp	r6, #16
 7143 0038 38D1     		bne	.L549
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7144              		.loc 1 1618 3 discriminator 6 view .LVU2316
 7145 003a 002D     		cmp	r5, #0
 7146 003c 36D0     		beq	.L549
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7147              		.loc 1 1618 3 discriminator 8 view .LVU2317
 7148 003e 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 7149 0040 022B     		cmp	r3, #2
 7150 0042 33D1     		bne	.L549
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7151              		.loc 1 1618 3 discriminator 10 view .LVU2318
 7152 0044 15F0030F 		tst	r5, #3
 7153 0048 30D1     		bne	.L549
 7154              	.L548:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7155              		.loc 1 1618 3 is_stmt 1 discriminator 12 view .LVU2319
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7156              		.loc 1 1618 3 discriminator 12 view .LVU2320
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7157              		.loc 1 1622 3 discriminator 12 view .LVU2321
ARM GAS  /tmp/cc3tDhb2.s 			page 232


1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7158              		.loc 1 1625 3 discriminator 12 view .LVU2322
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7159              		.loc 1 1625 19 is_stmt 0 discriminator 12 view .LVU2323
 7160 004a 0023     		movs	r3, #0
 7161 004c 0193     		str	r3, [sp, #4]
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7162              		.loc 1 1625 9 discriminator 12 view .LVU2324
 7163 004e 0093     		str	r3, [sp]
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7164              		.loc 1 1629 3 is_stmt 1 discriminator 12 view .LVU2325
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7165              		.loc 1 1629 6 is_stmt 0 discriminator 12 view .LVU2326
 7166 0050 002D     		cmp	r5, #0
 7167 0052 3CD0     		beq	.L551
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7168              		.loc 1 1630 5 is_stmt 1 view .LVU2327
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7169              		.loc 1 1630 5 view .LVU2328
 7170 0054 6B68     		ldr	r3, [r5, #4]
 7171 0056 0293     		str	r3, [sp, #8]
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7172              		.loc 1 1630 5 view .LVU2329
 7173 0058 6888     		ldrh	r0, [r5, #2]
 7174              	.LVL731:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7175              		.loc 1 1630 5 is_stmt 0 view .LVU2330
 7176 005a FFF7FEFF 		bl	lwip_htons
 7177              	.LVL732:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7178              		.loc 1 1630 5 is_stmt 1 view .LVU2331
 7179              	.L552:
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7180              		.loc 1 1635 3 view .LVU2332
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7181              		.loc 1 1635 25 is_stmt 0 view .LVU2333
 7182 005e ADF80C00 		strh	r0, [sp, #12]	@ movhi
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
 7183              		.loc 1 1639 59 is_stmt 1 view .LVU2334
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
 7184              		.loc 1 1640 51 view .LVU2335
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7185              		.loc 1 1641 64 view .LVU2336
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7186              		.loc 1 1661 3 view .LVU2337
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7187              		.loc 1 1661 9 is_stmt 0 view .LVU2338
 7188 0062 4246     		mov	r2, r8
 7189 0064 3946     		mov	r1, r7
 7190 0066 6846     		mov	r0, sp
 7191              	.LVL733:
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7192              		.loc 1 1661 9 view .LVU2339
 7193 0068 FFF7FEFF 		bl	netbuf_ref
 7194              	.LVL734:
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7195              		.loc 1 1663 3 is_stmt 1 view .LVU2340
ARM GAS  /tmp/cc3tDhb2.s 			page 233


1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7196              		.loc 1 1663 6 is_stmt 0 view .LVU2341
 7197 006c 0546     		mov	r5, r0
 7198 006e 88B3     		cbz	r0, .L561
 7199              	.LVL735:
 7200              	.L553:
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7201              		.loc 1 1677 3 is_stmt 1 view .LVU2342
 7202 0070 6846     		mov	r0, sp
 7203 0072 FFF7FEFF 		bl	netbuf_free
 7204              	.LVL736:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7205              		.loc 1 1679 3 view .LVU2343
 7206              	.LBB77:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7207              		.loc 1 1679 3 view .LVU2344
 7208 0076 2846     		mov	r0, r5
 7209 0078 FFF7FEFF 		bl	err_to_errno
 7210              	.LVL737:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7211              		.loc 1 1679 3 view .LVU2345
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7212              		.loc 1 1679 3 view .LVU2346
 7213 007c 08B1     		cbz	r0, .L554
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7214              		.loc 1 1679 3 discriminator 1 view .LVU2347
 7215 007e 1C4A     		ldr	r2, .L562
 7216 0080 1060     		str	r0, [r2]
 7217              	.L554:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7218              		.loc 1 1679 3 discriminator 3 view .LVU2348
 7219              	.LBE77:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7220              		.loc 1 1679 3 discriminator 3 view .LVU2349
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 7221              		.loc 1 1680 20 discriminator 3 view .LVU2350
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7222              		.loc 1 1681 3 discriminator 3 view .LVU2351
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7223              		.loc 1 1681 38 is_stmt 0 discriminator 3 view .LVU2352
 7224 0082 8DBB     		cbnz	r5, .L556
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7225              		.loc 1 1681 38 discriminator 1 view .LVU2353
 7226 0084 A0B2     		uxth	r0, r4
 7227              	.LVL738:
 7228              	.L543:
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7229              		.loc 1 1682 1 view .LVU2354
 7230 0086 04B0     		add	sp, sp, #16
 7231              	.LCFI91:
 7232              		.cfi_remember_state
 7233              		.cfi_def_cfa_offset 32
 7234              		@ sp needed
 7235 0088 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 7236              	.LVL739:
 7237              	.L558:
 7238              	.LCFI92:
ARM GAS  /tmp/cc3tDhb2.s 			page 234


 7239              		.cfi_restore_state
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
 7240              		.loc 1 1601 22 is_stmt 1 view .LVU2355
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7241              		.loc 1 1602 5 view .LVU2356
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7242              		.loc 1 1602 12 is_stmt 0 view .LVU2357
 7243 008c 4B46     		mov	r3, r9
 7244 008e 2246     		mov	r2, r4
 7245 0090 3946     		mov	r1, r7
 7246 0092 4046     		mov	r0, r8
 7247              	.LVL740:
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7248              		.loc 1 1602 12 view .LVU2358
 7249 0094 FFF7FEFF 		bl	lwip_send
 7250              	.LVL741:
 7251 0098 F5E7     		b	.L543
 7252              	.LVL742:
 7253              	.L559:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7254              		.loc 1 1613 5 is_stmt 1 view .LVU2359
 7255              	.LBB78:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7256              		.loc 1 1613 5 view .LVU2360
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7257              		.loc 1 1613 5 view .LVU2361
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7258              		.loc 1 1613 5 view .LVU2362
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7259              		.loc 1 1613 5 view .LVU2363
 7260 009a 154B     		ldr	r3, .L562
 7261 009c 5A22     		movs	r2, #90
 7262 009e 1A60     		str	r2, [r3]
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7263              		.loc 1 1613 5 view .LVU2364
 7264              	.LBE78:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7265              		.loc 1 1613 5 view .LVU2365
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7266              		.loc 1 1614 22 view .LVU2366
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7267              		.loc 1 1615 5 view .LVU2367
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7268              		.loc 1 1615 12 is_stmt 0 view .LVU2368
 7269 00a0 4FF0FF30 		mov	r0, #-1
 7270              	.LVL743:
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7271              		.loc 1 1615 12 view .LVU2369
 7272 00a4 EFE7     		b	.L543
 7273              	.LVL744:
 7274              	.L560:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7275              		.loc 1 1618 3 discriminator 2 view .LVU2370
 7276 00a6 002E     		cmp	r6, #0
 7277 00a8 CFD0     		beq	.L548
 7278 00aa C4E7     		b	.L547
 7279              	.L549:
ARM GAS  /tmp/cc3tDhb2.s 			page 235


1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7280              		.loc 1 1618 3 is_stmt 1 discriminator 11 view .LVU2371
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7281              		.loc 1 1618 3 discriminator 11 view .LVU2372
 7282 00ac 114B     		ldr	r3, .L562+4
 7283 00ae 40F25262 		movw	r2, #1618
 7284 00b2 1149     		ldr	r1, .L562+8
 7285 00b4 1148     		ldr	r0, .L562+12
 7286              	.LVL745:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7287              		.loc 1 1618 3 is_stmt 0 discriminator 11 view .LVU2373
 7288 00b6 FFF7FEFF 		bl	printf
 7289              	.LVL746:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7290              		.loc 1 1618 3 is_stmt 1 discriminator 11 view .LVU2374
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7291              		.loc 1 1618 3 discriminator 11 view .LVU2375
 7292              	.LBB79:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7293              		.loc 1 1618 3 discriminator 11 view .LVU2376
 7294 00ba 6FF00F00 		mvn	r0, #15
 7295 00be FFF7FEFF 		bl	err_to_errno
 7296              	.LVL747:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7297              		.loc 1 1618 3 discriminator 11 view .LVU2377
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7298              		.loc 1 1618 3 discriminator 11 view .LVU2378
 7299 00c2 08B1     		cbz	r0, .L550
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7300              		.loc 1 1618 3 discriminator 13 view .LVU2379
 7301 00c4 0A4A     		ldr	r2, .L562
 7302 00c6 1060     		str	r0, [r2]
 7303              	.L550:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7304              		.loc 1 1618 3 discriminator 15 view .LVU2380
 7305              	.LBE79:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7306              		.loc 1 1618 3 discriminator 15 view .LVU2381
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7307              		.loc 1 1618 3 discriminator 15 view .LVU2382
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7308              		.loc 1 1618 3 discriminator 15 view .LVU2383
 7309 00c8 4FF0FF30 		mov	r0, #-1
 7310              	.LVL748:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7311              		.loc 1 1618 3 is_stmt 0 discriminator 15 view .LVU2384
 7312 00cc DBE7     		b	.L543
 7313              	.LVL749:
 7314              	.L551:
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
 7315              		.loc 1 1632 5 is_stmt 1 view .LVU2385
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7316              		.loc 1 1633 5 view .LVU2386
 7317 00ce 0020     		movs	r0, #0
 7318              	.LVL750:
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7319              		.loc 1 1633 5 is_stmt 0 view .LVU2387
ARM GAS  /tmp/cc3tDhb2.s 			page 236


 7320 00d0 0290     		str	r0, [sp, #8]
 7321 00d2 C4E7     		b	.L552
 7322              	.LVL751:
 7323              	.L561:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7324              		.loc 1 1673 5 is_stmt 1 view .LVU2388
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7325              		.loc 1 1673 11 is_stmt 0 view .LVU2389
 7326 00d4 6946     		mov	r1, sp
 7327 00d6 DAF80000 		ldr	r0, [r10]
 7328              	.LVL752:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7329              		.loc 1 1673 11 view .LVU2390
 7330 00da FFF7FEFF 		bl	netconn_send
 7331              	.LVL753:
 7332 00de 0546     		mov	r5, r0
 7333              	.LVL754:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7334              		.loc 1 1673 11 view .LVU2391
 7335 00e0 C6E7     		b	.L553
 7336              	.LVL755:
 7337              	.L555:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7338              		.loc 1 1596 12 view .LVU2392
 7339 00e2 4FF0FF30 		mov	r0, #-1
 7340              	.LVL756:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7341              		.loc 1 1596 12 view .LVU2393
 7342 00e6 CEE7     		b	.L543
 7343              	.LVL757:
 7344              	.L556:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7345              		.loc 1 1681 38 view .LVU2394
 7346 00e8 4FF0FF30 		mov	r0, #-1
 7347              	.LVL758:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7348              		.loc 1 1681 38 view .LVU2395
 7349 00ec CBE7     		b	.L543
 7350              	.L563:
 7351 00ee 00BF     		.align	2
 7352              	.L562:
 7353 00f0 00000000 		.word	errno
 7354 00f4 00000000 		.word	.LC0
 7355 00f8 00000000 		.word	.LC33
 7356 00fc 48000000 		.word	.LC2
 7357              		.cfi_endproc
 7358              	.LFE187:
 7360              		.section	.text.lwip_send,"ax",%progbits
 7361              		.align	1
 7362              		.global	lwip_send
 7363              		.syntax unified
 7364              		.thumb
 7365              		.thumb_func
 7366              		.fpu fpv4-sp-d16
 7368              	lwip_send:
 7369              	.LVL759:
 7370              	.LFB185:
ARM GAS  /tmp/cc3tDhb2.s 			page 237


1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7371              		.loc 1 1383 1 is_stmt 1 view -0
 7372              		.cfi_startproc
 7373              		@ args = 0, pretend = 0, frame = 8
 7374              		@ frame_needed = 0, uses_anonymous_args = 0
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7375              		.loc 1 1383 1 is_stmt 0 view .LVU2397
 7376 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7377              	.LCFI93:
 7378              		.cfi_def_cfa_offset 20
 7379              		.cfi_offset 4, -20
 7380              		.cfi_offset 5, -16
 7381              		.cfi_offset 6, -12
 7382              		.cfi_offset 7, -8
 7383              		.cfi_offset 14, -4
 7384 0002 85B0     		sub	sp, sp, #20
 7385              	.LCFI94:
 7386              		.cfi_def_cfa_offset 40
 7387 0004 0746     		mov	r7, r0
 7388 0006 0D46     		mov	r5, r1
 7389 0008 1646     		mov	r6, r2
 7390 000a 1C46     		mov	r4, r3
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7391              		.loc 1 1384 3 is_stmt 1 view .LVU2398
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
 7392              		.loc 1 1385 3 view .LVU2399
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 7393              		.loc 1 1386 3 view .LVU2400
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7394              		.loc 1 1387 3 view .LVU2401
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7395              		.loc 1 1390 53 view .LVU2402
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7396              		.loc 1 1392 3 view .LVU2403
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7397              		.loc 1 1392 10 is_stmt 0 view .LVU2404
 7398 000c FFF7FEFF 		bl	get_socket
 7399              	.LVL760:
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7400              		.loc 1 1393 3 is_stmt 1 view .LVU2405
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7401              		.loc 1 1393 6 is_stmt 0 view .LVU2406
 7402 0010 68B3     		cbz	r0, .L569
 7403 0012 0246     		mov	r2, r0
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7404              		.loc 1 1397 3 is_stmt 1 view .LVU2407
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7405              		.loc 1 1397 7 is_stmt 0 view .LVU2408
 7406 0014 0368     		ldr	r3, [r0]
 7407 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7408              		.loc 1 1397 6 view .LVU2409
 7409 0018 03F0F003 		and	r3, r3, #240
 7410 001c 102B     		cmp	r3, #16
 7411 001e 1AD1     		bne	.L573
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7412              		.loc 1 1408 3 is_stmt 1 view .LVU2410
ARM GAS  /tmp/cc3tDhb2.s 			page 238


1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7413              		.loc 1 1408 37 is_stmt 0 view .LVU2411
 7414 0020 14F0100F 		tst	r4, #16
 7415 0024 21D0     		beq	.L570
 7416 0026 0323     		movs	r3, #3
 7417              	.L567:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7418              		.loc 1 1409 73 view .LVU2412
 7419 0028 6410     		asrs	r4, r4, #1
 7420              	.LVL761:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7421              		.loc 1 1409 73 view .LVU2413
 7422 002a 04F00404 		and	r4, r4, #4
 7423              	.LVL762:
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7424              		.loc 1 1411 3 is_stmt 1 view .LVU2414
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7425              		.loc 1 1411 11 is_stmt 0 view .LVU2415
 7426 002e 0021     		movs	r1, #0
 7427 0030 0391     		str	r1, [sp, #12]
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7428              		.loc 1 1412 3 is_stmt 1 view .LVU2416
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7429              		.loc 1 1412 9 is_stmt 0 view .LVU2417
 7430 0032 1068     		ldr	r0, [r2]
 7431              	.LVL763:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7432              		.loc 1 1412 9 view .LVU2418
 7433 0034 03AA     		add	r2, sp, #12
 7434              	.LVL764:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7435              		.loc 1 1412 9 view .LVU2419
 7436 0036 0092     		str	r2, [sp]
 7437 0038 2343     		orrs	r3, r3, r4
 7438              	.LVL765:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7439              		.loc 1 1412 9 view .LVU2420
 7440 003a 3246     		mov	r2, r6
 7441 003c 2946     		mov	r1, r5
 7442 003e FFF7FEFF 		bl	netconn_write_partly
 7443              	.LVL766:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7444              		.loc 1 1412 9 view .LVU2421
 7445 0042 0446     		mov	r4, r0
 7446              	.LVL767:
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
 7447              		.loc 1 1414 91 is_stmt 1 view .LVU2422
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7448              		.loc 1 1415 3 view .LVU2423
 7449              	.LBB80:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7450              		.loc 1 1415 3 view .LVU2424
 7451 0044 FFF7FEFF 		bl	err_to_errno
 7452              	.LVL768:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7453              		.loc 1 1415 3 view .LVU2425
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  /tmp/cc3tDhb2.s 			page 239


 7454              		.loc 1 1415 3 view .LVU2426
 7455 0048 08B1     		cbz	r0, .L568
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7456              		.loc 1 1415 3 discriminator 1 view .LVU2427
 7457 004a 0C4A     		ldr	r2, .L574
 7458 004c 1060     		str	r0, [r2]
 7459              	.L568:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7460              		.loc 1 1415 3 discriminator 3 view .LVU2428
 7461              	.LBE80:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7462              		.loc 1 1415 3 discriminator 3 view .LVU2429
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 7463              		.loc 1 1416 20 discriminator 3 view .LVU2430
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7464              		.loc 1 1418 3 discriminator 3 view .LVU2431
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7465              		.loc 1 1418 44 is_stmt 0 discriminator 3 view .LVU2432
 7466 004e 8CB9     		cbnz	r4, .L571
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7467              		.loc 1 1418 44 discriminator 1 view .LVU2433
 7468 0050 0398     		ldr	r0, [sp, #12]
 7469              	.LVL769:
 7470              	.L564:
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7471              		.loc 1 1419 1 view .LVU2434
 7472 0052 05B0     		add	sp, sp, #20
 7473              	.LCFI95:
 7474              		.cfi_remember_state
 7475              		.cfi_def_cfa_offset 20
 7476              		@ sp needed
 7477 0054 F0BD     		pop	{r4, r5, r6, r7, pc}
 7478              	.LVL770:
 7479              	.L573:
 7480              	.LCFI96:
 7481              		.cfi_restore_state
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
 7482              		.loc 1 1399 22 is_stmt 1 view .LVU2435
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7483              		.loc 1 1400 5 view .LVU2436
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7484              		.loc 1 1400 12 is_stmt 0 view .LVU2437
 7485 0056 0023     		movs	r3, #0
 7486 0058 0193     		str	r3, [sp, #4]
 7487 005a 0093     		str	r3, [sp]
 7488 005c 2346     		mov	r3, r4
 7489 005e 3246     		mov	r2, r6
 7490 0060 2946     		mov	r1, r5
 7491 0062 3846     		mov	r0, r7
 7492              	.LVL771:
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7493              		.loc 1 1400 12 view .LVU2438
 7494 0064 FFF7FEFF 		bl	lwip_sendto
 7495              	.LVL772:
 7496 0068 F3E7     		b	.L564
 7497              	.LVL773:
 7498              	.L570:
ARM GAS  /tmp/cc3tDhb2.s 			page 240


1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7499              		.loc 1 1408 37 view .LVU2439
 7500 006a 0123     		movs	r3, #1
 7501 006c DCE7     		b	.L567
 7502              	.L569:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7503              		.loc 1 1394 12 view .LVU2440
 7504 006e 4FF0FF30 		mov	r0, #-1
 7505              	.LVL774:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7506              		.loc 1 1394 12 view .LVU2441
 7507 0072 EEE7     		b	.L564
 7508              	.LVL775:
 7509              	.L571:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7510              		.loc 1 1418 44 view .LVU2442
 7511 0074 4FF0FF30 		mov	r0, #-1
 7512              	.LVL776:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7513              		.loc 1 1418 44 view .LVU2443
 7514 0078 EBE7     		b	.L564
 7515              	.L575:
 7516 007a 00BF     		.align	2
 7517              	.L574:
 7518 007c 00000000 		.word	errno
 7519              		.cfi_endproc
 7520              	.LFE185:
 7522              		.section	.text.lwip_socket,"ax",%progbits
 7523              		.align	1
 7524              		.global	lwip_socket
 7525              		.syntax unified
 7526              		.thumb
 7527              		.thumb_func
 7528              		.fpu fpv4-sp-d16
 7530              	lwip_socket:
 7531              	.LVL777:
 7532              	.LFB188:
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 7533              		.loc 1 1686 1 is_stmt 1 view -0
 7534              		.cfi_startproc
 7535              		@ args = 0, pretend = 0, frame = 0
 7536              		@ frame_needed = 0, uses_anonymous_args = 0
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 7537              		.loc 1 1686 1 is_stmt 0 view .LVU2445
 7538 0000 38B5     		push	{r3, r4, r5, lr}
 7539              	.LCFI97:
 7540              		.cfi_def_cfa_offset 16
 7541              		.cfi_offset 3, -16
 7542              		.cfi_offset 4, -12
 7543              		.cfi_offset 5, -8
 7544              		.cfi_offset 14, -4
 7545 0002 1346     		mov	r3, r2
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7546              		.loc 1 1687 3 is_stmt 1 view .LVU2446
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7547              		.loc 1 1688 3 view .LVU2447
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 241


 7548              		.loc 1 1690 3 view .LVU2448
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
 7549              		.loc 1 1693 3 view .LVU2449
 7550 0004 0229     		cmp	r1, #2
 7551 0006 1BD0     		beq	.L577
 7552 0008 0329     		cmp	r1, #3
 7553 000a 07D0     		beq	.L578
 7554 000c 0129     		cmp	r1, #1
 7555 000e 22D0     		beq	.L589
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
 7556              		.loc 1 1720 59 discriminator 1 view .LVU2450
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7557              		.loc 1 1721 7 discriminator 1 view .LVU2451
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7558              		.loc 1 1721 7 discriminator 1 view .LVU2452
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7559              		.loc 1 1721 7 discriminator 1 view .LVU2453
 7560 0010 1B4B     		ldr	r3, .L593
 7561 0012 1622     		movs	r2, #22
 7562              	.LVL778:
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7563              		.loc 1 1721 7 is_stmt 0 discriminator 1 view .LVU2454
 7564 0014 1A60     		str	r2, [r3]
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7565              		.loc 1 1721 7 is_stmt 1 discriminator 1 view .LVU2455
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7566              		.loc 1 1722 7 discriminator 1 view .LVU2456
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7567              		.loc 1 1722 14 is_stmt 0 discriminator 1 view .LVU2457
 7568 0016 4FF0FF34 		mov	r4, #-1
 7569 001a 0FE0     		b	.L576
 7570              	.LVL779:
 7571              	.L578:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7572              		.loc 1 1695 7 is_stmt 1 view .LVU2458
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7573              		.loc 1 1695 14 is_stmt 0 view .LVU2459
 7574 001c 194A     		ldr	r2, .L593+4
 7575              	.LVL780:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7576              		.loc 1 1695 14 view .LVU2460
 7577 001e D9B2     		uxtb	r1, r3
 7578              	.LVL781:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7579              		.loc 1 1695 14 view .LVU2461
 7580 0020 4020     		movs	r0, #64
 7581              	.LVL782:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7582              		.loc 1 1695 14 view .LVU2462
 7583 0022 FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7584              	.LVL783:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7585              		.loc 1 1695 14 view .LVU2463
 7586 0026 0546     		mov	r5, r0
 7587              	.LVL784:
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7588              		.loc 1 1698 88 is_stmt 1 view .LVU2464
ARM GAS  /tmp/cc3tDhb2.s 			page 242


1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
 7589              		.loc 1 1699 7 view .LVU2465
 7590              	.L581:
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7591              		.loc 1 1725 3 view .LVU2466
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7592              		.loc 1 1725 6 is_stmt 0 view .LVU2467
 7593 0028 E5B1     		cbz	r5, .L590
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7594              		.loc 1 1731 3 is_stmt 1 view .LVU2468
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7595              		.loc 1 1731 7 is_stmt 0 view .LVU2469
 7596 002a 0021     		movs	r1, #0
 7597 002c 2846     		mov	r0, r5
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7598              		.loc 1 1731 7 view .LVU2470
 7599 002e FFF7FEFF 		bl	alloc_socket
 7600              	.LVL785:
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7601              		.loc 1 1731 7 view .LVU2471
 7602 0032 0446     		mov	r4, r0
 7603              	.LVL786:
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7604              		.loc 1 1733 3 is_stmt 1 view .LVU2472
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7605              		.loc 1 1733 6 is_stmt 0 view .LVU2473
 7606 0034 B0F1FF3F 		cmp	r0, #-1
 7607 0038 1AD0     		beq	.L591
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7608              		.loc 1 1738 3 is_stmt 1 view .LVU2474
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7609              		.loc 1 1738 16 is_stmt 0 view .LVU2475
 7610 003a A861     		str	r0, [r5, #24]
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
 7611              		.loc 1 1739 48 is_stmt 1 view .LVU2476
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7612              		.loc 1 1740 42 view .LVU2477
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7613              		.loc 1 1741 3 view .LVU2478
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7614              		.loc 1 1741 3 view .LVU2479
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7615              		.loc 1 1741 3 view .LVU2480
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7616              		.loc 1 1742 3 view .LVU2481
 7617              	.LVL787:
 7618              	.L576:
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7619              		.loc 1 1743 1 is_stmt 0 view .LVU2482
 7620 003c 2046     		mov	r0, r4
 7621 003e 38BD     		pop	{r3, r4, r5, pc}
 7622              	.LVL788:
 7623              	.L577:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7624              		.loc 1 1701 7 is_stmt 1 view .LVU2483
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7625              		.loc 1 1701 14 is_stmt 0 view .LVU2484
ARM GAS  /tmp/cc3tDhb2.s 			page 243


 7626 0040 882A     		cmp	r2, #136
 7627 0042 06D0     		beq	.L592
 7628 0044 2020     		movs	r0, #32
 7629              	.LVL789:
 7630              	.L582:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7631              		.loc 1 1701 14 discriminator 4 view .LVU2485
 7632 0046 0F4A     		ldr	r2, .L593+4
 7633              	.LVL790:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7634              		.loc 1 1701 14 discriminator 4 view .LVU2486
 7635 0048 0021     		movs	r1, #0
 7636              	.LVL791:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7637              		.loc 1 1701 14 discriminator 4 view .LVU2487
 7638 004a FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7639              	.LVL792:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7640              		.loc 1 1701 14 discriminator 4 view .LVU2488
 7641 004e 0546     		mov	r5, r0
 7642              	.LVL793:
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 7643              		.loc 1 1705 88 is_stmt 1 discriminator 4 view .LVU2489
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
 7644              		.loc 1 1712 7 discriminator 4 view .LVU2490
 7645 0050 EAE7     		b	.L581
 7646              	.LVL794:
 7647              	.L592:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7648              		.loc 1 1701 14 is_stmt 0 view .LVU2491
 7649 0052 2120     		movs	r0, #33
 7650              	.LVL795:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7651              		.loc 1 1701 14 view .LVU2492
 7652 0054 F7E7     		b	.L582
 7653              	.LVL796:
 7654              	.L589:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7655              		.loc 1 1714 7 is_stmt 1 view .LVU2493
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7656              		.loc 1 1714 14 is_stmt 0 view .LVU2494
 7657 0056 0B4A     		ldr	r2, .L593+4
 7658              	.LVL797:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7659              		.loc 1 1714 14 view .LVU2495
 7660 0058 0021     		movs	r1, #0
 7661              	.LVL798:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7662              		.loc 1 1714 14 view .LVU2496
 7663 005a 1020     		movs	r0, #16
 7664              	.LVL799:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7665              		.loc 1 1714 14 view .LVU2497
 7666 005c FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7667              	.LVL800:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7668              		.loc 1 1714 14 view .LVU2498
ARM GAS  /tmp/cc3tDhb2.s 			page 244


 7669 0060 0546     		mov	r5, r0
 7670              	.LVL801:
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7671              		.loc 1 1716 88 is_stmt 1 view .LVU2499
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 7672              		.loc 1 1717 7 view .LVU2500
 7673 0062 E1E7     		b	.L581
 7674              	.L590:
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
 7675              		.loc 1 1726 78 discriminator 1 view .LVU2501
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7676              		.loc 1 1727 5 discriminator 1 view .LVU2502
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7677              		.loc 1 1727 5 discriminator 1 view .LVU2503
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7678              		.loc 1 1727 5 discriminator 1 view .LVU2504
 7679 0064 064B     		ldr	r3, .L593
 7680 0066 6922     		movs	r2, #105
 7681 0068 1A60     		str	r2, [r3]
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7682              		.loc 1 1727 5 discriminator 1 view .LVU2505
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7683              		.loc 1 1728 5 discriminator 1 view .LVU2506
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7684              		.loc 1 1728 12 is_stmt 0 discriminator 1 view .LVU2507
 7685 006a 4FF0FF34 		mov	r4, #-1
 7686 006e E5E7     		b	.L576
 7687              	.LVL802:
 7688              	.L591:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 7689              		.loc 1 1734 5 is_stmt 1 view .LVU2508
 7690 0070 2846     		mov	r0, r5
 7691              	.LVL803:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 7692              		.loc 1 1734 5 is_stmt 0 view .LVU2509
 7693 0072 FFF7FEFF 		bl	netconn_delete
 7694              	.LVL804:
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7695              		.loc 1 1735 5 is_stmt 1 view .LVU2510
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7696              		.loc 1 1735 5 view .LVU2511
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7697              		.loc 1 1735 5 view .LVU2512
 7698 0076 024B     		ldr	r3, .L593
 7699 0078 1722     		movs	r2, #23
 7700 007a 1A60     		str	r2, [r3]
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7701              		.loc 1 1735 5 view .LVU2513
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7702              		.loc 1 1736 5 view .LVU2514
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7703              		.loc 1 1736 12 is_stmt 0 view .LVU2515
 7704 007c DEE7     		b	.L576
 7705              	.L594:
 7706 007e 00BF     		.align	2
 7707              	.L593:
 7708 0080 00000000 		.word	errno
ARM GAS  /tmp/cc3tDhb2.s 			page 245


 7709 0084 00000000 		.word	event_callback
 7710              		.cfi_endproc
 7711              	.LFE188:
 7713              		.section	.text.lwip_write,"ax",%progbits
 7714              		.align	1
 7715              		.global	lwip_write
 7716              		.syntax unified
 7717              		.thumb
 7718              		.thumb_func
 7719              		.fpu fpv4-sp-d16
 7721              	lwip_write:
 7722              	.LVL805:
 7723              	.LFB189:
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7724              		.loc 1 1747 1 is_stmt 1 view -0
 7725              		.cfi_startproc
 7726              		@ args = 0, pretend = 0, frame = 0
 7727              		@ frame_needed = 0, uses_anonymous_args = 0
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7728              		.loc 1 1747 1 is_stmt 0 view .LVU2517
 7729 0000 08B5     		push	{r3, lr}
 7730              	.LCFI98:
 7731              		.cfi_def_cfa_offset 8
 7732              		.cfi_offset 3, -8
 7733              		.cfi_offset 14, -4
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7734              		.loc 1 1748 3 is_stmt 1 view .LVU2518
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7735              		.loc 1 1748 10 is_stmt 0 view .LVU2519
 7736 0002 0023     		movs	r3, #0
 7737 0004 FFF7FEFF 		bl	lwip_send
 7738              	.LVL806:
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7739              		.loc 1 1749 1 view .LVU2520
 7740 0008 08BD     		pop	{r3, pc}
 7741              		.cfi_endproc
 7742              	.LFE189:
 7744              		.section	.text.lwip_writev,"ax",%progbits
 7745              		.align	1
 7746              		.global	lwip_writev
 7747              		.syntax unified
 7748              		.thumb
 7749              		.thumb_func
 7750              		.fpu fpv4-sp-d16
 7752              	lwip_writev:
 7753              	.LVL807:
 7754              	.LFB190:
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7755              		.loc 1 1753 1 is_stmt 1 view -0
 7756              		.cfi_startproc
 7757              		@ args = 0, pretend = 0, frame = 32
 7758              		@ frame_needed = 0, uses_anonymous_args = 0
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7759              		.loc 1 1753 1 is_stmt 0 view .LVU2522
 7760 0000 00B5     		push	{lr}
 7761              	.LCFI99:
 7762              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cc3tDhb2.s 			page 246


 7763              		.cfi_offset 14, -4
 7764 0002 89B0     		sub	sp, sp, #36
 7765              	.LCFI100:
 7766              		.cfi_def_cfa_offset 40
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7767              		.loc 1 1754 3 is_stmt 1 view .LVU2523
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7768              		.loc 1 1756 3 view .LVU2524
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7769              		.loc 1 1756 16 is_stmt 0 view .LVU2525
 7770 0004 0023     		movs	r3, #0
 7771 0006 0193     		str	r3, [sp, #4]
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7772              		.loc 1 1757 3 is_stmt 1 view .LVU2526
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7773              		.loc 1 1757 19 is_stmt 0 view .LVU2527
 7774 0008 0293     		str	r3, [sp, #8]
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7775              		.loc 1 1760 3 is_stmt 1 view .LVU2528
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7776              		.loc 1 1760 15 is_stmt 0 view .LVU2529
 7777 000a 0391     		str	r1, [sp, #12]
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7778              		.loc 1 1761 3 is_stmt 1 view .LVU2530
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7779              		.loc 1 1761 18 is_stmt 0 view .LVU2531
 7780 000c 0492     		str	r2, [sp, #16]
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7781              		.loc 1 1762 3 is_stmt 1 view .LVU2532
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7782              		.loc 1 1762 19 is_stmt 0 view .LVU2533
 7783 000e 0593     		str	r3, [sp, #20]
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7784              		.loc 1 1763 3 is_stmt 1 view .LVU2534
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7785              		.loc 1 1763 22 is_stmt 0 view .LVU2535
 7786 0010 0693     		str	r3, [sp, #24]
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7787              		.loc 1 1764 3 is_stmt 1 view .LVU2536
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7788              		.loc 1 1764 17 is_stmt 0 view .LVU2537
 7789 0012 0793     		str	r3, [sp, #28]
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7790              		.loc 1 1765 3 is_stmt 1 view .LVU2538
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7791              		.loc 1 1765 10 is_stmt 0 view .LVU2539
 7792 0014 1A46     		mov	r2, r3
 7793              	.LVL808:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7794              		.loc 1 1765 10 view .LVU2540
 7795 0016 01A9     		add	r1, sp, #4
 7796              	.LVL809:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7797              		.loc 1 1765 10 view .LVU2541
 7798 0018 FFF7FEFF 		bl	lwip_sendmsg
 7799              	.LVL810:
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 247


 7800              		.loc 1 1766 1 view .LVU2542
 7801 001c 09B0     		add	sp, sp, #36
 7802              	.LCFI101:
 7803              		.cfi_def_cfa_offset 4
 7804              		@ sp needed
 7805 001e 5DF804FB 		ldr	pc, [sp], #4
 7806              		.cfi_endproc
 7807              	.LFE190:
 7809              		.section	.text.lwip_select,"ax",%progbits
 7810              		.align	1
 7811              		.global	lwip_select
 7812              		.syntax unified
 7813              		.thumb
 7814              		.thumb_func
 7815              		.fpu fpv4-sp-d16
 7817              	lwip_select:
 7818              	.LVL811:
 7819              	.LFB194:
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7820              		.loc 1 1966 1 is_stmt 1 view -0
 7821              		.cfi_startproc
 7822              		@ args = 4, pretend = 0, frame = 72
 7823              		@ frame_needed = 0, uses_anonymous_args = 0
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7824              		.loc 1 1966 1 is_stmt 0 view .LVU2544
 7825 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7826              	.LCFI102:
 7827              		.cfi_def_cfa_offset 36
 7828              		.cfi_offset 4, -36
 7829              		.cfi_offset 5, -32
 7830              		.cfi_offset 6, -28
 7831              		.cfi_offset 7, -24
 7832              		.cfi_offset 8, -20
 7833              		.cfi_offset 9, -16
 7834              		.cfi_offset 10, -12
 7835              		.cfi_offset 11, -8
 7836              		.cfi_offset 14, -4
 7837 0004 97B0     		sub	sp, sp, #92
 7838              	.LCFI103:
 7839              		.cfi_def_cfa_offset 128
 7840 0006 209D     		ldr	r5, [sp, #128]
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 7841              		.loc 1 1967 3 is_stmt 1 view .LVU2545
 7842              	.LVL812:
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 7843              		.loc 1 1968 3 view .LVU2546
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 7844              		.loc 1 1969 3 view .LVU2547
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7845              		.loc 1 1970 3 view .LVU2548
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
 7846              		.loc 1 1971 3 view .LVU2549
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7847              		.loc 1 1972 3 view .LVU2550
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7848              		.loc 1 1979 3 view .LVU2551
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 248


 7849              		.loc 1 1984 80 view .LVU2552
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7850              		.loc 1 1986 3 view .LVU2553
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7851              		.loc 1 1986 6 is_stmt 0 view .LVU2554
 7852 0008 4028     		cmp	r0, #64
 7853 000a 28D8     		bhi	.L632
 7854 000c 8146     		mov	r9, r0
 7855 000e 0E46     		mov	r6, r1
 7856 0010 1746     		mov	r7, r2
 7857 0012 9846     		mov	r8, r3
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7858              		.loc 1 1991 85 is_stmt 1 view .LVU2555
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7859              		.loc 1 1995 3 view .LVU2556
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7860              		.loc 1 1995 12 is_stmt 0 view .LVU2557
 7861 0014 10AB     		add	r3, sp, #64
 7862              	.LVL813:
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7863              		.loc 1 1995 12 view .LVU2558
 7864 0016 0293     		str	r3, [sp, #8]
 7865 0018 12AB     		add	r3, sp, #72
 7866 001a 0193     		str	r3, [sp, #4]
 7867 001c 14AB     		add	r3, sp, #80
 7868 001e 0093     		str	r3, [sp]
 7869 0020 4346     		mov	r3, r8
 7870 0022 FFF7FEFF 		bl	lwip_selscan
 7871              	.LVL814:
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7872              		.loc 1 1997 3 is_stmt 1 view .LVU2559
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7873              		.loc 1 1997 6 is_stmt 0 view .LVU2560
 7874 0026 B0F1000A 		subs	r10, r0, #0
 7875 002a 1EDB     		blt	.L633
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7876              		.loc 1 2002 10 is_stmt 1 view .LVU2561
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7877              		.loc 1 2002 13 is_stmt 0 view .LVU2562
 7878 002c BAF1000F 		cmp	r10, #0
 7879 0030 21DD     		ble	.L634
 7880              	.LVL815:
 7881              	.L603:
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7882              		.loc 1 2154 55 is_stmt 1 discriminator 3 view .LVU2563
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7883              		.loc 1 2155 3 discriminator 3 view .LVU2564
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7884              		.loc 1 2155 3 discriminator 3 view .LVU2565
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7885              		.loc 1 2155 3 discriminator 3 view .LVU2566
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7886              		.loc 1 2156 3 discriminator 3 view .LVU2567
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7887              		.loc 1 2156 6 is_stmt 0 discriminator 3 view .LVU2568
 7888 0032 26B1     		cbz	r6, .L627
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /tmp/cc3tDhb2.s 			page 249


 7889              		.loc 1 2157 5 is_stmt 1 view .LVU2569
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7890              		.loc 1 2157 14 is_stmt 0 view .LVU2570
 7891 0034 16AB     		add	r3, sp, #88
 7892 0036 13E90300 		ldmdb	r3, {r0, r1}
 7893 003a 86E80300 		stm	r6, {r0, r1}
 7894              	.L627:
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7895              		.loc 1 2159 3 is_stmt 1 view .LVU2571
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7896              		.loc 1 2159 6 is_stmt 0 view .LVU2572
 7897 003e 1FB1     		cbz	r7, .L628
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7898              		.loc 1 2160 5 is_stmt 1 view .LVU2573
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7899              		.loc 1 2160 15 is_stmt 0 view .LVU2574
 7900 0040 1399     		ldr	r1, [sp, #76]
 7901 0042 1298     		ldr	r0, [sp, #72]
 7902 0044 87E80300 		stm	r7, {r0, r1}
 7903              	.L628:
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7904              		.loc 1 2162 3 is_stmt 1 view .LVU2575
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7905              		.loc 1 2162 6 is_stmt 0 view .LVU2576
 7906 0048 B8F1000F 		cmp	r8, #0
 7907 004c 03D0     		beq	.L599
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7908              		.loc 1 2163 5 is_stmt 1 view .LVU2577
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7909              		.loc 1 2163 16 is_stmt 0 view .LVU2578
 7910 004e 1199     		ldr	r1, [sp, #68]
 7911 0050 1098     		ldr	r0, [sp, #64]
 7912 0052 88E80300 		stm	r8, {r0, r1}
 7913              	.LVL816:
 7914              	.L599:
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
 7915              		.loc 1 2166 1 view .LVU2579
 7916 0056 5046     		mov	r0, r10
 7917 0058 17B0     		add	sp, sp, #92
 7918              	.LCFI104:
 7919              		.cfi_remember_state
 7920              		.cfi_def_cfa_offset 36
 7921              		@ sp needed
 7922 005a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7923              	.LVL817:
 7924              	.L632:
 7925              	.LCFI105:
 7926              		.cfi_restore_state
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7927              		.loc 1 1987 5 is_stmt 1 discriminator 1 view .LVU2580
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7928              		.loc 1 1987 5 discriminator 1 view .LVU2581
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7929              		.loc 1 1987 5 discriminator 1 view .LVU2582
 7930 005e 8C4B     		ldr	r3, .L641
 7931              	.LVL818:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  /tmp/cc3tDhb2.s 			page 250


 7932              		.loc 1 1987 5 is_stmt 0 discriminator 1 view .LVU2583
 7933 0060 1622     		movs	r2, #22
 7934              	.LVL819:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7935              		.loc 1 1987 5 discriminator 1 view .LVU2584
 7936 0062 1A60     		str	r2, [r3]
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7937              		.loc 1 1987 5 is_stmt 1 discriminator 1 view .LVU2585
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7938              		.loc 1 1988 5 discriminator 1 view .LVU2586
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7939              		.loc 1 1988 12 is_stmt 0 discriminator 1 view .LVU2587
 7940 0064 4FF0FF3A 		mov	r10, #-1
 7941 0068 F5E7     		b	.L599
 7942              	.LVL820:
 7943              	.L633:
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7944              		.loc 1 1999 5 is_stmt 1 discriminator 1 view .LVU2588
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7945              		.loc 1 1999 5 discriminator 1 view .LVU2589
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7946              		.loc 1 1999 5 discriminator 1 view .LVU2590
 7947 006a 894B     		ldr	r3, .L641
 7948 006c 0922     		movs	r2, #9
 7949 006e 1A60     		str	r2, [r3]
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7950              		.loc 1 1999 5 discriminator 1 view .LVU2591
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7951              		.loc 1 2000 57 discriminator 1 view .LVU2592
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
 7952              		.loc 1 2001 5 discriminator 1 view .LVU2593
 7953              	.LVL821:
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
 7954              		.loc 1 2001 12 is_stmt 0 discriminator 1 view .LVU2594
 7955 0070 4FF0FF3A 		mov	r10, #-1
 7956 0074 EFE7     		b	.L599
 7957              	.LVL822:
 7958              	.L634:
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7959              		.loc 1 2007 5 is_stmt 1 view .LVU2595
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7960              		.loc 1 2007 8 is_stmt 0 view .LVU2596
 7961 0076 35B1     		cbz	r5, .L604
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7962              		.loc 1 2007 27 discriminator 1 view .LVU2597
 7963 0078 D5E90023 		ldrd	r2, [r5]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7964              		.loc 1 2007 17 discriminator 1 view .LVU2598
 7965 007c 1343     		orrs	r3, r2, r3
 7966 007e 02D1     		bne	.L604
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7967              		.loc 1 2007 51 discriminator 2 view .LVU2599
 7968 0080 AB68     		ldr	r3, [r5, #8]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7969              		.loc 1 2007 41 discriminator 2 view .LVU2600
 7970 0082 002B     		cmp	r3, #0
 7971 0084 D5D0     		beq	.L603
ARM GAS  /tmp/cc3tDhb2.s 			page 251


 7972              	.L604:
 7973              	.LBB81:
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
 7974              		.loc 1 2017 7 is_stmt 1 view .LVU2601
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 7975              		.loc 1 2018 125 view .LVU2602
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7976              		.loc 1 2019 7 view .LVU2603
 7977 0086 2422     		movs	r2, #36
 7978 0088 0021     		movs	r1, #0
 7979 008a 07A8     		add	r0, sp, #28
 7980              	.LVL823:
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7981              		.loc 1 2019 7 is_stmt 0 view .LVU2604
 7982 008c FFF7FEFF 		bl	memset
 7983              	.LVL824:
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 7984              		.loc 1 2021 7 is_stmt 1 view .LVU2605
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 7985              		.loc 1 2021 48 is_stmt 0 view .LVU2606
 7986 0090 0996     		str	r6, [sp, #36]
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 7987              		.loc 1 2022 7 is_stmt 1 view .LVU2607
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 7988              		.loc 1 2022 49 is_stmt 0 view .LVU2608
 7989 0092 0A97     		str	r7, [sp, #40]
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7990              		.loc 1 2023 7 is_stmt 1 view .LVU2609
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7991              		.loc 1 2023 50 is_stmt 0 view .LVU2610
 7992 0094 CDF82C80 		str	r8, [sp, #44]
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 7993              		.loc 1 2027 7 is_stmt 1 view .LVU2611
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 7994              		.loc 1 2027 11 is_stmt 0 view .LVU2612
 7995 0098 0021     		movs	r1, #0
 7996 009a 0FA8     		add	r0, sp, #60
 7997 009c FFF7FEFF 		bl	sys_sem_new
 7998              	.LVL825:
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 7999              		.loc 1 2027 10 view .LVU2613
 8000 00a0 40B9     		cbnz	r0, .L635
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8001              		.loc 1 2036 7 is_stmt 1 view .LVU2614
 8002 00a2 07A8     		add	r0, sp, #28
 8003 00a4 FFF7FEFF 		bl	lwip_link_select_cb
 8004              	.LVL826:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8005              		.loc 1 2039 7 view .LVU2615
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8006              		.loc 1 2040 7 view .LVU2616
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8007              		.loc 1 2040 14 is_stmt 0 view .LVU2617
 8008 00a8 0024     		movs	r4, #0
 8009 00aa 2095     		str	r5, [sp, #128]
 8010              	.LVL827:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
ARM GAS  /tmp/cc3tDhb2.s 			page 252


 8011              		.loc 1 2040 14 view .LVU2618
 8012 00ac 4546     		mov	r5, r8
 8013 00ae DDF88080 		ldr	r8, [sp, #128]
 8014              	.LVL828:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8015              		.loc 1 2040 7 view .LVU2619
 8016 00b2 16E0     		b	.L607
 8017              	.LVL829:
 8018              	.L635:
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8019              		.loc 1 2029 9 is_stmt 1 discriminator 1 view .LVU2620
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8020              		.loc 1 2029 9 discriminator 1 view .LVU2621
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8021              		.loc 1 2029 9 discriminator 1 view .LVU2622
 8022 00b4 764B     		ldr	r3, .L641
 8023 00b6 0C22     		movs	r2, #12
 8024 00b8 1A60     		str	r2, [r3]
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8025              		.loc 1 2029 9 discriminator 1 view .LVU2623
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
 8026              		.loc 1 2030 61 discriminator 1 view .LVU2624
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 8027              		.loc 1 2031 42 discriminator 1 view .LVU2625
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8028              		.loc 1 2032 9 discriminator 1 view .LVU2626
 8029              	.LVL830:
 8030              	.L606:
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8031              		.loc 1 2032 16 is_stmt 0 discriminator 1 view .LVU2627
 8032 00ba 4FF0FF3A 		mov	r10, #-1
 8033 00be CAE7     		b	.L599
 8034              	.LVL831:
 8035              	.L609:
 8036              	.LBB82:
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8037              		.loc 1 2044 11 is_stmt 1 view .LVU2628
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8038              		.loc 1 2045 11 view .LVU2629
 8039 00c0 FFF7FEFF 		bl	sys_arch_protect
 8040              	.LVL832:
 8041 00c4 8246     		mov	r10, r0
 8042              	.LVL833:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8043              		.loc 1 2046 11 view .LVU2630
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8044              		.loc 1 2046 18 is_stmt 0 view .LVU2631
 8045 00c6 2046     		mov	r0, r4
 8046              	.LVL834:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8047              		.loc 1 2046 18 view .LVU2632
 8048 00c8 FFF7FEFF 		bl	tryget_socket_unconn_locked
 8049              	.LVL835:
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8050              		.loc 1 2047 11 is_stmt 1 view .LVU2633
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8051              		.loc 1 2047 14 is_stmt 0 view .LVU2634
ARM GAS  /tmp/cc3tDhb2.s 			page 253


 8052 00cc 0028     		cmp	r0, #0
 8053 00ce 37D0     		beq	.L612
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8054              		.loc 1 2048 13 is_stmt 1 view .LVU2635
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8055              		.loc 1 2048 17 is_stmt 0 view .LVU2636
 8056 00d0 817B     		ldrb	r1, [r0, #14]	@ zero_extendqisi2
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8057              		.loc 1 2048 33 view .LVU2637
 8058 00d2 4B1C     		adds	r3, r1, #1
 8059 00d4 DBB2     		uxtb	r3, r3
 8060 00d6 8373     		strb	r3, [r0, #14]
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8061              		.loc 1 2049 13 is_stmt 1 view .LVU2638
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8062              		.loc 1 2049 16 is_stmt 0 view .LVU2639
 8063 00d8 2BB3     		cbz	r3, .L636
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8064              		.loc 1 2059 13 is_stmt 1 view .LVU2640
 8065 00da 5046     		mov	r0, r10
 8066              	.LVL836:
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8067              		.loc 1 2059 13 is_stmt 0 view .LVU2641
 8068 00dc FFF7FEFF 		bl	sys_arch_unprotect
 8069              	.LVL837:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8070              		.loc 1 2060 30 is_stmt 1 view .LVU2642
 8071              	.L611:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8072              		.loc 1 2060 30 is_stmt 0 view .LVU2643
 8073              	.LBE82:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8074              		.loc 1 2040 49 is_stmt 1 discriminator 2 view .LVU2644
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8075              		.loc 1 2040 50 is_stmt 0 discriminator 2 view .LVU2645
 8076 00e0 0134     		adds	r4, r4, #1
 8077              	.LVL838:
 8078              	.L607:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8079              		.loc 1 2040 36 is_stmt 1 discriminator 1 view .LVU2646
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8080              		.loc 1 2040 7 is_stmt 0 discriminator 1 view .LVU2647
 8081 00e2 4C45     		cmp	r4, r9
 8082 00e4 3BDA     		bge	.L637
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8083              		.loc 1 2041 9 is_stmt 1 view .LVU2648
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8084              		.loc 1 2041 12 is_stmt 0 view .LVU2649
 8085 00e6 46B1     		cbz	r6, .L608
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8086              		.loc 1 2041 25 discriminator 1 view .LVU2650
 8087 00e8 6309     		lsrs	r3, r4, #5
 8088 00ea 56F82320 		ldr	r2, [r6, r3, lsl #2]
 8089 00ee 04F01F01 		and	r1, r4, #31
 8090 00f2 0123     		movs	r3, #1
 8091 00f4 8B40     		lsls	r3, r3, r1
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
ARM GAS  /tmp/cc3tDhb2.s 			page 254


 8092              		.loc 1 2041 22 discriminator 1 view .LVU2651
 8093 00f6 1A42     		tst	r2, r3
 8094 00f8 E2D1     		bne	.L609
 8095              	.L608:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8096              		.loc 1 2041 47 discriminator 3 view .LVU2652
 8097 00fa 47B1     		cbz	r7, .L610
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8098              		.loc 1 2042 26 view .LVU2653
 8099 00fc 6309     		lsrs	r3, r4, #5
 8100 00fe 57F82320 		ldr	r2, [r7, r3, lsl #2]
 8101 0102 04F01F01 		and	r1, r4, #31
 8102 0106 0123     		movs	r3, #1
 8103 0108 8B40     		lsls	r3, r3, r1
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8104              		.loc 1 2042 23 view .LVU2654
 8105 010a 1A42     		tst	r2, r3
 8106 010c D8D1     		bne	.L609
 8107              	.L610:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8108              		.loc 1 2042 49 discriminator 1 view .LVU2655
 8109 010e 002D     		cmp	r5, #0
 8110 0110 E6D0     		beq	.L611
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8111              		.loc 1 2043 27 view .LVU2656
 8112 0112 6309     		lsrs	r3, r4, #5
 8113 0114 55F82320 		ldr	r2, [r5, r3, lsl #2]
 8114 0118 04F01F01 		and	r1, r4, #31
 8115 011c 0123     		movs	r3, #1
 8116 011e 8B40     		lsls	r3, r3, r1
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8117              		.loc 1 2043 24 view .LVU2657
 8118 0120 1A42     		tst	r2, r3
 8119 0122 DDD0     		beq	.L611
 8120 0124 CCE7     		b	.L609
 8121              	.LVL839:
 8122              	.L636:
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8123              		.loc 1 2043 24 view .LVU2658
 8124 0126 A846     		mov	r8, r5
 8125              	.LBB83:
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8126              		.loc 1 2051 15 is_stmt 1 view .LVU2659
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8127              		.loc 1 2051 35 is_stmt 0 view .LVU2660
 8128 0128 8173     		strb	r1, [r0, #14]
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8129              		.loc 1 2052 15 is_stmt 1 view .LVU2661
 8130              	.LVL840:
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
 8131              		.loc 1 2053 15 view .LVU2662
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8132              		.loc 1 2054 15 view .LVU2663
 8133 012a 5046     		mov	r0, r10
 8134              	.LVL841:
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8135              		.loc 1 2054 15 is_stmt 0 view .LVU2664
ARM GAS  /tmp/cc3tDhb2.s 			page 255


 8136 012c FFF7FEFF 		bl	sys_arch_unprotect
 8137              	.LVL842:
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
 8138              		.loc 1 2055 32 is_stmt 1 view .LVU2665
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8139              		.loc 1 2056 15 view .LVU2666
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8140              		.loc 1 2056 15 view .LVU2667
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8141              		.loc 1 2056 15 view .LVU2668
 8142 0130 574B     		ldr	r3, .L641
 8143 0132 1022     		movs	r2, #16
 8144 0134 1A60     		str	r2, [r3]
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8145              		.loc 1 2056 15 is_stmt 0 view .LVU2669
 8146              	.LBE83:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8147              		.loc 1 2072 7 is_stmt 1 view .LVU2670
 8148              	.LBB84:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8149              		.loc 1 2052 22 is_stmt 0 view .LVU2671
 8150 0136 4FF0FF3A 		mov	r10, #-1
 8151              	.LVL843:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8152              		.loc 1 2052 22 view .LVU2672
 8153              	.LBE84:
 8154              	.LBE81:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8155              		.loc 1 1967 9 view .LVU2673
 8156 013a 0023     		movs	r3, #0
 8157 013c 0593     		str	r3, [sp, #20]
 8158 013e 0AE0     		b	.L614
 8159              	.LVL844:
 8160              	.L612:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8161              		.loc 1 1967 9 view .LVU2674
 8162 0140 A846     		mov	r8, r5
 8163              	.LBB91:
 8164              	.LBB85:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8165              		.loc 1 2063 13 is_stmt 1 view .LVU2675
 8166              	.LVL845:
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 8167              		.loc 1 2064 13 view .LVU2676
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8168              		.loc 1 2065 13 view .LVU2677
 8169 0142 5046     		mov	r0, r10
 8170              	.LVL846:
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8171              		.loc 1 2065 13 is_stmt 0 view .LVU2678
 8172 0144 FFF7FEFF 		bl	sys_arch_unprotect
 8173              	.LVL847:
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8174              		.loc 1 2066 13 is_stmt 1 view .LVU2679
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8175              		.loc 1 2066 13 view .LVU2680
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
ARM GAS  /tmp/cc3tDhb2.s 			page 256


 8176              		.loc 1 2066 13 view .LVU2681
 8177 0148 514B     		ldr	r3, .L641
 8178 014a 0922     		movs	r2, #9
 8179 014c 1A60     		str	r2, [r3]
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8180              		.loc 1 2066 13 is_stmt 0 view .LVU2682
 8181              	.LBE85:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8182              		.loc 1 2072 7 is_stmt 1 view .LVU2683
 8183              	.LBB86:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8184              		.loc 1 2063 20 is_stmt 0 view .LVU2684
 8185 014e 4FF0FF3A 		mov	r10, #-1
 8186              	.LVL848:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8187              		.loc 1 2063 20 view .LVU2685
 8188              	.LBE86:
 8189              	.LBE91:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8190              		.loc 1 1967 9 view .LVU2686
 8191 0152 0023     		movs	r3, #0
 8192 0154 0593     		str	r3, [sp, #20]
 8193              	.LVL849:
 8194              	.L614:
 8195              	.LBB92:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8196              		.loc 1 2099 7 is_stmt 1 view .LVU2687
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8197              		.loc 1 2099 14 is_stmt 0 view .LVU2688
 8198 0156 0025     		movs	r5, #0
 8199 0158 CDF81090 		str	r9, [sp, #16]
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8200              		.loc 1 2099 7 view .LVU2689
 8201 015c 44E0     		b	.L617
 8202              	.LVL850:
 8203              	.L637:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8204              		.loc 1 2099 7 view .LVU2690
 8205 015e CDF88080 		str	r8, [sp, #128]
 8206 0162 A846     		mov	r8, r5
 8207 0164 209D     		ldr	r5, [sp, #128]
 8208              	.LVL851:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8209              		.loc 1 2072 7 is_stmt 1 view .LVU2691
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8210              		.loc 1 2075 9 view .LVU2692
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8211              		.loc 1 2075 18 is_stmt 0 view .LVU2693
 8212 0166 10AB     		add	r3, sp, #64
 8213 0168 0293     		str	r3, [sp, #8]
 8214 016a 12AB     		add	r3, sp, #72
 8215 016c 0193     		str	r3, [sp, #4]
 8216 016e 14AB     		add	r3, sp, #80
 8217 0170 0093     		str	r3, [sp]
 8218 0172 4346     		mov	r3, r8
 8219 0174 3A46     		mov	r2, r7
 8220 0176 3146     		mov	r1, r6
ARM GAS  /tmp/cc3tDhb2.s 			page 257


 8221 0178 4846     		mov	r0, r9
 8222 017a FFF7FEFF 		bl	lwip_selscan
 8223              	.LVL852:
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8224              		.loc 1 2076 9 is_stmt 1 view .LVU2694
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8225              		.loc 1 2076 12 is_stmt 0 view .LVU2695
 8226 017e 8246     		mov	r10, r0
 8227 0180 D0B9     		cbnz	r0, .L629
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8228              		.loc 1 2078 11 is_stmt 1 view .LVU2696
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8229              		.loc 1 2078 14 is_stmt 0 view .LVU2697
 8230 0182 BDB1     		cbz	r5, .L630
 8231              	.LBB87:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8232              		.loc 1 2082 13 is_stmt 1 view .LVU2698
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8233              		.loc 1 2082 40 is_stmt 0 view .LVU2699
 8234 0184 2968     		ldr	r1, [r5]
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8235              		.loc 1 2082 68 view .LVU2700
 8236 0186 AB68     		ldr	r3, [r5, #8]
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8237              		.loc 1 2082 78 view .LVU2701
 8238 0188 03F5FA73 		add	r3, r3, #500
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8239              		.loc 1 2082 85 view .LVU2702
 8240 018c 414A     		ldr	r2, .L641+4
 8241 018e 82FB0302 		smull	r0, r2, r2, r3
 8242              	.LVL853:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8243              		.loc 1 2082 85 view .LVU2703
 8244 0192 DB17     		asrs	r3, r3, #31
 8245 0194 C3EBA213 		rsb	r3, r3, r2, asr #6
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8246              		.loc 1 2082 57 view .LVU2704
 8247 0198 4FF47A72 		mov	r2, #1000
 8248 019c 02FB0131 		mla	r1, r2, r1, r3
 8249              	.LVL854:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8250              		.loc 1 2083 13 is_stmt 1 view .LVU2705
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8251              		.loc 1 2083 16 is_stmt 0 view .LVU2706
 8252 01a0 0029     		cmp	r1, #0
 8253 01a2 05DD     		ble	.L638
 8254              	.LVL855:
 8255              	.L616:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8256              		.loc 1 2083 16 view .LVU2707
 8257              	.LBE87:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8258              		.loc 1 2091 11 is_stmt 1 view .LVU2708
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8259              		.loc 1 2091 21 is_stmt 0 view .LVU2709
 8260 01a4 0FA8     		add	r0, sp, #60
 8261 01a6 FFF7FEFF 		bl	sys_arch_sem_wait
ARM GAS  /tmp/cc3tDhb2.s 			page 258


 8262              	.LVL856:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8263              		.loc 1 2091 21 view .LVU2710
 8264 01aa 0590     		str	r0, [sp, #20]
 8265              	.LVL857:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8266              		.loc 1 2039 15 view .LVU2711
 8267 01ac 4C46     		mov	r4, r9
 8268              	.LVL858:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8269              		.loc 1 2039 15 view .LVU2712
 8270 01ae D2E7     		b	.L614
 8271              	.LVL859:
 8272              	.L638:
 8273              	.LBB88:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8274              		.loc 1 2085 27 view .LVU2713
 8275 01b0 0121     		movs	r1, #1
 8276              	.LVL860:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8277              		.loc 1 2085 27 view .LVU2714
 8278 01b2 F7E7     		b	.L616
 8279              	.LVL861:
 8280              	.L630:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8281              		.loc 1 2085 27 view .LVU2715
 8282              	.LBE88:
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8283              		.loc 1 2080 25 view .LVU2716
 8284 01b4 0021     		movs	r1, #0
 8285 01b6 F5E7     		b	.L616
 8286              	.L629:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8287              		.loc 1 2039 15 view .LVU2717
 8288 01b8 4C46     		mov	r4, r9
 8289              	.LVL862:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8290              		.loc 1 2039 15 view .LVU2718
 8291              	.LBE92:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8292              		.loc 1 1967 9 view .LVU2719
 8293 01ba 0023     		movs	r3, #0
 8294 01bc 0593     		str	r3, [sp, #20]
 8295 01be CAE7     		b	.L614
 8296              	.LVL863:
 8297              	.L619:
 8298              	.LBB93:
 8299              	.LBB89:
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8300              		.loc 1 2103 11 is_stmt 1 view .LVU2720
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8301              		.loc 1 2104 11 view .LVU2721
 8302 01c0 FFF7FEFF 		bl	sys_arch_protect
 8303              	.LVL864:
 8304 01c4 8146     		mov	r9, r0
 8305              	.LVL865:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
ARM GAS  /tmp/cc3tDhb2.s 			page 259


 8306              		.loc 1 2105 11 view .LVU2722
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8307              		.loc 1 2105 18 is_stmt 0 view .LVU2723
 8308 01c6 2846     		mov	r0, r5
 8309              	.LVL866:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8310              		.loc 1 2105 18 view .LVU2724
 8311 01c8 FFF7FEFF 		bl	tryget_socket_unconn_locked
 8312              	.LVL867:
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8313              		.loc 1 2106 11 is_stmt 1 view .LVU2725
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8314              		.loc 1 2106 14 is_stmt 0 view .LVU2726
 8315 01cc 8346     		mov	fp, r0
 8316 01ce B0B3     		cbz	r0, .L622
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8317              		.loc 1 2108 13 is_stmt 1 view .LVU2727
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8318              		.loc 1 2108 13 view .LVU2728
 8319 01d0 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 8320 01d2 63B3     		cbz	r3, .L639
 8321              	.LVL868:
 8322              	.L623:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8323              		.loc 1 2108 13 discriminator 3 view .LVU2729
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8324              		.loc 1 2108 13 discriminator 3 view .LVU2730
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8325              		.loc 1 2109 13 discriminator 3 view .LVU2731
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8326              		.loc 1 2109 21 is_stmt 0 discriminator 3 view .LVU2732
 8327 01d4 9BF80E30 		ldrb	r3, [fp, #14]	@ zero_extendqisi2
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8328              		.loc 1 2109 16 discriminator 3 view .LVU2733
 8329 01d8 13B1     		cbz	r3, .L624
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8330              		.loc 1 2110 15 is_stmt 1 view .LVU2734
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8331              		.loc 1 2110 35 is_stmt 0 view .LVU2735
 8332 01da 013B     		subs	r3, r3, #1
 8333 01dc 8BF80E30 		strb	r3, [fp, #14]
 8334              	.L624:
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8335              		.loc 1 2112 13 is_stmt 1 view .LVU2736
 8336 01e0 4846     		mov	r0, r9
 8337 01e2 FFF7FEFF 		bl	sys_arch_unprotect
 8338              	.LVL869:
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8339              		.loc 1 2113 30 view .LVU2737
 8340              	.L621:
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8341              		.loc 1 2118 13 discriminator 3 view .LVU2738
 8342              	.LBE89:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8343              		.loc 1 2099 49 discriminator 3 view .LVU2739
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8344              		.loc 1 2099 50 is_stmt 0 discriminator 3 view .LVU2740
ARM GAS  /tmp/cc3tDhb2.s 			page 260


 8345 01e6 0135     		adds	r5, r5, #1
 8346              	.LVL870:
 8347              	.L617:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8348              		.loc 1 2099 36 is_stmt 1 discriminator 2 view .LVU2741
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8349              		.loc 1 2099 7 is_stmt 0 discriminator 2 view .LVU2742
 8350 01e8 A542     		cmp	r5, r4
 8351 01ea 31DA     		bge	.L640
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8352              		.loc 1 2100 9 is_stmt 1 view .LVU2743
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8353              		.loc 1 2100 12 is_stmt 0 view .LVU2744
 8354 01ec 46B1     		cbz	r6, .L618
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8355              		.loc 1 2100 25 discriminator 1 view .LVU2745
 8356 01ee 6B09     		lsrs	r3, r5, #5
 8357 01f0 56F82320 		ldr	r2, [r6, r3, lsl #2]
 8358 01f4 05F01F01 		and	r1, r5, #31
 8359 01f8 0123     		movs	r3, #1
 8360 01fa 8B40     		lsls	r3, r3, r1
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8361              		.loc 1 2100 22 discriminator 1 view .LVU2746
 8362 01fc 1A42     		tst	r2, r3
 8363 01fe DFD1     		bne	.L619
 8364              	.L618:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8365              		.loc 1 2100 47 discriminator 3 view .LVU2747
 8366 0200 47B1     		cbz	r7, .L620
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8367              		.loc 1 2101 26 view .LVU2748
 8368 0202 6B09     		lsrs	r3, r5, #5
 8369 0204 57F82320 		ldr	r2, [r7, r3, lsl #2]
 8370 0208 05F01F01 		and	r1, r5, #31
 8371 020c 0123     		movs	r3, #1
 8372 020e 8B40     		lsls	r3, r3, r1
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8373              		.loc 1 2101 23 view .LVU2749
 8374 0210 1A42     		tst	r2, r3
 8375 0212 D5D1     		bne	.L619
 8376              	.L620:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8377              		.loc 1 2101 49 discriminator 1 view .LVU2750
 8378 0214 B8F1000F 		cmp	r8, #0
 8379 0218 E5D0     		beq	.L621
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8380              		.loc 1 2102 27 view .LVU2751
 8381 021a 6B09     		lsrs	r3, r5, #5
 8382 021c 58F82320 		ldr	r2, [r8, r3, lsl #2]
 8383 0220 05F01F01 		and	r1, r5, #31
 8384 0224 0123     		movs	r3, #1
 8385 0226 8B40     		lsls	r3, r3, r1
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8386              		.loc 1 2102 24 view .LVU2752
 8387 0228 1A42     		tst	r2, r3
 8388 022a DCD0     		beq	.L621
 8389 022c C8E7     		b	.L619
ARM GAS  /tmp/cc3tDhb2.s 			page 261


 8390              	.LVL871:
 8391              	.L639:
 8392              	.LBB90:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8393              		.loc 1 2108 13 is_stmt 1 discriminator 1 view .LVU2753
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8394              		.loc 1 2108 13 discriminator 1 view .LVU2754
 8395 022e 1A4B     		ldr	r3, .L641+8
 8396 0230 40F63C02 		movw	r2, #2108
 8397 0234 1949     		ldr	r1, .L641+12
 8398 0236 1A48     		ldr	r0, .L641+16
 8399              	.LVL872:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8400              		.loc 1 2108 13 is_stmt 0 discriminator 1 view .LVU2755
 8401 0238 FFF7FEFF 		bl	printf
 8402              	.LVL873:
 8403 023c CAE7     		b	.L623
 8404              	.LVL874:
 8405              	.L622:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8406              		.loc 1 2115 13 is_stmt 1 view .LVU2756
 8407 023e 4846     		mov	r0, r9
 8408              	.LVL875:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8409              		.loc 1 2115 13 is_stmt 0 view .LVU2757
 8410 0240 FFF7FEFF 		bl	sys_arch_unprotect
 8411              	.LVL876:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8412              		.loc 1 2117 13 is_stmt 1 view .LVU2758
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8413              		.loc 1 2118 13 view .LVU2759
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8414              		.loc 1 2118 13 view .LVU2760
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8415              		.loc 1 2118 13 view .LVU2761
 8416 0244 124B     		ldr	r3, .L641
 8417 0246 0922     		movs	r2, #9
 8418 0248 1A60     		str	r2, [r3]
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8419              		.loc 1 2117 20 is_stmt 0 view .LVU2762
 8420 024a 4FF0FF3A 		mov	r10, #-1
 8421 024e CAE7     		b	.L621
 8422              	.LVL877:
 8423              	.L640:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8424              		.loc 1 2117 20 view .LVU2763
 8425 0250 DDF81090 		ldr	r9, [sp, #16]
 8426              	.LBE90:
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8427              		.loc 1 2123 7 is_stmt 1 view .LVU2764
 8428 0254 07A8     		add	r0, sp, #28
 8429 0256 FFF7FEFF 		bl	lwip_unlink_select_cb
 8430              	.LVL878:
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8431              		.loc 1 2131 7 view .LVU2765
 8432 025a 0FA8     		add	r0, sp, #60
 8433 025c FFF7FEFF 		bl	sys_sem_free
ARM GAS  /tmp/cc3tDhb2.s 			page 262


 8434              	.LVL879:
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8435              		.loc 1 2133 40 view .LVU2766
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8436              		.loc 1 2135 7 view .LVU2767
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8437              		.loc 1 2135 10 is_stmt 0 view .LVU2768
 8438 0260 BAF1000F 		cmp	r10, #0
 8439 0264 FFF629AF 		blt	.L606
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8440              		.loc 1 2141 7 is_stmt 1 view .LVU2769
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8441              		.loc 1 2141 10 is_stmt 0 view .LVU2770
 8442 0268 059B     		ldr	r3, [sp, #20]
 8443 026a B3F1FF3F 		cmp	r3, #-1
 8444 026e 3FF4E0AE 		beq	.L603
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8445              		.loc 1 2148 9 is_stmt 1 view .LVU2771
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8446              		.loc 1 2148 18 is_stmt 0 view .LVU2772
 8447 0272 10AB     		add	r3, sp, #64
 8448 0274 0293     		str	r3, [sp, #8]
 8449 0276 12AB     		add	r3, sp, #72
 8450 0278 0193     		str	r3, [sp, #4]
 8451 027a 14AB     		add	r3, sp, #80
 8452 027c 0093     		str	r3, [sp]
 8453 027e 4346     		mov	r3, r8
 8454 0280 3A46     		mov	r2, r7
 8455 0282 3146     		mov	r1, r6
 8456 0284 4846     		mov	r0, r9
 8457 0286 FFF7FEFF 		bl	lwip_selscan
 8458              	.LVL880:
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8459              		.loc 1 2148 18 view .LVU2773
 8460 028a 8246     		mov	r10, r0
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8461              		.loc 1 2149 73 is_stmt 1 view .LVU2774
 8462 028c D1E6     		b	.L603
 8463              	.L642:
 8464 028e 00BF     		.align	2
 8465              	.L641:
 8466 0290 00000000 		.word	errno
 8467 0294 D34D6210 		.word	274877907
 8468 0298 00000000 		.word	.LC0
 8469 029c 00000000 		.word	.LC5
 8470 02a0 48000000 		.word	.LC2
 8471              	.LBE93:
 8472              		.cfi_endproc
 8473              	.LFE194:
 8475              		.section	.rodata.lwip_poll.str1.4,"aMS",%progbits,1
 8476              		.align	2
 8477              	.LC34:
 8478 0000 6C776970 		.ascii	"lwip_poll: invalid fds\000"
 8478      5F706F6C 
 8478      6C3A2069 
 8478      6E76616C 
 8478      69642066 
ARM GAS  /tmp/cc3tDhb2.s 			page 263


 8479 0017 00       		.align	2
 8480              	.LC35:
 8481 0018 74696D65 		.ascii	"timeout > 0\000"
 8481      6F757420 
 8481      3E203000 
 8482              		.section	.text.lwip_poll,"ax",%progbits
 8483              		.align	1
 8484              		.global	lwip_poll
 8485              		.syntax unified
 8486              		.thumb
 8487              		.thumb_func
 8488              		.fpu fpv4-sp-d16
 8490              	lwip_poll:
 8491              	.LVL881:
 8492              	.LFB196:
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8493              		.loc 1 2320 1 view -0
 8494              		.cfi_startproc
 8495              		@ args = 0, pretend = 0, frame = 40
 8496              		@ frame_needed = 0, uses_anonymous_args = 0
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8497              		.loc 1 2320 1 is_stmt 0 view .LVU2776
 8498 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 8499              	.LCFI106:
 8500              		.cfi_def_cfa_offset 20
 8501              		.cfi_offset 4, -20
 8502              		.cfi_offset 5, -16
 8503              		.cfi_offset 6, -12
 8504              		.cfi_offset 7, -8
 8505              		.cfi_offset 14, -4
 8506 0002 8BB0     		sub	sp, sp, #44
 8507              	.LCFI107:
 8508              		.cfi_def_cfa_offset 64
 8509 0004 0D46     		mov	r5, r1
 8510 0006 1646     		mov	r6, r2
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8511              		.loc 1 2321 3 is_stmt 1 view .LVU2777
 8512              	.LVL882:
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 8513              		.loc 1 2322 3 view .LVU2778
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8514              		.loc 1 2323 3 view .LVU2779
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
 8515              		.loc 1 2329 51 view .LVU2780
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8516              		.loc 1 2330 3 view .LVU2781
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8517              		.loc 1 2330 3 view .LVU2782
 8518 0008 0746     		mov	r7, r0
 8519 000a 00B1     		cbz	r0, .L644
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8520              		.loc 1 2330 3 is_stmt 0 discriminator 2 view .LVU2783
 8521 000c 09B9     		cbnz	r1, .L645
 8522              	.L644:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8523              		.loc 1 2330 3 discriminator 3 view .LVU2784
 8524 000e 67B9     		cbnz	r7, .L646
ARM GAS  /tmp/cc3tDhb2.s 			page 264


2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8525              		.loc 1 2330 3 discriminator 6 view .LVU2785
 8526 0010 5DB9     		cbnz	r5, .L646
 8527              	.L645:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8528              		.loc 1 2330 3 is_stmt 1 discriminator 8 view .LVU2786
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8529              		.loc 1 2330 3 discriminator 8 view .LVU2787
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8530              		.loc 1 2333 40 discriminator 8 view .LVU2788
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8531              		.loc 1 2337 3 discriminator 8 view .LVU2789
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8532              		.loc 1 2337 12 is_stmt 0 discriminator 8 view .LVU2790
 8533 0012 0122     		movs	r2, #1
 8534              	.LVL883:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8535              		.loc 1 2337 12 discriminator 8 view .LVU2791
 8536 0014 2946     		mov	r1, r5
 8537              	.LVL884:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8538              		.loc 1 2337 12 discriminator 8 view .LVU2792
 8539 0016 3846     		mov	r0, r7
 8540              	.LVL885:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8541              		.loc 1 2337 12 discriminator 8 view .LVU2793
 8542 0018 FFF7FEFF 		bl	lwip_pollscan
 8543              	.LVL886:
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8544              		.loc 1 2339 3 is_stmt 1 discriminator 8 view .LVU2794
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8545              		.loc 1 2339 6 is_stmt 0 discriminator 8 view .LVU2795
 8546 001c 041E     		subs	r4, r0, #0
 8547 001e 4CDB     		blt	.L654
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8548              		.loc 1 2345 3 is_stmt 1 view .LVU2796
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8549              		.loc 1 2345 6 is_stmt 0 view .LVU2797
 8550 0020 04B9     		cbnz	r4, .L643
 8551              	.LBB94:
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8552              		.loc 1 2346 5 is_stmt 1 view .LVU2798
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8553              		.loc 1 2348 5 view .LVU2799
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8554              		.loc 1 2348 8 is_stmt 0 view .LVU2800
 8555 0022 7EB9     		cbnz	r6, .L658
 8556              	.LVL887:
 8557              	.L643:
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8558              		.loc 1 2348 8 view .LVU2801
 8559              	.LBE94:
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8560              		.loc 1 2431 1 view .LVU2802
 8561 0024 2046     		mov	r0, r4
 8562 0026 0BB0     		add	sp, sp, #44
 8563              	.LCFI108:
ARM GAS  /tmp/cc3tDhb2.s 			page 265


 8564              		.cfi_remember_state
 8565              		.cfi_def_cfa_offset 20
 8566              		@ sp needed
 8567 0028 F0BD     		pop	{r4, r5, r6, r7, pc}
 8568              	.LVL888:
 8569              	.L646:
 8570              	.LCFI109:
 8571              		.cfi_restore_state
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8572              		.loc 1 2330 3 is_stmt 1 discriminator 7 view .LVU2803
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8573              		.loc 1 2330 3 discriminator 7 view .LVU2804
 8574 002a 254B     		ldr	r3, .L661
 8575 002c 40F61A12 		movw	r2, #2330
 8576              	.LVL889:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8577              		.loc 1 2330 3 is_stmt 0 discriminator 7 view .LVU2805
 8578 0030 2449     		ldr	r1, .L661+4
 8579              	.LVL890:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8580              		.loc 1 2330 3 discriminator 7 view .LVU2806
 8581 0032 2548     		ldr	r0, .L661+8
 8582              	.LVL891:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8583              		.loc 1 2330 3 discriminator 7 view .LVU2807
 8584 0034 FFF7FEFF 		bl	printf
 8585              	.LVL892:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8586              		.loc 1 2330 3 is_stmt 1 discriminator 7 view .LVU2808
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8587              		.loc 1 2330 3 discriminator 7 view .LVU2809
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8588              		.loc 1 2330 3 discriminator 7 view .LVU2810
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8589              		.loc 1 2330 3 discriminator 7 view .LVU2811
 8590 0038 244B     		ldr	r3, .L661+12
 8591 003a 1622     		movs	r2, #22
 8592 003c 1A60     		str	r2, [r3]
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8593              		.loc 1 2330 3 discriminator 7 view .LVU2812
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8594              		.loc 1 2330 3 discriminator 7 view .LVU2813
 8595 003e 4FF0FF34 		mov	r4, #-1
 8596 0042 EFE7     		b	.L643
 8597              	.LVL893:
 8598              	.L658:
 8599              	.LBB95:
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8600              		.loc 1 2352 108 view .LVU2814
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8601              		.loc 1 2353 5 view .LVU2815
 8602 0044 2422     		movs	r2, #36
 8603 0046 0021     		movs	r1, #0
 8604 0048 01A8     		add	r0, sp, #4
 8605              	.LVL894:
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8606              		.loc 1 2353 5 is_stmt 0 view .LVU2816
ARM GAS  /tmp/cc3tDhb2.s 			page 266


 8607 004a FFF7FEFF 		bl	memset
 8608              	.LVL895:
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8609              		.loc 1 2360 5 is_stmt 1 view .LVU2817
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8610              		.loc 1 2360 47 is_stmt 0 view .LVU2818
 8611 004e 0697     		str	r7, [sp, #24]
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8612              		.loc 1 2361 5 is_stmt 1 view .LVU2819
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8613              		.loc 1 2361 48 is_stmt 0 view .LVU2820
 8614 0050 0795     		str	r5, [sp, #28]
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8615              		.loc 1 2365 5 is_stmt 1 view .LVU2821
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8616              		.loc 1 2365 9 is_stmt 0 view .LVU2822
 8617 0052 0021     		movs	r1, #0
 8618 0054 09A8     		add	r0, sp, #36
 8619 0056 FFF7FEFF 		bl	sys_sem_new
 8620              	.LVL896:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8621              		.loc 1 2365 8 view .LVU2823
 8622 005a F0B9     		cbnz	r0, .L659
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8623              		.loc 1 2374 5 is_stmt 1 view .LVU2824
 8624 005c 01A8     		add	r0, sp, #4
 8625 005e FFF7FEFF 		bl	lwip_link_select_cb
 8626              	.LVL897:
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8627              		.loc 1 2379 5 view .LVU2825
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8628              		.loc 1 2379 14 is_stmt 0 view .LVU2826
 8629 0062 0222     		movs	r2, #2
 8630 0064 2946     		mov	r1, r5
 8631 0066 3846     		mov	r0, r7
 8632 0068 FFF7FEFF 		bl	lwip_pollscan
 8633              	.LVL898:
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8634              		.loc 1 2381 5 is_stmt 1 view .LVU2827
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8635              		.loc 1 2381 8 is_stmt 0 view .LVU2828
 8636 006c 30B9     		cbnz	r0, .L651
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8637              		.loc 1 2383 7 is_stmt 1 view .LVU2829
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8638              		.loc 1 2383 10 is_stmt 0 view .LVU2830
 8639 006e 002E     		cmp	r6, #0
 8640 0070 21DB     		blt	.L656
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8641              		.loc 1 2388 9 is_stmt 1 view .LVU2831
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8642              		.loc 1 2388 9 view .LVU2832
 8643 0072 18DD     		ble	.L660
 8644              	.LVL899:
 8645              	.L653:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8646              		.loc 1 2388 9 discriminator 3 view .LVU2833
ARM GAS  /tmp/cc3tDhb2.s 			page 267


2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8647              		.loc 1 2388 9 discriminator 3 view .LVU2834
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8648              		.loc 1 2389 9 discriminator 3 view .LVU2835
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8649              		.loc 1 2389 21 is_stmt 0 discriminator 3 view .LVU2836
 8650 0074 3146     		mov	r1, r6
 8651              	.LVL900:
 8652              	.L652:
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8653              		.loc 1 2391 7 is_stmt 1 view .LVU2837
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8654              		.loc 1 2391 17 is_stmt 0 view .LVU2838
 8655 0076 09A8     		add	r0, sp, #36
 8656 0078 FFF7FEFF 		bl	sys_arch_sem_wait
 8657              	.LVL901:
 8658              	.L651:
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8659              		.loc 1 2399 5 is_stmt 1 view .LVU2839
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8660              		.loc 1 2399 14 is_stmt 0 view .LVU2840
 8661 007c 0422     		movs	r2, #4
 8662 007e 2946     		mov	r1, r5
 8663 0080 3846     		mov	r0, r7
 8664 0082 FFF7FEFF 		bl	lwip_pollscan
 8665              	.LVL902:
 8666 0086 0446     		mov	r4, r0
 8667              	.LVL903:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8668              		.loc 1 2401 5 is_stmt 1 view .LVU2841
 8669 0088 01A8     		add	r0, sp, #4
 8670              	.LVL904:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8671              		.loc 1 2401 5 is_stmt 0 view .LVU2842
 8672 008a FFF7FEFF 		bl	lwip_unlink_select_cb
 8673              	.LVL905:
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8674              		.loc 1 2409 5 is_stmt 1 view .LVU2843
 8675 008e 09A8     		add	r0, sp, #36
 8676 0090 FFF7FEFF 		bl	sys_sem_free
 8677              	.LVL906:
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8678              		.loc 1 2411 38 view .LVU2844
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8679              		.loc 1 2413 5 view .LVU2845
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8680              		.loc 1 2413 8 is_stmt 0 view .LVU2846
 8681 0094 002C     		cmp	r4, #0
 8682 0096 C5DA     		bge	.L643
 8683 0098 02E0     		b	.L650
 8684              	.LVL907:
 8685              	.L659:
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8686              		.loc 1 2367 7 is_stmt 1 discriminator 1 view .LVU2847
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8687              		.loc 1 2367 7 discriminator 1 view .LVU2848
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
ARM GAS  /tmp/cc3tDhb2.s 			page 268


 8688              		.loc 1 2367 7 discriminator 1 view .LVU2849
 8689 009a 0C4B     		ldr	r3, .L661+12
 8690 009c 0B22     		movs	r2, #11
 8691 009e 1A60     		str	r2, [r3]
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8692              		.loc 1 2367 7 discriminator 1 view .LVU2850
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
 8693              		.loc 1 2368 44 discriminator 1 view .LVU2851
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 8694              		.loc 1 2369 40 discriminator 1 view .LVU2852
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8695              		.loc 1 2370 7 discriminator 1 view .LVU2853
 8696              	.LVL908:
 8697              	.L650:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8698              		.loc 1 2370 14 is_stmt 0 discriminator 1 view .LVU2854
 8699 00a0 4FF0FF34 		mov	r4, #-1
 8700              	.LVL909:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8701              		.loc 1 2370 14 discriminator 1 view .LVU2855
 8702 00a4 BEE7     		b	.L643
 8703              	.LVL910:
 8704              	.L660:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8705              		.loc 1 2388 9 is_stmt 1 discriminator 1 view .LVU2856
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8706              		.loc 1 2388 9 discriminator 1 view .LVU2857
 8707 00a6 064B     		ldr	r3, .L661
 8708 00a8 40F65412 		movw	r2, #2388
 8709 00ac 0849     		ldr	r1, .L661+16
 8710 00ae 0648     		ldr	r0, .L661+8
 8711              	.LVL911:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8712              		.loc 1 2388 9 is_stmt 0 discriminator 1 view .LVU2858
 8713 00b0 FFF7FEFF 		bl	printf
 8714              	.LVL912:
 8715 00b4 DEE7     		b	.L653
 8716              	.LVL913:
 8717              	.L656:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8718              		.loc 1 2385 21 view .LVU2859
 8719 00b6 0021     		movs	r1, #0
 8720 00b8 DDE7     		b	.L652
 8721              	.L654:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8722              		.loc 1 2385 21 view .LVU2860
 8723              	.LBE95:
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8724              		.loc 1 2341 12 view .LVU2861
 8725 00ba 4FF0FF34 		mov	r4, #-1
 8726              	.LVL914:
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8727              		.loc 1 2341 12 view .LVU2862
 8728 00be B1E7     		b	.L643
 8729              	.L662:
 8730              		.align	2
 8731              	.L661:
ARM GAS  /tmp/cc3tDhb2.s 			page 269


 8732 00c0 00000000 		.word	.LC0
 8733 00c4 00000000 		.word	.LC34
 8734 00c8 48000000 		.word	.LC2
 8735 00cc 00000000 		.word	errno
 8736 00d0 18000000 		.word	.LC35
 8737              		.cfi_endproc
 8738              	.LFE196:
 8740              		.section	.text.lwip_shutdown,"ax",%progbits
 8741              		.align	1
 8742              		.global	lwip_shutdown
 8743              		.syntax unified
 8744              		.thumb
 8745              		.thumb_func
 8746              		.fpu fpv4-sp-d16
 8748              	lwip_shutdown:
 8749              	.LVL915:
 8750              	.LFB200:
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8751              		.loc 1 2656 1 is_stmt 1 view -0
 8752              		.cfi_startproc
 8753              		@ args = 0, pretend = 0, frame = 0
 8754              		@ frame_needed = 0, uses_anonymous_args = 0
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8755              		.loc 1 2656 1 is_stmt 0 view .LVU2864
 8756 0000 10B5     		push	{r4, lr}
 8757              	.LCFI110:
 8758              		.cfi_def_cfa_offset 8
 8759              		.cfi_offset 4, -8
 8760              		.cfi_offset 14, -4
 8761 0002 0C46     		mov	r4, r1
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 8762              		.loc 1 2657 3 is_stmt 1 view .LVU2865
2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
 8763              		.loc 1 2658 3 view .LVU2866
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8764              		.loc 1 2659 3 view .LVU2867
 8765              	.LVL916:
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8766              		.loc 1 2661 70 view .LVU2868
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8767              		.loc 1 2663 3 view .LVU2869
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8768              		.loc 1 2663 10 is_stmt 0 view .LVU2870
 8769 0004 FFF7FEFF 		bl	get_socket
 8770              	.LVL917:
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8771              		.loc 1 2664 3 is_stmt 1 view .LVU2871
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8772              		.loc 1 2664 6 is_stmt 0 view .LVU2872
 8773 0008 80B3     		cbz	r0, .L669
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8774              		.loc 1 2668 3 is_stmt 1 view .LVU2873
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8775              		.loc 1 2668 11 is_stmt 0 view .LVU2874
 8776 000a 0068     		ldr	r0, [r0]
 8777              	.LVL918:
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
ARM GAS  /tmp/cc3tDhb2.s 			page 270


 8778              		.loc 1 2668 6 view .LVU2875
 8779 000c E0B1     		cbz	r0, .L665
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8780              		.loc 1 2669 5 is_stmt 1 view .LVU2876
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8781              		.loc 1 2669 9 is_stmt 0 view .LVU2877
 8782 000e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8783              		.loc 1 2669 8 view .LVU2878
 8784 0010 03F0F003 		and	r3, r3, #240
 8785 0014 102B     		cmp	r3, #16
 8786 0016 11D1     		bne	.L675
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8787              		.loc 1 2680 3 is_stmt 1 view .LVU2879
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8788              		.loc 1 2680 6 is_stmt 0 view .LVU2880
 8789 0018 14B3     		cbz	r4, .L670
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8790              		.loc 1 2682 10 is_stmt 1 view .LVU2881
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8791              		.loc 1 2682 13 is_stmt 0 view .LVU2882
 8792 001a 012C     		cmp	r4, #1
 8793 001c 23D0     		beq	.L671
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8794              		.loc 1 2684 10 is_stmt 1 view .LVU2883
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8795              		.loc 1 2684 13 is_stmt 0 view .LVU2884
 8796 001e 022C     		cmp	r4, #2
 8797 0020 18D1     		bne	.L676
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 8798              		.loc 1 2686 13 view .LVU2885
 8799 0022 0122     		movs	r2, #1
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8800              		.loc 1 2685 13 view .LVU2886
 8801 0024 1146     		mov	r1, r2
 8802              	.L667:
 8803              	.LVL919:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8804              		.loc 1 2692 3 is_stmt 1 view .LVU2887
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8805              		.loc 1 2692 9 is_stmt 0 view .LVU2888
 8806 0026 FFF7FEFF 		bl	netconn_shutdown
 8807              	.LVL920:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8808              		.loc 1 2692 9 view .LVU2889
 8809 002a 0446     		mov	r4, r0
 8810              	.LVL921:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8811              		.loc 1 2694 3 is_stmt 1 view .LVU2890
 8812              	.LBB96:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8813              		.loc 1 2694 3 view .LVU2891
 8814 002c FFF7FEFF 		bl	err_to_errno
 8815              	.LVL922:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8816              		.loc 1 2694 3 view .LVU2892
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  /tmp/cc3tDhb2.s 			page 271


 8817              		.loc 1 2694 3 view .LVU2893
 8818 0030 08B1     		cbz	r0, .L668
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8819              		.loc 1 2694 3 discriminator 1 view .LVU2894
 8820 0032 114A     		ldr	r2, .L677
 8821 0034 1060     		str	r0, [r2]
 8822              	.L668:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8823              		.loc 1 2694 3 discriminator 3 view .LVU2895
 8824              	.LBE96:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8825              		.loc 1 2694 3 discriminator 3 view .LVU2896
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 8826              		.loc 1 2695 20 discriminator 3 view .LVU2897
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8827              		.loc 1 2696 3 discriminator 3 view .LVU2898
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8828              		.loc 1 2696 29 is_stmt 0 discriminator 3 view .LVU2899
 8829 0036 E4B9     		cbnz	r4, .L673
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8830              		.loc 1 2696 29 view .LVU2900
 8831 0038 0020     		movs	r0, #0
 8832              	.LVL923:
 8833              	.L663:
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8834              		.loc 1 2697 1 view .LVU2901
 8835 003a 10BD     		pop	{r4, pc}
 8836              	.LVL924:
 8837              	.L675:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8838              		.loc 1 2670 7 is_stmt 1 view .LVU2902
 8839              	.LBB97:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8840              		.loc 1 2670 7 view .LVU2903
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8841              		.loc 1 2670 7 view .LVU2904
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8842              		.loc 1 2670 7 view .LVU2905
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8843              		.loc 1 2670 7 view .LVU2906
 8844 003c 0E4B     		ldr	r3, .L677
 8845 003e 5F22     		movs	r2, #95
 8846 0040 1A60     		str	r2, [r3]
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8847              		.loc 1 2670 7 view .LVU2907
 8848              	.LBE97:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8849              		.loc 1 2670 7 view .LVU2908
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 8850              		.loc 1 2671 24 view .LVU2909
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8851              		.loc 1 2672 7 view .LVU2910
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8852              		.loc 1 2672 14 is_stmt 0 view .LVU2911
 8853 0042 4FF0FF30 		mov	r0, #-1
 8854 0046 F8E7     		b	.L663
 8855              	.LVL925:
ARM GAS  /tmp/cc3tDhb2.s 			page 272


 8856              	.L665:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8857              		.loc 1 2675 5 is_stmt 1 view .LVU2912
 8858              	.LBB98:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8859              		.loc 1 2675 5 view .LVU2913
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8860              		.loc 1 2675 5 view .LVU2914
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8861              		.loc 1 2675 5 view .LVU2915
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8862              		.loc 1 2675 5 view .LVU2916
 8863 0048 0B4B     		ldr	r3, .L677
 8864 004a 6B22     		movs	r2, #107
 8865 004c 1A60     		str	r2, [r3]
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8866              		.loc 1 2675 5 view .LVU2917
 8867              	.LBE98:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8868              		.loc 1 2675 5 view .LVU2918
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8869              		.loc 1 2676 22 view .LVU2919
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8870              		.loc 1 2677 5 view .LVU2920
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8871              		.loc 1 2677 12 is_stmt 0 view .LVU2921
 8872 004e 4FF0FF30 		mov	r0, #-1
 8873 0052 F2E7     		b	.L663
 8874              	.LVL926:
 8875              	.L676:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8876              		.loc 1 2688 5 is_stmt 1 view .LVU2922
 8877              	.LBB99:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8878              		.loc 1 2688 5 view .LVU2923
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8879              		.loc 1 2688 5 view .LVU2924
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8880              		.loc 1 2688 5 view .LVU2925
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8881              		.loc 1 2688 5 view .LVU2926
 8882 0054 084B     		ldr	r3, .L677
 8883 0056 1622     		movs	r2, #22
 8884 0058 1A60     		str	r2, [r3]
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8885              		.loc 1 2688 5 view .LVU2927
 8886              	.LBE99:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8887              		.loc 1 2688 5 view .LVU2928
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8888              		.loc 1 2689 22 view .LVU2929
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8889              		.loc 1 2690 5 view .LVU2930
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8890              		.loc 1 2690 12 is_stmt 0 view .LVU2931
 8891 005a 4FF0FF30 		mov	r0, #-1
 8892 005e ECE7     		b	.L663
ARM GAS  /tmp/cc3tDhb2.s 			page 273


 8893              	.LVL927:
 8894              	.L670:
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8895              		.loc 1 2659 21 view .LVU2932
 8896 0060 0022     		movs	r2, #0
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
 8897              		.loc 1 2681 13 view .LVU2933
 8898 0062 0121     		movs	r1, #1
 8899 0064 DFE7     		b	.L667
 8900              	.L671:
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
 8901              		.loc 1 2683 13 view .LVU2934
 8902 0066 0122     		movs	r2, #1
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8903              		.loc 1 2659 8 view .LVU2935
 8904 0068 0021     		movs	r1, #0
 8905 006a DCE7     		b	.L667
 8906              	.LVL928:
 8907              	.L669:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8908              		.loc 1 2665 12 view .LVU2936
 8909 006c 4FF0FF30 		mov	r0, #-1
 8910              	.LVL929:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8911              		.loc 1 2665 12 view .LVU2937
 8912 0070 E3E7     		b	.L663
 8913              	.LVL930:
 8914              	.L673:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8915              		.loc 1 2696 29 view .LVU2938
 8916 0072 4FF0FF30 		mov	r0, #-1
 8917              	.LVL931:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8918              		.loc 1 2696 29 view .LVU2939
 8919 0076 E0E7     		b	.L663
 8920              	.L678:
 8921              		.align	2
 8922              	.L677:
 8923 0078 00000000 		.word	errno
 8924              		.cfi_endproc
 8925              	.LFE200:
 8927              		.section	.text.lwip_getpeername,"ax",%progbits
 8928              		.align	1
 8929              		.global	lwip_getpeername
 8930              		.syntax unified
 8931              		.thumb
 8932              		.thumb_func
 8933              		.fpu fpv4-sp-d16
 8935              	lwip_getpeername:
 8936              	.LVL932:
 8937              	.LFB202:
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 8938              		.loc 1 2748 1 is_stmt 1 view -0
 8939              		.cfi_startproc
 8940              		@ args = 0, pretend = 0, frame = 0
 8941              		@ frame_needed = 0, uses_anonymous_args = 0
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
ARM GAS  /tmp/cc3tDhb2.s 			page 274


 8942              		.loc 1 2748 1 is_stmt 0 view .LVU2941
 8943 0000 08B5     		push	{r3, lr}
 8944              	.LCFI111:
 8945              		.cfi_def_cfa_offset 8
 8946              		.cfi_offset 3, -8
 8947              		.cfi_offset 14, -4
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8948              		.loc 1 2749 3 is_stmt 1 view .LVU2942
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8949              		.loc 1 2749 10 is_stmt 0 view .LVU2943
 8950 0002 0023     		movs	r3, #0
 8951 0004 FFF7FEFF 		bl	lwip_getaddrname
 8952              	.LVL933:
2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8953              		.loc 1 2750 1 view .LVU2944
 8954 0008 08BD     		pop	{r3, pc}
 8955              		.cfi_endproc
 8956              	.LFE202:
 8958              		.section	.text.lwip_getsockname,"ax",%progbits
 8959              		.align	1
 8960              		.global	lwip_getsockname
 8961              		.syntax unified
 8962              		.thumb
 8963              		.thumb_func
 8964              		.fpu fpv4-sp-d16
 8966              	lwip_getsockname:
 8967              	.LVL934:
 8968              	.LFB203:
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 8969              		.loc 1 2754 1 is_stmt 1 view -0
 8970              		.cfi_startproc
 8971              		@ args = 0, pretend = 0, frame = 0
 8972              		@ frame_needed = 0, uses_anonymous_args = 0
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 8973              		.loc 1 2754 1 is_stmt 0 view .LVU2946
 8974 0000 08B5     		push	{r3, lr}
 8975              	.LCFI112:
 8976              		.cfi_def_cfa_offset 8
 8977              		.cfi_offset 3, -8
 8978              		.cfi_offset 14, -4
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8979              		.loc 1 2755 3 is_stmt 1 view .LVU2947
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8980              		.loc 1 2755 10 is_stmt 0 view .LVU2948
 8981 0002 0123     		movs	r3, #1
 8982 0004 FFF7FEFF 		bl	lwip_getaddrname
 8983              	.LVL935:
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8984              		.loc 1 2756 1 view .LVU2949
 8985 0008 08BD     		pop	{r3, pc}
 8986              		.cfi_endproc
 8987              	.LFE203:
 8989              		.section	.text.lwip_getsockopt,"ax",%progbits
 8990              		.align	1
 8991              		.global	lwip_getsockopt
 8992              		.syntax unified
 8993              		.thumb
ARM GAS  /tmp/cc3tDhb2.s 			page 275


 8994              		.thumb_func
 8995              		.fpu fpv4-sp-d16
 8997              	lwip_getsockopt:
 8998              	.LVL936:
 8999              	.LFB204:
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9000              		.loc 1 2760 1 is_stmt 1 view -0
 9001              		.cfi_startproc
 9002              		@ args = 4, pretend = 0, frame = 0
 9003              		@ frame_needed = 0, uses_anonymous_args = 0
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9004              		.loc 1 2760 1 is_stmt 0 view .LVU2951
 9005 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9006              	.LCFI113:
 9007              		.cfi_def_cfa_offset 28
 9008              		.cfi_offset 4, -28
 9009              		.cfi_offset 5, -24
 9010              		.cfi_offset 6, -20
 9011              		.cfi_offset 7, -16
 9012              		.cfi_offset 8, -12
 9013              		.cfi_offset 9, -8
 9014              		.cfi_offset 14, -4
 9015 0004 83B0     		sub	sp, sp, #12
 9016              	.LCFI114:
 9017              		.cfi_def_cfa_offset 40
 9018 0006 0546     		mov	r5, r0
 9019 0008 0E46     		mov	r6, r1
 9020 000a 1746     		mov	r7, r2
 9021 000c 1C46     		mov	r4, r3
 9022 000e DDF82880 		ldr	r8, [sp, #40]
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9023              		.loc 1 2761 3 is_stmt 1 view .LVU2952
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9024              		.loc 1 2762 3 view .LVU2953
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9025              		.loc 1 2762 28 is_stmt 0 view .LVU2954
 9026 0012 FFF7FEFF 		bl	get_socket
 9027              	.LVL937:
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9028              		.loc 1 2768 3 is_stmt 1 view .LVU2955
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9029              		.loc 1 2768 6 is_stmt 0 view .LVU2956
 9030 0016 28B3     		cbz	r0, .L688
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9031              		.loc 1 2772 3 is_stmt 1 view .LVU2957
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9032              		.loc 1 2772 6 is_stmt 0 view .LVU2958
 9033 0018 DCB1     		cbz	r4, .L685
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9034              		.loc 1 2772 24 discriminator 1 view .LVU2959
 9035 001a B8F1000F 		cmp	r8, #0
 9036 001e 18D0     		beq	.L685
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9037              		.loc 1 2780 3 is_stmt 1 view .LVU2960
 9038 0020 DFF84C90 		ldr	r9, .L691+4
 9039 0024 4846     		mov	r0, r9
 9040              	.LVL938:
ARM GAS  /tmp/cc3tDhb2.s 			page 276


2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9041              		.loc 1 2780 3 is_stmt 0 view .LVU2961
 9042 0026 FFF7FEFF 		bl	sys_mutex_lock
 9043              	.LVL939:
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9044              		.loc 1 2781 3 is_stmt 1 view .LVU2962
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9045              		.loc 1 2781 9 is_stmt 0 view .LVU2963
 9046 002a CDF80080 		str	r8, [sp]
 9047 002e 2346     		mov	r3, r4
 9048 0030 3A46     		mov	r2, r7
 9049 0032 3146     		mov	r1, r6
 9050 0034 2846     		mov	r0, r5
 9051 0036 FFF7FEFF 		bl	lwip_getsockopt_impl
 9052              	.LVL940:
 9053 003a 0446     		mov	r4, r0
 9054              	.LVL941:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9055              		.loc 1 2782 3 is_stmt 1 view .LVU2964
 9056 003c 4846     		mov	r0, r9
 9057              	.LVL942:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9058              		.loc 1 2782 3 is_stmt 0 view .LVU2965
 9059 003e FFF7FEFF 		bl	sys_mutex_unlock
 9060              	.LVL943:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9061              		.loc 1 2830 3 is_stmt 1 view .LVU2966
 9062              	.LBB100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9063              		.loc 1 2830 3 view .LVU2967
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9064              		.loc 1 2830 3 view .LVU2968
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9065              		.loc 1 2830 3 view .LVU2969
 9066 0042 0CB1     		cbz	r4, .L687
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9067              		.loc 1 2830 3 discriminator 1 view .LVU2970
 9068 0044 094B     		ldr	r3, .L691
 9069 0046 1C60     		str	r4, [r3]
 9070              	.L687:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9071              		.loc 1 2830 3 discriminator 3 view .LVU2971
 9072              	.LBE100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9073              		.loc 1 2830 3 discriminator 3 view .LVU2972
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9074              		.loc 1 2831 20 discriminator 3 view .LVU2973
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9075              		.loc 1 2832 3 discriminator 3 view .LVU2974
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9076              		.loc 1 2832 19 is_stmt 0 discriminator 3 view .LVU2975
 9077 0048 4CB9     		cbnz	r4, .L690
 9078              	.LVL944:
 9079              	.L683:
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9080              		.loc 1 2833 1 view .LVU2976
 9081 004a 2046     		mov	r0, r4
ARM GAS  /tmp/cc3tDhb2.s 			page 277


 9082 004c 03B0     		add	sp, sp, #12
 9083              	.LCFI115:
 9084              		.cfi_remember_state
 9085              		.cfi_def_cfa_offset 28
 9086              		@ sp needed
 9087 004e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 9088              	.LVL945:
 9089              	.L685:
 9090              	.LCFI116:
 9091              		.cfi_restore_state
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9092              		.loc 1 2773 5 is_stmt 1 view .LVU2977
 9093              	.LBB101:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9094              		.loc 1 2773 5 view .LVU2978
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9095              		.loc 1 2773 5 view .LVU2979
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9096              		.loc 1 2773 5 view .LVU2980
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9097              		.loc 1 2773 5 view .LVU2981
 9098 0052 064B     		ldr	r3, .L691
 9099 0054 0E22     		movs	r2, #14
 9100 0056 1A60     		str	r2, [r3]
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9101              		.loc 1 2773 5 view .LVU2982
 9102              	.LBE101:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9103              		.loc 1 2773 5 view .LVU2983
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9104              		.loc 1 2774 22 view .LVU2984
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9105              		.loc 1 2775 5 view .LVU2985
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9106              		.loc 1 2775 12 is_stmt 0 view .LVU2986
 9107 0058 4FF0FF34 		mov	r4, #-1
 9108              	.LVL946:
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9109              		.loc 1 2775 12 view .LVU2987
 9110 005c F5E7     		b	.L683
 9111              	.LVL947:
 9112              	.L690:
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9113              		.loc 1 2832 19 view .LVU2988
 9114 005e 4FF0FF34 		mov	r4, #-1
 9115              	.LVL948:
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9116              		.loc 1 2832 19 view .LVU2989
 9117 0062 F2E7     		b	.L683
 9118              	.LVL949:
 9119              	.L688:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9120              		.loc 1 2769 12 view .LVU2990
 9121 0064 4FF0FF34 		mov	r4, #-1
 9122              	.LVL950:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9123              		.loc 1 2769 12 view .LVU2991
ARM GAS  /tmp/cc3tDhb2.s 			page 278


 9124 0068 EFE7     		b	.L683
 9125              	.L692:
 9126 006a 00BF     		.align	2
 9127              	.L691:
 9128 006c 00000000 		.word	errno
 9129 0070 00000000 		.word	lock_tcpip_core
 9130              		.cfi_endproc
 9131              	.LFE204:
 9133              		.section	.text.lwip_setsockopt,"ax",%progbits
 9134              		.align	1
 9135              		.global	lwip_setsockopt
 9136              		.syntax unified
 9137              		.thumb
 9138              		.thumb_func
 9139              		.fpu fpv4-sp-d16
 9141              	lwip_setsockopt:
 9142              	.LVL951:
 9143              	.LFB207:
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9144              		.loc 1 3206 1 is_stmt 1 view -0
 9145              		.cfi_startproc
 9146              		@ args = 4, pretend = 0, frame = 0
 9147              		@ frame_needed = 0, uses_anonymous_args = 0
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9148              		.loc 1 3206 1 is_stmt 0 view .LVU2993
 9149 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 9150              	.LCFI117:
 9151              		.cfi_def_cfa_offset 24
 9152              		.cfi_offset 4, -24
 9153              		.cfi_offset 5, -20
 9154              		.cfi_offset 6, -16
 9155              		.cfi_offset 7, -12
 9156              		.cfi_offset 8, -8
 9157              		.cfi_offset 14, -4
 9158 0004 82B0     		sub	sp, sp, #8
 9159              	.LCFI118:
 9160              		.cfi_def_cfa_offset 32
 9161 0006 0546     		mov	r5, r0
 9162 0008 8846     		mov	r8, r1
 9163 000a 1646     		mov	r6, r2
 9164 000c 1C46     		mov	r4, r3
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9165              		.loc 1 3207 3 is_stmt 1 view .LVU2994
 9166              	.LVL952:
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9167              		.loc 1 3208 3 view .LVU2995
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9168              		.loc 1 3208 28 is_stmt 0 view .LVU2996
 9169 000e FFF7FEFF 		bl	get_socket
 9170              	.LVL953:
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9171              		.loc 1 3214 3 is_stmt 1 view .LVU2997
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9172              		.loc 1 3214 6 is_stmt 0 view .LVU2998
 9173 0012 08B3     		cbz	r0, .L697
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9174              		.loc 1 3218 3 is_stmt 1 view .LVU2999
ARM GAS  /tmp/cc3tDhb2.s 			page 279


3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9175              		.loc 1 3218 6 is_stmt 0 view .LVU3000
 9176 0014 BCB1     		cbz	r4, .L699
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9177              		.loc 1 3226 3 is_stmt 1 view .LVU3001
 9178 0016 124F     		ldr	r7, .L701
 9179 0018 3846     		mov	r0, r7
 9180              	.LVL954:
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9181              		.loc 1 3226 3 is_stmt 0 view .LVU3002
 9182 001a FFF7FEFF 		bl	sys_mutex_lock
 9183              	.LVL955:
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9184              		.loc 1 3227 3 is_stmt 1 view .LVU3003
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9185              		.loc 1 3227 9 is_stmt 0 view .LVU3004
 9186 001e 089B     		ldr	r3, [sp, #32]
 9187 0020 0093     		str	r3, [sp]
 9188 0022 2346     		mov	r3, r4
 9189 0024 3246     		mov	r2, r6
 9190 0026 4146     		mov	r1, r8
 9191 0028 2846     		mov	r0, r5
 9192 002a FFF7FEFF 		bl	lwip_setsockopt_impl
 9193              	.LVL956:
 9194 002e 0446     		mov	r4, r0
 9195              	.LVL957:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9196              		.loc 1 3228 3 is_stmt 1 view .LVU3005
 9197 0030 3846     		mov	r0, r7
 9198              	.LVL958:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9199              		.loc 1 3228 3 is_stmt 0 view .LVU3006
 9200 0032 FFF7FEFF 		bl	sys_mutex_unlock
 9201              	.LVL959:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9202              		.loc 1 3271 3 is_stmt 1 view .LVU3007
 9203              	.LBB102:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9204              		.loc 1 3271 3 view .LVU3008
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9205              		.loc 1 3271 3 view .LVU3009
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9206              		.loc 1 3271 3 view .LVU3010
 9207 0036 0CB1     		cbz	r4, .L696
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9208              		.loc 1 3271 3 discriminator 1 view .LVU3011
 9209 0038 0A4B     		ldr	r3, .L701+4
 9210 003a 1C60     		str	r4, [r3]
 9211              	.L696:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9212              		.loc 1 3271 3 discriminator 3 view .LVU3012
 9213              	.LBE102:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9214              		.loc 1 3271 3 discriminator 3 view .LVU3013
3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9215              		.loc 1 3272 20 discriminator 3 view .LVU3014
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /tmp/cc3tDhb2.s 			page 280


 9216              		.loc 1 3273 3 discriminator 3 view .LVU3015
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9217              		.loc 1 3273 19 is_stmt 0 discriminator 3 view .LVU3016
 9218 003c 4CB9     		cbnz	r4, .L700
 9219              	.LVL960:
 9220              	.L693:
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9221              		.loc 1 3274 1 view .LVU3017
 9222 003e 2046     		mov	r0, r4
 9223 0040 02B0     		add	sp, sp, #8
 9224              	.LCFI119:
 9225              		.cfi_remember_state
 9226              		.cfi_def_cfa_offset 24
 9227              		@ sp needed
 9228 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9229              	.LVL961:
 9230              	.L699:
 9231              	.LCFI120:
 9232              		.cfi_restore_state
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9233              		.loc 1 3219 5 is_stmt 1 view .LVU3018
 9234              	.LBB103:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9235              		.loc 1 3219 5 view .LVU3019
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9236              		.loc 1 3219 5 view .LVU3020
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9237              		.loc 1 3219 5 view .LVU3021
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9238              		.loc 1 3219 5 view .LVU3022
 9239 0046 074B     		ldr	r3, .L701+4
 9240 0048 0E22     		movs	r2, #14
 9241 004a 1A60     		str	r2, [r3]
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9242              		.loc 1 3219 5 view .LVU3023
 9243              	.LBE103:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9244              		.loc 1 3219 5 view .LVU3024
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9245              		.loc 1 3220 22 view .LVU3025
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9246              		.loc 1 3221 5 view .LVU3026
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9247              		.loc 1 3221 12 is_stmt 0 view .LVU3027
 9248 004c 4FF0FF34 		mov	r4, #-1
 9249              	.LVL962:
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9250              		.loc 1 3221 12 view .LVU3028
 9251 0050 F5E7     		b	.L693
 9252              	.LVL963:
 9253              	.L700:
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9254              		.loc 1 3273 19 view .LVU3029
 9255 0052 4FF0FF34 		mov	r4, #-1
 9256              	.LVL964:
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9257              		.loc 1 3273 19 view .LVU3030
ARM GAS  /tmp/cc3tDhb2.s 			page 281


 9258 0056 F2E7     		b	.L693
 9259              	.LVL965:
 9260              	.L697:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9261              		.loc 1 3215 12 view .LVU3031
 9262 0058 4FF0FF34 		mov	r4, #-1
 9263              	.LVL966:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9264              		.loc 1 3215 12 view .LVU3032
 9265 005c EFE7     		b	.L693
 9266              	.L702:
 9267 005e 00BF     		.align	2
 9268              	.L701:
 9269 0060 00000000 		.word	lock_tcpip_core
 9270 0064 00000000 		.word	errno
 9271              		.cfi_endproc
 9272              	.LFE207:
 9274              		.section	.text.lwip_ioctl,"ax",%progbits
 9275              		.align	1
 9276              		.global	lwip_ioctl
 9277              		.syntax unified
 9278              		.thumb
 9279              		.thumb_func
 9280              		.fpu fpv4-sp-d16
 9282              	lwip_ioctl:
 9283              	.LVL967:
 9284              	.LFB209:
3741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_ioctl(int s, long cmd, void *argp)
3744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9285              		.loc 1 3744 1 is_stmt 1 view -0
 9286              		.cfi_startproc
 9287              		@ args = 0, pretend = 0, frame = 0
 9288              		@ frame_needed = 0, uses_anonymous_args = 0
 9289              		.loc 1 3744 1 is_stmt 0 view .LVU3034
 9290 0000 38B5     		push	{r3, r4, r5, lr}
 9291              	.LCFI121:
 9292              		.cfi_def_cfa_offset 16
 9293              		.cfi_offset 3, -16
 9294              		.cfi_offset 4, -12
 9295              		.cfi_offset 5, -8
 9296              		.cfi_offset 14, -4
 9297 0002 0D46     		mov	r5, r1
 9298 0004 1446     		mov	r4, r2
3745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9299              		.loc 1 3745 3 is_stmt 1 view .LVU3035
 9300              		.loc 1 3745 28 is_stmt 0 view .LVU3036
 9301 0006 FFF7FEFF 		bl	get_socket
 9302              	.LVL968:
3746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t val;
 9303              		.loc 1 3746 3 is_stmt 1 view .LVU3037
3747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recv_avail;
3749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
ARM GAS  /tmp/cc3tDhb2.s 			page 282


 9304              		.loc 1 3751 3 view .LVU3038
 9305              		.loc 1 3751 6 is_stmt 0 view .LVU3039
 9306 000a D0B1     		cbz	r0, .L707
 9307 000c 0246     		mov	r2, r0
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9308              		.loc 1 3755 3 is_stmt 1 view .LVU3040
 9309 000e 0E4B     		ldr	r3, .L709
 9310 0010 9D42     		cmp	r5, r3
 9311 0012 10D1     		bne	.L705
3756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE
3757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case FIONREAD:
3758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!argp) {
3759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, EINVAL);
3760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
3762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_FIONREAD_LINUXMODE
3764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
3765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct netbuf *nb;
3766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->lastdata.netbuf) {
3767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           nb = sock->lastdata.netbuf;
3768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *((int *)argp) = nb->p->tot_len;
3769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netbuf *rxbuf;
3771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &rxbuf, NETCONN_DONTBLOCK);
3772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err != ERR_OK) {
3773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = 0;
3774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->lastdata.netbuf = rxbuf;
3776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = rxbuf->p->tot_len;
3777:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 0;
3781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_FIONREAD_LINUXMODE */
3783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* we come here if either LWIP_FIONREAD_LINUXMODE==0 or this is a TCP socket */
3786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_GET(sock->conn->recv_avail, recv_avail);
3787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recv_avail < 0) {
3788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         recv_avail = 0;
3789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Check if there is data left from the last recv operation. /maq 041215 */
3792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->lastdata.netbuf) {
3793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3794:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.pbuf->tot_len;
3795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.netbuf->p->tot_len;
3797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *((int *)argp) = recv_avail;
3800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 283


3801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONREAD, %p) = %"U16_F"\n", s, argp, *((u16_t *)
3802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
3805:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_SO_RCVBUF */
3806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3807:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE */
3809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case (long)FIONBIO:
3811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val = 0;
 9312              		.loc 1 3811 7 view .LVU3041
 9313              	.LVL969:
3812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (argp && *(int *)argp) {
 9314              		.loc 1 3812 7 view .LVU3042
 9315              		.loc 1 3812 10 is_stmt 0 view .LVU3043
 9316 0014 44B1     		cbz	r4, .L706
 9317              		.loc 1 3812 19 discriminator 1 view .LVU3044
 9318 0016 2368     		ldr	r3, [r4]
 9319              		.loc 1 3812 16 discriminator 1 view .LVU3045
 9320 0018 33B1     		cbz	r3, .L706
3813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         val = 1;
 9321              		.loc 1 3813 9 is_stmt 1 view .LVU3046
 9322              	.LVL970:
3814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_nonblocking(sock->conn, val);
 9323              		.loc 1 3815 7 view .LVU3047
 9324              		.loc 1 3815 7 view .LVU3048
 9325              		.loc 1 3815 7 view .LVU3049
 9326              		.loc 1 3815 7 view .LVU3050
 9327 001a 0268     		ldr	r2, [r0]
 9328 001c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9329 001e 43F00203 		orr	r3, r3, #2
 9330 0022 1377     		strb	r3, [r2, #28]
 9331              		.loc 1 3815 7 view .LVU3051
3816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
3817:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
 9332              		.loc 1 3819 14 is_stmt 0 view .LVU3052
 9333 0024 0020     		movs	r0, #0
 9334              	.LVL971:
 9335              		.loc 1 3819 14 view .LVU3053
 9336 0026 05E0     		b	.L703
 9337              	.LVL972:
 9338              	.L706:
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9339              		.loc 1 3815 7 is_stmt 1 discriminator 2 view .LVU3054
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9340              		.loc 1 3815 7 discriminator 2 view .LVU3055
 9341 0028 1268     		ldr	r2, [r2]
 9342 002a 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9343 002c 03F0FD03 		and	r3, r3, #253
 9344 0030 1377     		strb	r3, [r2, #28]
 9345              		.loc 1 3819 14 is_stmt 0 discriminator 2 view .LVU3056
 9346 0032 0020     		movs	r0, #0
 9347              	.LVL973:
ARM GAS  /tmp/cc3tDhb2.s 			page 284


 9348              	.L703:
3820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, UNIMPL: 0x%lx, %p)\n", s, cmd, argp));
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
3828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9349              		.loc 1 3828 1 view .LVU3057
 9350 0034 38BD     		pop	{r3, r4, r5, pc}
 9351              	.LVL974:
 9352              	.L705:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
 9353              		.loc 1 3822 7 is_stmt 1 view .LVU3058
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9354              		.loc 1 3824 84 view .LVU3059
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9355              		.loc 1 3825 3 view .LVU3060
 9356              	.LBB104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9357              		.loc 1 3825 3 view .LVU3061
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9358              		.loc 1 3825 3 view .LVU3062
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9359              		.loc 1 3825 3 view .LVU3063
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9360              		.loc 1 3825 3 view .LVU3064
 9361 0036 054B     		ldr	r3, .L709+4
 9362 0038 2622     		movs	r2, #38
 9363 003a 1A60     		str	r2, [r3]
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9364              		.loc 1 3825 3 view .LVU3065
 9365              	.LBE104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9366              		.loc 1 3825 3 view .LVU3066
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 9367              		.loc 1 3826 20 view .LVU3067
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9368              		.loc 1 3827 3 view .LVU3068
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9369              		.loc 1 3827 10 is_stmt 0 view .LVU3069
 9370 003c 4FF0FF30 		mov	r0, #-1
 9371              	.LVL975:
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9372              		.loc 1 3827 10 view .LVU3070
 9373 0040 F8E7     		b	.L703
 9374              	.LVL976:
 9375              	.L707:
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9376              		.loc 1 3752 12 view .LVU3071
 9377 0042 4FF0FF30 		mov	r0, #-1
 9378              	.LVL977:
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9379              		.loc 1 3752 12 view .LVU3072
 9380 0046 F5E7     		b	.L703
ARM GAS  /tmp/cc3tDhb2.s 			page 285


 9381              	.L710:
 9382              		.align	2
 9383              	.L709:
 9384 0048 7E660480 		.word	-2147195266
 9385 004c 00000000 		.word	errno
 9386              		.cfi_endproc
 9387              	.LFE209:
 9389              		.section	.text.lwip_fcntl,"ax",%progbits
 9390              		.align	1
 9391              		.global	lwip_fcntl
 9392              		.syntax unified
 9393              		.thumb
 9394              		.thumb_func
 9395              		.fpu fpv4-sp-d16
 9397              	lwip_fcntl:
 9398              	.LVL978:
 9399              	.LFB210:
3829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3830:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A minimal implementation of fcntl.
3831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Currently only the commands F_GETFL and F_SETFL are implemented.
3832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The flag O_NONBLOCK and access modes are supported for F_GETFL, only
3833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the flag O_NONBLOCK is implemented for F_SETFL.
3834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_fcntl(int s, int cmd, int val)
3837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9400              		.loc 1 3837 1 is_stmt 1 view -0
 9401              		.cfi_startproc
 9402              		@ args = 0, pretend = 0, frame = 0
 9403              		@ frame_needed = 0, uses_anonymous_args = 0
 9404              		.loc 1 3837 1 is_stmt 0 view .LVU3074
 9405 0000 70B5     		push	{r4, r5, r6, lr}
 9406              	.LCFI122:
 9407              		.cfi_def_cfa_offset 16
 9408              		.cfi_offset 4, -16
 9409              		.cfi_offset 5, -12
 9410              		.cfi_offset 6, -8
 9411              		.cfi_offset 14, -4
 9412 0002 0C46     		mov	r4, r1
 9413 0004 1546     		mov	r5, r2
3838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9414              		.loc 1 3838 3 is_stmt 1 view .LVU3075
 9415              		.loc 1 3838 28 is_stmt 0 view .LVU3076
 9416 0006 FFF7FEFF 		bl	get_socket
 9417              	.LVL979:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret = -1;
 9418              		.loc 1 3839 3 is_stmt 1 view .LVU3077
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9419              		.loc 1 3840 3 view .LVU3078
3841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 9420              		.loc 1 3842 3 view .LVU3079
 9421              		.loc 1 3842 6 is_stmt 0 view .LVU3080
 9422 000a 0028     		cmp	r0, #0
 9423 000c 48D0     		beq	.L721
 9424 000e 0646     		mov	r6, r0
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  /tmp/cc3tDhb2.s 			page 286


3844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9425              		.loc 1 3846 3 is_stmt 1 view .LVU3081
 9426 0010 032C     		cmp	r4, #3
 9427 0012 07D0     		beq	.L713
 9428 0014 042C     		cmp	r4, #4
 9429 0016 2AD0     		beq	.L714
3847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_GETFL:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = netconn_is_nonblocking(sock->conn) ? O_NONBLOCK : 0;
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3850:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LOCK_TCPIP_CORE();
3854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_DECL_PROTECT(lev);
3856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* the proper thing to do here would be to get into the tcpip_thread,
3857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            but locking should be OK as well since we only *read* some flags */
3858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
3859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->conn->pcb.tcp) {
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
3864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_FIN)) {
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
3867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         UNLOCK_TCPIP_CORE();
3872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
3874:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         op_mode |= O_RDWR;
3877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ensure O_RDWR for (O_RDONLY|O_WRONLY) != O_RDWR cases */
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret |= (op_mode == (O_RDONLY | O_WRONLY)) ? O_RDWR : op_mode;
3881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
3884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Bits corresponding to the file access mode and the file creation flags [..] that are set i
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val &= ~(O_RDONLY | O_WRONLY | O_RDWR);
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
3887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netconn_set_nonblocking(sock->conn, val & O_NONBLOCK);
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
3890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
3891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, ENOSYS); /* not yet implemented */
3893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
ARM GAS  /tmp/cc3tDhb2.s 			page 287


3896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_fcntl(%d, UNIMPL: %d, %d)\n", s, cmd, val));
 9430              		.loc 1 3896 84 view .LVU3082
3897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9431              		.loc 1 3897 7 view .LVU3083
 9432              	.LBB105:
 9433              		.loc 1 3897 7 view .LVU3084
 9434              	.LVL980:
 9435              		.loc 1 3897 7 view .LVU3085
 9436              		.loc 1 3897 7 view .LVU3086
 9437              		.loc 1 3897 7 view .LVU3087
 9438 0018 234B     		ldr	r3, .L728
 9439 001a 2622     		movs	r2, #38
 9440 001c 1A60     		str	r2, [r3]
 9441              	.LBE105:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9442              		.loc 1 3839 7 is_stmt 0 view .LVU3088
 9443 001e 4FF0FF30 		mov	r0, #-1
 9444              	.LVL981:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9445              		.loc 1 3839 7 view .LVU3089
 9446 0022 0BE0     		b	.L711
 9447              	.LVL982:
 9448              	.L713:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9449              		.loc 1 3848 7 is_stmt 1 view .LVU3090
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9450              		.loc 1 3848 13 is_stmt 0 view .LVU3091
 9451 0024 0368     		ldr	r3, [r0]
 9452 0026 187F     		ldrb	r0, [r3, #28]	@ zero_extendqisi2
 9453              	.LVL983:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9454              		.loc 1 3848 11 view .LVU3092
 9455 0028 C0F34005 		ubfx	r5, r0, #1, #1
 9456              	.LVL984:
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9457              		.loc 1 3849 7 is_stmt 1 view .LVU3093
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9458              		.loc 1 3849 7 view .LVU3094
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9459              		.loc 1 3849 7 view .LVU3095
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9460              		.loc 1 3849 7 view .LVU3096
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9461              		.loc 1 3849 7 view .LVU3097
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9462              		.loc 1 3849 7 view .LVU3098
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9463              		.loc 1 3851 7 view .LVU3099
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9464              		.loc 1 3851 11 is_stmt 0 view .LVU3100
 9465 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9466              		.loc 1 3851 10 view .LVU3101
 9467 002e 03F0F003 		and	r3, r3, #240
 9468 0032 102B     		cmp	r3, #16
 9469 0034 03D0     		beq	.L727
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  /tmp/cc3tDhb2.s 			page 288


 9470              		.loc 1 3876 17 view .LVU3102
 9471 0036 0624     		movs	r4, #6
 9472              	.LVL985:
 9473              	.L716:
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9474              		.loc 1 3880 7 is_stmt 1 view .LVU3103
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9475              		.loc 1 3880 11 is_stmt 0 view .LVU3104
 9476 0038 44EA0500 		orr	r0, r4, r5
 9477              	.LVL986:
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
 9478              		.loc 1 3882 7 is_stmt 1 view .LVU3105
 9479              	.L711:
3898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9480              		.loc 1 3902 1 is_stmt 0 view .LVU3106
 9481 003c 70BD     		pop	{r4, r5, r6, pc}
 9482              	.LVL987:
 9483              	.L727:
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9484              		.loc 1 3853 9 is_stmt 1 view .LVU3107
 9485 003e 1B48     		ldr	r0, .L728+4
 9486 0040 FFF7FEFF 		bl	sys_mutex_lock
 9487              	.LVL988:
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9488              		.loc 1 3861 9 view .LVU3108
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9489              		.loc 1 3861 17 is_stmt 0 view .LVU3109
 9490 0044 3368     		ldr	r3, [r6]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9491              		.loc 1 3861 28 view .LVU3110
 9492 0046 5B68     		ldr	r3, [r3, #4]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9493              		.loc 1 3861 12 view .LVU3111
 9494 0048 7BB1     		cbz	r3, .L723
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9495              		.loc 1 3862 11 is_stmt 1 view .LVU3112
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9496              		.loc 1 3862 36 is_stmt 0 view .LVU3113
 9497 004a 5B8B     		ldrh	r3, [r3, #26]
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9498              		.loc 1 3862 14 view .LVU3114
 9499 004c 13F0100F 		tst	r3, #16
 9500 0050 09D0     		beq	.L724
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9501              		.loc 1 3840 7 view .LVU3115
 9502 0052 0024     		movs	r4, #0
 9503              	.LVL989:
 9504              	.L718:
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
 9505              		.loc 1 3865 11 is_stmt 1 view .LVU3116
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
 9506              		.loc 1 3865 14 is_stmt 0 view .LVU3117
 9507 0054 13F0200F 		tst	r3, #32
ARM GAS  /tmp/cc3tDhb2.s 			page 289


 9508 0058 01D1     		bne	.L717
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9509              		.loc 1 3866 13 is_stmt 1 view .LVU3118
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9510              		.loc 1 3866 21 is_stmt 0 view .LVU3119
 9511 005a 44F00404 		orr	r4, r4, #4
 9512              	.LVL990:
 9513              	.L717:
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9514              		.loc 1 3871 9 is_stmt 1 view .LVU3120
 9515 005e 1348     		ldr	r0, .L728+4
 9516 0060 FFF7FEFF 		bl	sys_mutex_unlock
 9517              	.LVL991:
 9518 0064 E8E7     		b	.L716
 9519              	.LVL992:
 9520              	.L724:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9521              		.loc 1 3863 21 is_stmt 0 view .LVU3121
 9522 0066 0224     		movs	r4, #2
 9523              	.LVL993:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9524              		.loc 1 3863 21 view .LVU3122
 9525 0068 F4E7     		b	.L718
 9526              	.LVL994:
 9527              	.L723:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9528              		.loc 1 3840 7 view .LVU3123
 9529 006a 0024     		movs	r4, #0
 9530              	.LVL995:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9531              		.loc 1 3840 7 view .LVU3124
 9532 006c F7E7     		b	.L717
 9533              	.LVL996:
 9534              	.L714:
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
 9535              		.loc 1 3885 7 is_stmt 1 view .LVU3125
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9536              		.loc 1 3886 7 view .LVU3126
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9537              		.loc 1 3886 10 is_stmt 0 view .LVU3127
 9538 006e 35F00700 		bics	r0, r5, #7
 9539              	.LVL997:
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9540              		.loc 1 3886 10 view .LVU3128
 9541 0072 0FD1     		bne	.L719
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9542              		.loc 1 3888 9 is_stmt 1 view .LVU3129
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9543              		.loc 1 3888 9 view .LVU3130
 9544 0074 15F00105 		ands	r5, r5, #1
 9545              	.LVL998:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9546              		.loc 1 3888 9 is_stmt 0 view .LVU3131
 9547 0078 05D0     		beq	.L720
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9548              		.loc 1 3888 9 is_stmt 1 discriminator 1 view .LVU3132
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
ARM GAS  /tmp/cc3tDhb2.s 			page 290


 9549              		.loc 1 3888 9 discriminator 1 view .LVU3133
 9550 007a 3268     		ldr	r2, [r6]
 9551 007c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9552 007e 43F00203 		orr	r3, r3, #2
 9553 0082 1377     		strb	r3, [r2, #28]
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9554              		.loc 1 3888 9 discriminator 1 view .LVU3134
 9555 0084 DAE7     		b	.L711
 9556              	.L720:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9557              		.loc 1 3888 9 discriminator 2 view .LVU3135
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9558              		.loc 1 3888 9 discriminator 2 view .LVU3136
 9559 0086 3268     		ldr	r2, [r6]
 9560 0088 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9561 008a 03F0FD03 		and	r3, r3, #253
 9562 008e 1377     		strb	r3, [r2, #28]
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
 9563              		.loc 1 3889 13 is_stmt 0 discriminator 2 view .LVU3137
 9564 0090 2846     		mov	r0, r5
 9565 0092 D3E7     		b	.L711
 9566              	.LVL999:
 9567              	.L719:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9568              		.loc 1 3892 9 is_stmt 1 discriminator 2 view .LVU3138
 9569              	.LBB106:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9570              		.loc 1 3892 9 discriminator 2 view .LVU3139
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9571              		.loc 1 3892 9 discriminator 2 view .LVU3140
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9572              		.loc 1 3892 9 discriminator 2 view .LVU3141
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9573              		.loc 1 3892 9 discriminator 2 view .LVU3142
 9574 0094 044B     		ldr	r3, .L728
 9575 0096 2622     		movs	r2, #38
 9576 0098 1A60     		str	r2, [r3]
 9577              	.LBE106:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9578              		.loc 1 3839 7 is_stmt 0 discriminator 2 view .LVU3143
 9579 009a 4FF0FF30 		mov	r0, #-1
 9580 009e CDE7     		b	.L711
 9581              	.LVL1000:
 9582              	.L721:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9583              		.loc 1 3843 12 view .LVU3144
 9584 00a0 4FF0FF30 		mov	r0, #-1
 9585              	.LVL1001:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9586              		.loc 1 3843 12 view .LVU3145
 9587 00a4 CAE7     		b	.L711
 9588              	.L729:
 9589 00a6 00BF     		.align	2
 9590              	.L728:
 9591 00a8 00000000 		.word	errno
 9592 00ac 00000000 		.word	lock_tcpip_core
 9593              		.cfi_endproc
ARM GAS  /tmp/cc3tDhb2.s 			page 291


 9594              	.LFE210:
 9596              		.section	.text.lwip_inet_ntop,"ax",%progbits
 9597              		.align	1
 9598              		.global	lwip_inet_ntop
 9599              		.syntax unified
 9600              		.thumb
 9601              		.thumb_func
 9602              		.fpu fpv4-sp-d16
 9604              	lwip_inet_ntop:
 9605              	.LVL1002:
 9606              	.LFB211:
3903:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3904:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
3905:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** fcntl(int s, int cmd, ...)
3907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_list ap;
3909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int val;
3910:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_start(ap, cmd);
3912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   val = va_arg(ap, int);
3913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_end(ap);
3914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_fcntl(s, cmd, val);
3915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3917:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3918:Middlewares/Third_Party/LwIP/src/api/sockets.c **** const char *
3919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_ntop(int af, const void *src, char *dst, socklen_t size)
3920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9607              		.loc 1 3920 1 is_stmt 1 view -0
 9608              		.cfi_startproc
 9609              		@ args = 0, pretend = 0, frame = 0
 9610              		@ frame_needed = 0, uses_anonymous_args = 0
 9611              		.loc 1 3920 1 is_stmt 0 view .LVU3147
 9612 0000 10B5     		push	{r4, lr}
 9613              	.LCFI123:
 9614              		.cfi_def_cfa_offset 8
 9615              		.cfi_offset 4, -8
 9616              		.cfi_offset 14, -4
 9617 0002 0C46     		mov	r4, r1
 9618 0004 1146     		mov	r1, r2
 9619              	.LVL1003:
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const char *ret = NULL;
 9620              		.loc 1 3921 3 is_stmt 1 view .LVU3148
3922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9621              		.loc 1 3922 3 view .LVU3149
3923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size_int < 0) {
 9622              		.loc 1 3923 3 view .LVU3150
 9623              		.loc 1 3923 6 is_stmt 0 view .LVU3151
 9624 0006 1A1E     		subs	r2, r3, #0
 9625              	.LVL1004:
 9626              		.loc 1 3923 6 view .LVU3152
 9627 0008 06DB     		blt	.L735
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOSPC);
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
3926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
ARM GAS  /tmp/cc3tDhb2.s 			page 292


 9628              		.loc 1 3927 3 is_stmt 1 view .LVU3153
 9629 000a 0228     		cmp	r0, #2
 9630 000c 09D0     		beq	.L736
3928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip4addr_ntoa_r((const ip4_addr_t *)src, dst, size_int);
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6:
3938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip6addr_ntoa_r((const ip6_addr_t *)src, dst, size_int);
3939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9631              		.loc 1 3945 7 discriminator 1 view .LVU3154
 9632              		.loc 1 3945 7 discriminator 1 view .LVU3155
 9633              		.loc 1 3945 7 discriminator 1 view .LVU3156
 9634 000e 094B     		ldr	r3, .L737
 9635              	.LVL1005:
 9636              		.loc 1 3945 7 is_stmt 0 discriminator 1 view .LVU3157
 9637 0010 6122     		movs	r2, #97
 9638              	.LVL1006:
 9639              		.loc 1 3945 7 discriminator 1 view .LVU3158
 9640 0012 1A60     		str	r2, [r3]
 9641              		.loc 1 3945 7 is_stmt 1 discriminator 1 view .LVU3159
3946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9642              		.loc 1 3946 7 discriminator 1 view .LVU3160
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9643              		.loc 1 3921 15 is_stmt 0 discriminator 1 view .LVU3161
 9644 0014 0020     		movs	r0, #0
 9645              	.LVL1007:
 9646              	.L730:
3947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3949:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9647              		.loc 1 3949 1 view .LVU3162
 9648 0016 10BD     		pop	{r4, pc}
 9649              	.LVL1008:
 9650              	.L735:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9651              		.loc 1 3924 5 is_stmt 1 discriminator 1 view .LVU3163
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9652              		.loc 1 3924 5 discriminator 1 view .LVU3164
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9653              		.loc 1 3924 5 discriminator 1 view .LVU3165
 9654 0018 064B     		ldr	r3, .L737
 9655 001a 1C22     		movs	r2, #28
 9656              	.LVL1009:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9657              		.loc 1 3924 5 is_stmt 0 discriminator 1 view .LVU3166
ARM GAS  /tmp/cc3tDhb2.s 			page 293


 9658 001c 1A60     		str	r2, [r3]
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9659              		.loc 1 3924 5 is_stmt 1 discriminator 1 view .LVU3167
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9660              		.loc 1 3925 5 discriminator 1 view .LVU3168
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9661              		.loc 1 3925 12 is_stmt 0 discriminator 1 view .LVU3169
 9662 001e 0020     		movs	r0, #0
 9663              	.LVL1010:
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9664              		.loc 1 3925 12 discriminator 1 view .LVU3170
 9665 0020 F9E7     		b	.L730
 9666              	.LVL1011:
 9667              	.L736:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9668              		.loc 1 3930 7 is_stmt 1 view .LVU3171
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9669              		.loc 1 3930 13 is_stmt 0 view .LVU3172
 9670 0022 2046     		mov	r0, r4
 9671              	.LVL1012:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9672              		.loc 1 3930 13 view .LVU3173
 9673 0024 FFF7FEFF 		bl	ip4addr_ntoa_r
 9674              	.LVL1013:
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9675              		.loc 1 3931 7 is_stmt 1 view .LVU3174
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9676              		.loc 1 3931 10 is_stmt 0 view .LVU3175
 9677 0028 0028     		cmp	r0, #0
 9678 002a F4D1     		bne	.L730
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9679              		.loc 1 3932 9 is_stmt 1 discriminator 1 view .LVU3176
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9680              		.loc 1 3932 9 discriminator 1 view .LVU3177
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9681              		.loc 1 3932 9 discriminator 1 view .LVU3178
 9682 002c 014B     		ldr	r3, .L737
 9683 002e 1C22     		movs	r2, #28
 9684 0030 1A60     		str	r2, [r3]
 9685 0032 F0E7     		b	.L730
 9686              	.L738:
 9687              		.align	2
 9688              	.L737:
 9689 0034 00000000 		.word	errno
 9690              		.cfi_endproc
 9691              	.LFE211:
 9693              		.section	.text.lwip_inet_pton,"ax",%progbits
 9694              		.align	1
 9695              		.global	lwip_inet_pton
 9696              		.syntax unified
 9697              		.thumb
 9698              		.thumb_func
 9699              		.fpu fpv4-sp-d16
 9701              	lwip_inet_pton:
 9702              	.LVL1014:
 9703              	.LFB212:
3950:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /tmp/cc3tDhb2.s 			page 294


3951:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3952:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_pton(int af, const char *src, void *dst)
3953:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9704              		.loc 1 3953 1 view -0
 9705              		.cfi_startproc
 9706              		@ args = 0, pretend = 0, frame = 0
 9707              		@ frame_needed = 0, uses_anonymous_args = 0
 9708              		.loc 1 3953 1 is_stmt 0 view .LVU3180
 9709 0000 08B5     		push	{r3, lr}
 9710              	.LCFI124:
 9711              		.cfi_def_cfa_offset 8
 9712              		.cfi_offset 3, -8
 9713              		.cfi_offset 14, -4
3954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9714              		.loc 1 3954 3 is_stmt 1 view .LVU3181
3955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
 9715              		.loc 1 3955 3 view .LVU3182
 9716 0002 0228     		cmp	r0, #2
 9717 0004 04D1     		bne	.L740
 9718 0006 0846     		mov	r0, r1
 9719              	.LVL1015:
 9720              		.loc 1 3955 3 is_stmt 0 view .LVU3183
 9721 0008 1146     		mov	r1, r2
 9722              	.LVL1016:
3956:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip4addr_aton(src, (ip4_addr_t *)dst);
 9723              		.loc 1 3958 7 is_stmt 1 view .LVU3184
 9724              		.loc 1 3958 13 is_stmt 0 view .LVU3185
 9725 000a FFF7FEFF 		bl	ip4addr_aton
 9726              	.LVL1017:
3959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9727              		.loc 1 3959 7 is_stmt 1 view .LVU3186
 9728              	.L739:
3960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6: {
3963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* convert into temporary variable since ip6_addr_t might be larger
3964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          than in6_addr when scopes are enabled */
3965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_t addr;
3966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip6addr_aton(src, &addr);
3967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err) {
3968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         memcpy(dst, &addr.addr, sizeof(addr.addr));
3969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
3972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = -1;
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
3976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9729              		.loc 1 3979 1 is_stmt 0 view .LVU3187
 9730 000e 08BD     		pop	{r3, pc}
 9731              	.LVL1018:
ARM GAS  /tmp/cc3tDhb2.s 			page 295


 9732              	.L740:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9733              		.loc 1 3974 7 is_stmt 1 view .LVU3188
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9734              		.loc 1 3975 7 view .LVU3189
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9735              		.loc 1 3975 7 view .LVU3190
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9736              		.loc 1 3975 7 view .LVU3191
 9737 0010 024B     		ldr	r3, .L743
 9738 0012 6122     		movs	r2, #97
 9739              	.LVL1019:
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9740              		.loc 1 3975 7 is_stmt 0 view .LVU3192
 9741 0014 1A60     		str	r2, [r3]
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9742              		.loc 1 3974 11 view .LVU3193
 9743 0016 4FF0FF30 		mov	r0, #-1
 9744              	.LVL1020:
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9745              		.loc 1 3978 3 is_stmt 1 view .LVU3194
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9746              		.loc 1 3978 10 is_stmt 0 view .LVU3195
 9747 001a F8E7     		b	.L739
 9748              	.L744:
 9749              		.align	2
 9750              	.L743:
 9751 001c 00000000 		.word	errno
 9752              		.cfi_endproc
 9753              	.LFE212:
 9755              		.section	.bss.select_cb_list,"aw",%nobits
 9756              		.align	2
 9757              		.set	.LANCHOR1,. + 0
 9760              	select_cb_list:
 9761 0000 00000000 		.space	4
 9762              		.section	.bss.sockets,"aw",%nobits
 9763              		.align	2
 9764              		.set	.LANCHOR0,. + 0
 9767              	sockets:
 9768 0000 00000000 		.space	64
 9768      00000000 
 9768      00000000 
 9768      00000000 
 9768      00000000 
 9769              		.text
 9770              	.Letext0:
 9771              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 9772              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 9773              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 9774              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 9775              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 9776              		.file 7 "/usr/include/newlib/machine/_default_types.h"
 9777              		.file 8 "/usr/include/newlib/sys/_types.h"
 9778              		.file 9 "/usr/include/newlib/sys/reent.h"
 9779              		.file 10 "/usr/include/newlib/sys/lock.h"
 9780              		.file 11 "/usr/include/newlib/stdlib.h"
 9781              		.file 12 "/usr/include/newlib/sys/_timeval.h"
ARM GAS  /tmp/cc3tDhb2.s 			page 296


 9782              		.file 13 "/usr/include/newlib/sys/select.h"
 9783              		.file 14 "/usr/include/newlib/sys/types.h"
 9784              		.file 15 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 9785              		.file 16 "/usr/include/newlib/time.h"
 9786              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 9787              		.file 18 "/usr/include/newlib/ctype.h"
 9788              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 9789              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 9790              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 9791              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 9792              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 9793              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 9794              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 9795              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/inet.h"
 9796              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/errno.h"
 9797              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/sockets.h"
 9798              		.file 29 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 9799              		.file 30 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 9800              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/sockets_priv.h"
 9801              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 9802              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 9803              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 9804              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 9805              		.file 36 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 9806              		.file 37 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 9807              		.file 38 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 9808              		.file 39 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 9809              		.file 40 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 9810              		.file 41 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 9811              		.file 42 "/usr/include/newlib/stdio.h"
 9812              		.file 43 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 9813              		.file 44 "<built-in>"
ARM GAS  /tmp/cc3tDhb2.s 			page 297


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sockets.c
     /tmp/cc3tDhb2.s:18     .text.tryget_socket_unconn_nouse:0000000000000000 $t
     /tmp/cc3tDhb2.s:25     .text.tryget_socket_unconn_nouse:0000000000000000 tryget_socket_unconn_nouse
     /tmp/cc3tDhb2.s:56     .text.tryget_socket_unconn_nouse:0000000000000010 $d
     /tmp/cc3tDhb2.s:61     .text.tryget_socket_unconn:0000000000000000 $t
     /tmp/cc3tDhb2.s:67     .text.tryget_socket_unconn:0000000000000000 tryget_socket_unconn
     /tmp/cc3tDhb2.s:92     .text.tryget_socket_unconn_locked:0000000000000000 $t
     /tmp/cc3tDhb2.s:98     .text.tryget_socket_unconn_locked:0000000000000000 tryget_socket_unconn_locked
     /tmp/cc3tDhb2.s:123    .text.tryget_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:129    .text.tryget_socket:0000000000000000 tryget_socket
     /tmp/cc3tDhb2.s:170    .text.get_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:176    .text.get_socket:0000000000000000 get_socket
     /tmp/cc3tDhb2.s:215    .text.get_socket:0000000000000014 $d
     /tmp/cc3tDhb2.s:220    .text.free_socket_locked:0000000000000000 $t
     /tmp/cc3tDhb2.s:226    .text.free_socket_locked:0000000000000000 free_socket_locked
     /tmp/cc3tDhb2.s:265    .text.lwip_poll_should_wake:0000000000000000 $t
     /tmp/cc3tDhb2.s:271    .text.lwip_poll_should_wake:0000000000000000 lwip_poll_should_wake
     /tmp/cc3tDhb2.s:392    .rodata.lwip_sockopt_to_ipopt.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:402    .text.lwip_sockopt_to_ipopt:0000000000000000 $t
     /tmp/cc3tDhb2.s:408    .text.lwip_sockopt_to_ipopt:0000000000000000 lwip_sockopt_to_ipopt
     /tmp/cc3tDhb2.s:458    .text.lwip_sockopt_to_ipopt:0000000000000024 $d
     /tmp/cc3tDhb2.s:465    .rodata.alloc_socket.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:469    .text.alloc_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:475    .text.alloc_socket:0000000000000000 alloc_socket
     /tmp/cc3tDhb2.s:608    .text.alloc_socket:0000000000000078 $d
     /tmp/cc3tDhb2.s:616    .rodata.lwip_selscan.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:620    .text.lwip_selscan:0000000000000000 $t
     /tmp/cc3tDhb2.s:626    .text.lwip_selscan:0000000000000000 lwip_selscan
     /tmp/cc3tDhb2.s:988    .text.lwip_selscan:0000000000000198 $d
     /tmp/cc3tDhb2.s:995    .rodata.lwip_pollscan.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:999    .text.lwip_pollscan:0000000000000000 $t
     /tmp/cc3tDhb2.s:1005   .text.lwip_pollscan:0000000000000000 lwip_pollscan
     /tmp/cc3tDhb2.s:1320   .text.lwip_pollscan:000000000000013c $d
     /tmp/cc3tDhb2.s:1328   .text.lwip_link_select_cb:0000000000000000 $t
     /tmp/cc3tDhb2.s:1334   .text.lwip_link_select_cb:0000000000000000 lwip_link_select_cb
     /tmp/cc3tDhb2.s:1382   .text.lwip_link_select_cb:0000000000000020 $d
     /tmp/cc3tDhb2.s:1388   .rodata.lwip_unlink_select_cb.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:1395   .text.lwip_unlink_select_cb:0000000000000000 $t
     /tmp/cc3tDhb2.s:1401   .text.lwip_unlink_select_cb:0000000000000000 lwip_unlink_select_cb
     /tmp/cc3tDhb2.s:1498   .text.lwip_unlink_select_cb:0000000000000058 $d
     /tmp/cc3tDhb2.s:1508   .rodata.lwip_sock_make_addr.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:1518   .text.lwip_sock_make_addr:0000000000000000 $t
     /tmp/cc3tDhb2.s:1524   .text.lwip_sock_make_addr:0000000000000000 lwip_sock_make_addr
     /tmp/cc3tDhb2.s:1676   .text.lwip_sock_make_addr:000000000000008c $d
     /tmp/cc3tDhb2.s:1685   .text.lwip_recv_tcp_from:0000000000000000 $t
     /tmp/cc3tDhb2.s:1691   .text.lwip_recv_tcp_from:0000000000000000 lwip_recv_tcp_from
     /tmp/cc3tDhb2.s:1802   .text.lwip_getaddrname:0000000000000000 $t
     /tmp/cc3tDhb2.s:1808   .text.lwip_getaddrname:0000000000000000 lwip_getaddrname
     /tmp/cc3tDhb2.s:1953   .text.lwip_getaddrname:0000000000000074 $d
     /tmp/cc3tDhb2.s:1958   .text.free_socket_free_elements:0000000000000000 $t
     /tmp/cc3tDhb2.s:1964   .text.free_socket_free_elements:0000000000000000 free_socket_free_elements
     /tmp/cc3tDhb2.s:2013   .text.free_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:2019   .text.free_socket:0000000000000000 free_socket
     /tmp/cc3tDhb2.s:2094   .rodata.lwip_recv_tcp.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:2110   .text.lwip_recv_tcp:0000000000000000 $t
     /tmp/cc3tDhb2.s:2116   .text.lwip_recv_tcp:0000000000000000 lwip_recv_tcp
ARM GAS  /tmp/cc3tDhb2.s 			page 298


     /tmp/cc3tDhb2.s:2470   .text.lwip_recv_tcp:0000000000000158 $d
     /tmp/cc3tDhb2.s:2482   .rodata.lwip_recvfrom_udp_raw.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:2489   .text.lwip_recvfrom_udp_raw:0000000000000000 $t
     /tmp/cc3tDhb2.s:2495   .text.lwip_recvfrom_udp_raw:0000000000000000 lwip_recvfrom_udp_raw
     /tmp/cc3tDhb2.s:2798   .text.lwip_recvfrom_udp_raw:0000000000000100 $d
     /tmp/cc3tDhb2.s:2806   .text.select_check_waiters:0000000000000000 $t
     /tmp/cc3tDhb2.s:2812   .text.select_check_waiters:0000000000000000 select_check_waiters
     /tmp/cc3tDhb2.s:2985   .text.select_check_waiters:00000000000000a4 $d
     /tmp/cc3tDhb2.s:2990   .rodata.event_callback.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:2994   .text.event_callback:0000000000000000 $t
     /tmp/cc3tDhb2.s:3000   .text.event_callback:0000000000000000 event_callback
     /tmp/cc3tDhb2.s:3061   .text.event_callback:000000000000002a $d
     /tmp/cc3tDhb2.s:3269   .text.event_callback:00000000000000e4 $d
     /tmp/cc3tDhb2.s:3276   .text.lwip_getsockopt_impl:0000000000000000 $t
     /tmp/cc3tDhb2.s:3282   .text.lwip_getsockopt_impl:0000000000000000 lwip_getsockopt_impl
     /tmp/cc3tDhb2.s:3929   .rodata.lwip_setsockopt_impl.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:3933   .text.lwip_setsockopt_impl:0000000000000000 $t
     /tmp/cc3tDhb2.s:3939   .text.lwip_setsockopt_impl:0000000000000000 lwip_setsockopt_impl
     /tmp/cc3tDhb2.s:4538   .text.lwip_setsockopt_impl:000000000000021c $d
     /tmp/cc3tDhb2.s:4545   .text.lwip_socket_thread_init:0000000000000000 $t
     /tmp/cc3tDhb2.s:4552   .text.lwip_socket_thread_init:0000000000000000 lwip_socket_thread_init
     /tmp/cc3tDhb2.s:4566   .text.lwip_socket_thread_cleanup:0000000000000000 $t
     /tmp/cc3tDhb2.s:4573   .text.lwip_socket_thread_cleanup:0000000000000000 lwip_socket_thread_cleanup
     /tmp/cc3tDhb2.s:4587   .text.lwip_socket_dbg_get_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:4594   .text.lwip_socket_dbg_get_socket:0000000000000000 lwip_socket_dbg_get_socket
     /tmp/cc3tDhb2.s:4617   .rodata.lwip_accept.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:4624   .text.lwip_accept:0000000000000000 $t
     /tmp/cc3tDhb2.s:4631   .text.lwip_accept:0000000000000000 lwip_accept
     /tmp/cc3tDhb2.s:5020   .text.lwip_accept:000000000000015c $d
     /tmp/cc3tDhb2.s:5031   .rodata.lwip_bind.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:5035   .text.lwip_bind:0000000000000000 $t
     /tmp/cc3tDhb2.s:5042   .text.lwip_bind:0000000000000000 lwip_bind
     /tmp/cc3tDhb2.s:5197   .text.lwip_bind:0000000000000074 $d
     /tmp/cc3tDhb2.s:5205   .rodata.lwip_close.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:5209   .text.lwip_close:0000000000000000 $t
     /tmp/cc3tDhb2.s:5216   .text.lwip_close:0000000000000000 lwip_close
     /tmp/cc3tDhb2.s:5345   .text.lwip_close:0000000000000060 $d
     /tmp/cc3tDhb2.s:5353   .rodata.lwip_connect.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:5357   .text.lwip_connect:0000000000000000 $t
     /tmp/cc3tDhb2.s:5364   .text.lwip_connect:0000000000000000 lwip_connect
     /tmp/cc3tDhb2.s:5543   .text.lwip_connect:0000000000000080 $d
     /tmp/cc3tDhb2.s:5551   .text.lwip_listen:0000000000000000 $t
     /tmp/cc3tDhb2.s:5558   .text.lwip_listen:0000000000000000 lwip_listen
     /tmp/cc3tDhb2.s:5677   .text.lwip_listen:0000000000000054 $d
     /tmp/cc3tDhb2.s:5682   .rodata.lwip_recvfrom.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:5686   .text.lwip_recvfrom:0000000000000000 $t
     /tmp/cc3tDhb2.s:5693   .text.lwip_recvfrom:0000000000000000 lwip_recvfrom
     /tmp/cc3tDhb2.s:5916   .text.lwip_recvfrom:00000000000000bc $d
     /tmp/cc3tDhb2.s:5922   .text.lwip_read:0000000000000000 $t
     /tmp/cc3tDhb2.s:5929   .text.lwip_read:0000000000000000 lwip_read
     /tmp/cc3tDhb2.s:5961   .text.lwip_recv:0000000000000000 $t
     /tmp/cc3tDhb2.s:5968   .text.lwip_recv:0000000000000000 lwip_recv
     /tmp/cc3tDhb2.s:6001   .rodata.lwip_recvmsg.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:6008   .text.lwip_recvmsg:0000000000000000 $t
     /tmp/cc3tDhb2.s:6015   .text.lwip_recvmsg:0000000000000000 lwip_recvmsg
     /tmp/cc3tDhb2.s:6394   .text.lwip_recvmsg:000000000000014c $d
     /tmp/cc3tDhb2.s:6403   .text.lwip_readv:0000000000000000 $t
ARM GAS  /tmp/cc3tDhb2.s 			page 299


     /tmp/cc3tDhb2.s:6410   .text.lwip_readv:0000000000000000 lwip_readv
     /tmp/cc3tDhb2.s:6468   .rodata.lwip_sendmsg.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:6484   .text.lwip_sendmsg:0000000000000000 $t
     /tmp/cc3tDhb2.s:6491   .text.lwip_sendmsg:0000000000000000 lwip_sendmsg
     /tmp/cc3tDhb2.s:7055   .text.lwip_sendmsg:00000000000001fc $d
     /tmp/cc3tDhb2.s:7067   .rodata.lwip_sendto.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:7071   .text.lwip_sendto:0000000000000000 $t
     /tmp/cc3tDhb2.s:7078   .text.lwip_sendto:0000000000000000 lwip_sendto
     /tmp/cc3tDhb2.s:7368   .text.lwip_send:0000000000000000 lwip_send
     /tmp/cc3tDhb2.s:7353   .text.lwip_sendto:00000000000000f0 $d
     /tmp/cc3tDhb2.s:7361   .text.lwip_send:0000000000000000 $t
     /tmp/cc3tDhb2.s:7518   .text.lwip_send:000000000000007c $d
     /tmp/cc3tDhb2.s:7523   .text.lwip_socket:0000000000000000 $t
     /tmp/cc3tDhb2.s:7530   .text.lwip_socket:0000000000000000 lwip_socket
     /tmp/cc3tDhb2.s:7708   .text.lwip_socket:0000000000000080 $d
     /tmp/cc3tDhb2.s:7714   .text.lwip_write:0000000000000000 $t
     /tmp/cc3tDhb2.s:7721   .text.lwip_write:0000000000000000 lwip_write
     /tmp/cc3tDhb2.s:7745   .text.lwip_writev:0000000000000000 $t
     /tmp/cc3tDhb2.s:7752   .text.lwip_writev:0000000000000000 lwip_writev
     /tmp/cc3tDhb2.s:7810   .text.lwip_select:0000000000000000 $t
     /tmp/cc3tDhb2.s:7817   .text.lwip_select:0000000000000000 lwip_select
     /tmp/cc3tDhb2.s:8466   .text.lwip_select:0000000000000290 $d
     /tmp/cc3tDhb2.s:8476   .rodata.lwip_poll.str1.4:0000000000000000 $d
     /tmp/cc3tDhb2.s:8483   .text.lwip_poll:0000000000000000 $t
     /tmp/cc3tDhb2.s:8490   .text.lwip_poll:0000000000000000 lwip_poll
     /tmp/cc3tDhb2.s:8732   .text.lwip_poll:00000000000000c0 $d
     /tmp/cc3tDhb2.s:8741   .text.lwip_shutdown:0000000000000000 $t
     /tmp/cc3tDhb2.s:8748   .text.lwip_shutdown:0000000000000000 lwip_shutdown
     /tmp/cc3tDhb2.s:8923   .text.lwip_shutdown:0000000000000078 $d
     /tmp/cc3tDhb2.s:8928   .text.lwip_getpeername:0000000000000000 $t
     /tmp/cc3tDhb2.s:8935   .text.lwip_getpeername:0000000000000000 lwip_getpeername
     /tmp/cc3tDhb2.s:8959   .text.lwip_getsockname:0000000000000000 $t
     /tmp/cc3tDhb2.s:8966   .text.lwip_getsockname:0000000000000000 lwip_getsockname
     /tmp/cc3tDhb2.s:8990   .text.lwip_getsockopt:0000000000000000 $t
     /tmp/cc3tDhb2.s:8997   .text.lwip_getsockopt:0000000000000000 lwip_getsockopt
     /tmp/cc3tDhb2.s:9128   .text.lwip_getsockopt:000000000000006c $d
     /tmp/cc3tDhb2.s:9134   .text.lwip_setsockopt:0000000000000000 $t
     /tmp/cc3tDhb2.s:9141   .text.lwip_setsockopt:0000000000000000 lwip_setsockopt
     /tmp/cc3tDhb2.s:9269   .text.lwip_setsockopt:0000000000000060 $d
     /tmp/cc3tDhb2.s:9275   .text.lwip_ioctl:0000000000000000 $t
     /tmp/cc3tDhb2.s:9282   .text.lwip_ioctl:0000000000000000 lwip_ioctl
     /tmp/cc3tDhb2.s:9384   .text.lwip_ioctl:0000000000000048 $d
     /tmp/cc3tDhb2.s:9390   .text.lwip_fcntl:0000000000000000 $t
     /tmp/cc3tDhb2.s:9397   .text.lwip_fcntl:0000000000000000 lwip_fcntl
     /tmp/cc3tDhb2.s:9591   .text.lwip_fcntl:00000000000000a8 $d
     /tmp/cc3tDhb2.s:9597   .text.lwip_inet_ntop:0000000000000000 $t
     /tmp/cc3tDhb2.s:9604   .text.lwip_inet_ntop:0000000000000000 lwip_inet_ntop
     /tmp/cc3tDhb2.s:9689   .text.lwip_inet_ntop:0000000000000034 $d
     /tmp/cc3tDhb2.s:9694   .text.lwip_inet_pton:0000000000000000 $t
     /tmp/cc3tDhb2.s:9701   .text.lwip_inet_pton:0000000000000000 lwip_inet_pton
     /tmp/cc3tDhb2.s:9751   .text.lwip_inet_pton:000000000000001c $d
     /tmp/cc3tDhb2.s:9756   .bss.select_cb_list:0000000000000000 $d
     /tmp/cc3tDhb2.s:9760   .bss.select_cb_list:0000000000000000 select_cb_list
     /tmp/cc3tDhb2.s:9763   .bss.sockets:0000000000000000 $d
     /tmp/cc3tDhb2.s:9767   .bss.sockets:0000000000000000 sockets
     /tmp/cc3tDhb2.s:3067   .text.event_callback:000000000000002f $d
     /tmp/cc3tDhb2.s:3067   .text.event_callback:0000000000000030 $t
ARM GAS  /tmp/cc3tDhb2.s 			page 300



UNDEFINED SYMBOLS
errno
printf
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
lock_tcpip_core
lwip_htons
memcpy
netconn_getaddr
err_to_errno
pbuf_free
netconn_delete
netbuf_delete
netconn_recv_tcp_pbuf_flags
pbuf_copy_partial
pbuf_free_header
netconn_tcp_recvd
netconn_recv_udp_raw_netbuf_flags
sys_sem_signal
netconn_err
netif_find
tcp_bind_netif
udp_bind_netif
netconn_accept
netconn_bind
netconn_prepare_delete
netconn_connect
netconn_disconnect
netconn_listen_with_backlog
netconn_write_vectors_partly
pbuf_cat
pbuf_alloc
netbuf_free
netconn_send
netbuf_ref
netconn_write_partly
netconn_new_with_proto_and_callback
memset
sys_sem_new
sys_arch_sem_wait
sys_sem_free
netconn_shutdown
ip4addr_ntoa_r
ip4addr_aton
