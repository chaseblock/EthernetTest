ARM GAS  /tmp/ccwuqUhA.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"api_msg.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.lwip_netconn_err_to_msg.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
  20      6C657761 
  20      7265732F 
  20      54686972 
  20      645F5061 
  21 002f 00       		.align	2
  22              	.LC1:
  23 0030 756E6861 		.ascii	"unhandled error\000"
  23      6E646C65 
  23      64206572 
  23      726F7200 
  24              		.align	2
  25              	.LC2:
  26 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  26      7274696F 
  26      6E202225 
  26      73222066 
  26      61696C65 
  27              		.section	.text.lwip_netconn_err_to_msg,"ax",%progbits
  28              		.align	1
  29              		.arch armv7e-m
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  33              		.fpu fpv4-sp-d16
  35              	lwip_netconn_err_to_msg:
  36              	.LVL0:
  37              	.LFB159:
  38              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
ARM GAS  /tmp/ccwuqUhA.s 			page 2


  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_set_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_clear_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) netconn_is_flag_set(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT)
ARM GAS  /tmp/ccwuqUhA.s 			page 3


  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) (sys_mbox_valid(mbox) && ((conn->flags & NETCONN_FLAG_MBOXIN
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) sys_mbox_valid(mbox)
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void netconn_drain(struct netconn *conn);
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { sys_sem_signal(LWIP_API_MSG_SEM(m)); } while(0)
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_deleted = 0;
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_deallocated_msg(void *msg)
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_deleted) {
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_aborted = 0;
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_reset = 0;
 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_closed = 0;
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Translate an error to a unique void* passed via an mbox */
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void *
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_err_to_msg(err_t err)
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  39              		.loc 1 116 1 view -0
  40              		.cfi_startproc
  41              		@ args = 0, pretend = 0, frame = 0
  42              		@ frame_needed = 0, uses_anonymous_args = 0
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  43              		.loc 1 117 3 view .LVU1
  44 0000 10F10E0F 		cmn	r0, #14
ARM GAS  /tmp/ccwuqUhA.s 			page 4


  45 0004 11D0     		beq	.L3
  46 0006 10F10D0F 		cmn	r0, #13
  47 000a 10D0     		beq	.L4
  48 000c 10F10F0F 		cmn	r0, #15
  49 0010 0FD0     		beq	.L5
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_aborted);
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_RST:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_reset);
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_closed);
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("unhandled error", err == ERR_OK);
  50              		.loc 1 125 7 view .LVU2
  51              		.loc 1 125 7 view .LVU3
  52 0012 08B9     		cbnz	r0, .L11
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  53              		.loc 1 126 14 is_stmt 0 view .LVU4
  54 0014 0020     		movs	r0, #0
  55              	.LVL1:
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
  56              		.loc 1 128 1 view .LVU5
  57 0016 7047     		bx	lr
  58              	.LVL2:
  59              	.L11:
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  60              		.loc 1 116 1 discriminator 1 view .LVU6
  61 0018 08B5     		push	{r3, lr}
  62              	.LCFI0:
  63              		.cfi_def_cfa_offset 8
  64              		.cfi_offset 3, -8
  65              		.cfi_offset 14, -4
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  66              		.loc 1 125 7 is_stmt 1 discriminator 1 view .LVU7
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  67              		.loc 1 125 7 discriminator 1 view .LVU8
  68 001a 074B     		ldr	r3, .L12
  69 001c 7D22     		movs	r2, #125
  70 001e 0749     		ldr	r1, .L12+4
  71 0020 0748     		ldr	r0, .L12+8
  72              	.LVL3:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  73              		.loc 1 125 7 is_stmt 0 discriminator 1 view .LVU9
  74 0022 FFF7FEFF 		bl	printf
  75              	.LVL4:
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
  76              		.loc 1 126 14 discriminator 1 view .LVU10
  77 0026 0020     		movs	r0, #0
  78              		.loc 1 128 1 discriminator 1 view .LVU11
  79 0028 08BD     		pop	{r3, pc}
  80              	.LVL5:
  81              	.L3:
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 0
  84              		.cfi_restore 3
  85              		.cfi_restore 14
ARM GAS  /tmp/ccwuqUhA.s 			page 5


 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
  86              		.loc 1 121 14 view .LVU12
  87 002a 0648     		ldr	r0, .L12+12
  88              	.LVL6:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
  89              		.loc 1 121 14 view .LVU13
  90 002c 7047     		bx	lr
  91              	.LVL7:
  92              	.L4:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  93              		.loc 1 117 3 view .LVU14
  94 002e 0648     		ldr	r0, .L12+16
  95              	.LVL8:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  96              		.loc 1 117 3 view .LVU15
  97 0030 7047     		bx	lr
  98              	.LVL9:
  99              	.L5:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 100              		.loc 1 123 14 view .LVU16
 101 0032 0648     		ldr	r0, .L12+20
 102              	.LVL10:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 103              		.loc 1 123 14 view .LVU17
 104 0034 7047     		bx	lr
 105              	.L13:
 106 0036 00BF     		.align	2
 107              	.L12:
 108 0038 00000000 		.word	.LC0
 109 003c 30000000 		.word	.LC1
 110 0040 40000000 		.word	.LC2
 111 0044 00000000 		.word	.LANCHOR0
 112 0048 00000000 		.word	.LANCHOR2
 113 004c 00000000 		.word	.LANCHOR1
 114              		.cfi_endproc
 115              	.LFE159:
 117              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
 118              		.align	2
 119              	.LC3:
 120 0000 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 120      5F756470 
 120      206D7573 
 120      74206861 
 120      76652061 
 121 0022 0000     		.align	2
 122              	.LC4:
 123 0024 72656376 		.ascii	"recv_udp must have an argument\000"
 123      5F756470 
 123      206D7573 
 123      74206861 
 123      76652061 
 124 0043 00       		.align	2
 125              	.LC5:
 126 0044 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 126      5F756470 
 126      3A207265 
 126      63762066 
ARM GAS  /tmp/ccwuqUhA.s 			page 6


 126      6F722077 
 127              		.section	.text.recv_udp,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv4-sp-d16
 134              	recv_udp:
 135              	.LVL11:
 136              	.LFB161:
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_err_msg(void *msg, err_t *err)
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_aborted) {
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr)
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
ARM GAS  /tmp/ccwuqUhA.s 			page 7


 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_clone(PBUF_RAW, PBUF_RAM, p);
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr, u16_t port)
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 137              		.loc 1 220 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 4, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		.loc 1 220 1 is_stmt 0 view .LVU19
 142 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 143              	.LCFI2:
 144              		.cfi_def_cfa_offset 24
 145              		.cfi_offset 4, -24
 146              		.cfi_offset 5, -20
 147              		.cfi_offset 6, -16
 148              		.cfi_offset 7, -12
ARM GAS  /tmp/ccwuqUhA.s 			page 8


 149              		.cfi_offset 8, -8
 150              		.cfi_offset 14, -4
 151 0004 0446     		mov	r4, r0
 152 0006 1546     		mov	r5, r2
 153 0008 9846     		mov	r8, r3
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 154              		.loc 1 221 3 is_stmt 1 view .LVU20
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 155              		.loc 1 222 3 view .LVU21
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 156              		.loc 1 223 3 view .LVU22
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 157              		.loc 1 228 3 view .LVU23
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
 158              		.loc 1 229 3 view .LVU24
 159              		.loc 1 229 3 view .LVU25
 160 000a 0E46     		mov	r6, r1
 161 000c 79B3     		cbz	r1, .L26
 162              	.LVL12:
 163              	.L15:
 164              		.loc 1 229 3 discriminator 3 view .LVU26
 165              		.loc 1 229 3 discriminator 3 view .LVU27
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 166              		.loc 1 230 3 discriminator 3 view .LVU28
 167              		.loc 1 230 3 discriminator 3 view .LVU29
 168 000e 002C     		cmp	r4, #0
 169 0010 34D0     		beq	.L27
 170              	.L16:
 171              		.loc 1 230 3 discriminator 3 view .LVU30
 172              		.loc 1 230 3 discriminator 3 view .LVU31
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 173              		.loc 1 231 3 discriminator 3 view .LVU32
 174              	.LVL13:
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 175              		.loc 1 233 3 discriminator 3 view .LVU33
 176              		.loc 1 233 6 is_stmt 0 discriminator 3 view .LVU34
 177 0012 002C     		cmp	r4, #0
 178 0014 39D0     		beq	.L28
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
 179              		.loc 1 238 3 is_stmt 1 view .LVU35
 180              		.loc 1 238 3 view .LVU36
 181 0016 6368     		ldr	r3, [r4, #4]
 182 0018 B342     		cmp	r3, r6
 183 001a 05D0     		beq	.L19
 184              		.loc 1 238 3 discriminator 1 view .LVU37
 185              		.loc 1 238 3 discriminator 1 view .LVU38
 186 001c 244B     		ldr	r3, .L32
 187 001e EE22     		movs	r2, #238
ARM GAS  /tmp/ccwuqUhA.s 			page 9


 188 0020 2449     		ldr	r1, .L32+4
 189 0022 2548     		ldr	r0, .L32+8
 190 0024 FFF7FEFF 		bl	printf
 191              	.LVL14:
 192              	.L19:
 193              		.loc 1 238 3 discriminator 3 view .LVU39
 194              		.loc 1 238 3 discriminator 3 view .LVU40
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox) ||
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 195              		.loc 1 245 3 discriminator 3 view .LVU41
 196              		.loc 1 245 8 is_stmt 0 discriminator 3 view .LVU42
 197 0028 04F11007 		add	r7, r4, #16
 198 002c 3846     		mov	r0, r7
 199 002e FFF7FEFF 		bl	sys_mbox_valid
 200              	.LVL15:
 201              		.loc 1 245 6 discriminator 3 view .LVU43
 202 0032 70B3     		cbz	r0, .L29
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 203              		.loc 1 251 3 is_stmt 1 view .LVU44
 204              		.loc 1 251 26 is_stmt 0 view .LVU45
 205 0034 0620     		movs	r0, #6
 206 0036 FFF7FEFF 		bl	memp_malloc
 207              	.LVL16:
 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
 208              		.loc 1 252 3 is_stmt 1 view .LVU46
 209              		.loc 1 252 6 is_stmt 0 view .LVU47
 210 003a 0646     		mov	r6, r0
 211              	.LVL17:
 212              		.loc 1 252 6 view .LVU48
 213 003c 70B3     		cbz	r0, .L30
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
 214              		.loc 1 256 5 is_stmt 1 view .LVU49
 215              		.loc 1 256 12 is_stmt 0 view .LVU50
 216 003e 0560     		str	r5, [r0]
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
 217              		.loc 1 257 5 is_stmt 1 view .LVU51
 218              		.loc 1 257 14 is_stmt 0 view .LVU52
 219 0040 4560     		str	r5, [r0, #4]
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 220              		.loc 1 258 5 is_stmt 1 view .LVU53
 221 0042 B8F1000F 		cmp	r8, #0
 222 0046 2DD0     		beq	.L24
 223              		.loc 1 258 5 is_stmt 0 discriminator 1 view .LVU54
 224 0048 D8F80030 		ldr	r3, [r8]
ARM GAS  /tmp/ccwuqUhA.s 			page 10


 225              	.L22:
 226              		.loc 1 258 5 discriminator 4 view .LVU55
 227 004c B360     		str	r3, [r6, #8]
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 228              		.loc 1 259 5 is_stmt 1 discriminator 4 view .LVU56
 229              		.loc 1 259 15 is_stmt 0 discriminator 4 view .LVU57
 230 004e BDF81830 		ldrh	r3, [sp, #24]
 231 0052 B381     		strh	r3, [r6, #12]	@ movhi
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->flags & NETCONN_FLAG_PKTINFO) {
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)ip_next_header_ptr();
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
 232              		.loc 1 271 3 is_stmt 1 discriminator 4 view .LVU58
 233              		.loc 1 271 7 is_stmt 0 discriminator 4 view .LVU59
 234 0054 2D89     		ldrh	r5, [r5, #8]
 235              	.LVL18:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 236              		.loc 1 272 3 is_stmt 1 discriminator 4 view .LVU60
 237              		.loc 1 272 7 is_stmt 0 discriminator 4 view .LVU61
 238 0056 3146     		mov	r1, r6
 239 0058 3846     		mov	r0, r7
 240              	.LVL19:
 241              		.loc 1 272 7 discriminator 4 view .LVU62
 242 005a FFF7FEFF 		bl	sys_mbox_trypost
 243              	.LVL20:
 244              		.loc 1 272 6 discriminator 4 view .LVU63
 245 005e 18BB     		cbnz	r0, .L31
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 246              		.loc 1 280 5 is_stmt 1 view .LVU64
 247 0060 636A     		ldr	r3, [r4, #36]
 248 0062 CBB1     		cbz	r3, .L14
 249              		.loc 1 280 5 discriminator 1 view .LVU65
 250 0064 2A46     		mov	r2, r5
 251 0066 0021     		movs	r1, #0
 252 0068 2046     		mov	r0, r4
 253 006a 9847     		blx	r3
 254              	.LVL21:
 255              		.loc 1 280 46 discriminator 1 view .LVU66
 256 006c 14E0     		b	.L14
 257              	.LVL22:
 258              	.L26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
ARM GAS  /tmp/ccwuqUhA.s 			page 11


 259              		.loc 1 229 3 discriminator 1 view .LVU67
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 260              		.loc 1 229 3 discriminator 1 view .LVU68
 261 006e 104B     		ldr	r3, .L32
 262              	.LVL23:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 263              		.loc 1 229 3 is_stmt 0 discriminator 1 view .LVU69
 264 0070 E522     		movs	r2, #229
 265              	.LVL24:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 266              		.loc 1 229 3 discriminator 1 view .LVU70
 267 0072 1249     		ldr	r1, .L32+12
 268              	.LVL25:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 269              		.loc 1 229 3 discriminator 1 view .LVU71
 270 0074 1048     		ldr	r0, .L32+8
 271              	.LVL26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 272              		.loc 1 229 3 discriminator 1 view .LVU72
 273 0076 FFF7FEFF 		bl	printf
 274              	.LVL27:
 275 007a C8E7     		b	.L15
 276              	.L27:
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 277              		.loc 1 230 3 is_stmt 1 discriminator 1 view .LVU73
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 278              		.loc 1 230 3 discriminator 1 view .LVU74
 279 007c 0C4B     		ldr	r3, .L32
 280 007e E622     		movs	r2, #230
 281 0080 0F49     		ldr	r1, .L32+16
 282 0082 0D48     		ldr	r0, .L32+8
 283 0084 FFF7FEFF 		bl	printf
 284              	.LVL28:
 285 0088 C3E7     		b	.L16
 286              	.LVL29:
 287              	.L28:
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 288              		.loc 1 234 5 view .LVU75
 289 008a 2846     		mov	r0, r5
 290 008c FFF7FEFF 		bl	pbuf_free
 291              	.LVL30:
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 292              		.loc 1 235 5 view .LVU76
 293 0090 02E0     		b	.L14
 294              	.L29:
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 295              		.loc 1 247 5 view .LVU77
 296 0092 2846     		mov	r0, r5
 297 0094 FFF7FEFF 		bl	pbuf_free
 298              	.LVL31:
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 299              		.loc 1 248 5 view .LVU78
 300              	.L14:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 301              		.loc 1 282 1 is_stmt 0 view .LVU79
 302 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  /tmp/ccwuqUhA.s 			page 12


 303              	.LVL32:
 304              	.L30:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 305              		.loc 1 253 5 is_stmt 1 view .LVU80
 306 009c 2846     		mov	r0, r5
 307              	.LVL33:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 308              		.loc 1 253 5 is_stmt 0 view .LVU81
 309 009e FFF7FEFF 		bl	pbuf_free
 310              	.LVL34:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 311              		.loc 1 254 5 is_stmt 1 view .LVU82
 312 00a2 F9E7     		b	.L14
 313              	.LVL35:
 314              	.L24:
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 315              		.loc 1 258 5 is_stmt 0 view .LVU83
 316 00a4 0023     		movs	r3, #0
 317 00a6 D1E7     		b	.L22
 318              	.LVL36:
 319              	.L31:
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 320              		.loc 1 273 5 is_stmt 1 view .LVU84
 321 00a8 3046     		mov	r0, r6
 322 00aa FFF7FEFF 		bl	netbuf_delete
 323              	.LVL37:
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 324              		.loc 1 274 5 view .LVU85
 325 00ae F3E7     		b	.L14
 326              	.L33:
 327              		.align	2
 328              	.L32:
 329 00b0 00000000 		.word	.LC0
 330 00b4 44000000 		.word	.LC5
 331 00b8 40000000 		.word	.LC2
 332 00bc 00000000 		.word	.LC3
 333 00c0 24000000 		.word	.LC4
 334              		.cfi_endproc
 335              	.LFE161:
 337              		.section	.text.setup_tcp,"ax",%progbits
 338              		.align	1
 339              		.syntax unified
 340              		.thumb
 341              		.thumb_func
 342              		.fpu fpv4-sp-d16
 344              	setup_tcp:
 345              	.LVL38:
 346              	.LFB166:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
ARM GAS  /tmp/ccwuqUhA.s 			page 13


 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = LWIP_CONST_CAST(void *, &netconn_closed);
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, msg) != ERR_OK) {
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
ARM GAS  /tmp/ccwuqUhA.s 			page 14


 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
ARM GAS  /tmp/ccwuqUhA.s 			page 15


 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_PROTECT(lev);
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* when err is called, the pcb is deallocated, so delete the reference */
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = err;
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXCLOSED;
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_UNPROTECT(lev);
 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
ARM GAS  /tmp/ccwuqUhA.s 			page 16


 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   mbox_msg = lwip_netconn_err_to_msg(err);
 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, mbox_msg);
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to acceptmbox to wake up pending accept */
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, mbox_msg);
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = ERR_OK;
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Write and connect fail */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = err;
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* @todo: test what happens for error on nonblocking connect */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 347              		.loc 1 515 1 view -0
 348              		.cfi_startproc
 349              		@ args = 0, pretend = 0, frame = 0
 350              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccwuqUhA.s 			page 17


 351              		.loc 1 515 1 is_stmt 0 view .LVU87
 352 0000 10B5     		push	{r4, lr}
 353              	.LCFI3:
 354              		.cfi_def_cfa_offset 8
 355              		.cfi_offset 4, -8
 356              		.cfi_offset 14, -4
 357 0002 0146     		mov	r1, r0
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 358              		.loc 1 516 3 is_stmt 1 view .LVU88
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 359              		.loc 1 518 3 view .LVU89
 360              		.loc 1 518 7 is_stmt 0 view .LVU90
 361 0004 4468     		ldr	r4, [r0, #4]
 362              	.LVL39:
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 363              		.loc 1 519 3 is_stmt 1 view .LVU91
 364 0006 2046     		mov	r0, r4
 365              	.LVL40:
 366              		.loc 1 519 3 is_stmt 0 view .LVU92
 367 0008 FFF7FEFF 		bl	tcp_arg
 368              	.LVL41:
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 369              		.loc 1 520 3 is_stmt 1 view .LVU93
 370 000c 0849     		ldr	r1, .L36
 371 000e 2046     		mov	r0, r4
 372 0010 FFF7FEFF 		bl	tcp_recv
 373              	.LVL42:
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 374              		.loc 1 521 3 view .LVU94
 375 0014 0749     		ldr	r1, .L36+4
 376 0016 2046     		mov	r0, r4
 377 0018 FFF7FEFF 		bl	tcp_sent
 378              	.LVL43:
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 379              		.loc 1 522 3 view .LVU95
 380 001c 0222     		movs	r2, #2
 381 001e 0649     		ldr	r1, .L36+8
 382 0020 2046     		mov	r0, r4
 383 0022 FFF7FEFF 		bl	tcp_poll
 384              	.LVL44:
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 385              		.loc 1 523 3 view .LVU96
 386 0026 0549     		ldr	r1, .L36+12
 387 0028 2046     		mov	r0, r4
 388 002a FFF7FEFF 		bl	tcp_err
 389              	.LVL45:
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 390              		.loc 1 524 1 is_stmt 0 view .LVU97
 391 002e 10BD     		pop	{r4, pc}
 392              	.LVL46:
 393              	.L37:
 394              		.loc 1 524 1 view .LVU98
 395              		.align	2
 396              	.L36:
 397 0030 00000000 		.word	recv_tcp
 398 0034 00000000 		.word	sent_tcp
ARM GAS  /tmp/ccwuqUhA.s 			page 18


 399 0038 00000000 		.word	poll_tcp
 400 003c 00000000 		.word	err_tcp
 401              		.cfi_endproc
 402              	.LFE166:
 404              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 405              		.align	2
 406              	.LC6:
 407 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 407      6E65773A 
 407      20706362 
 407      20616C72 
 407      65616479 
 408              		.section	.text.pcb_new,"ax",%progbits
 409              		.align	1
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 413              		.fpu fpv4-sp-d16
 415              	pcb_new:
 416              	.LVL47:
 417              	.LFB168:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("expect newpcb == NULL or err == ERR_OK", err == ERR_OK);
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->state: %s\n", tcp_debug_state_str(newpcb->s
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
ARM GAS  /tmp/ccwuqUhA.s 			page 19


 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb *pcb = newconn->pcb.tcp;
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg describing the connection type
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 418              		.loc 1 610 1 is_stmt 1 view -0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              		.loc 1 610 1 is_stmt 0 view .LVU100
 423 0000 38B5     		push	{r3, r4, r5, lr}
 424              	.LCFI4:
ARM GAS  /tmp/ccwuqUhA.s 			page 20


 425              		.cfi_def_cfa_offset 16
 426              		.cfi_offset 3, -16
 427              		.cfi_offset 4, -12
 428              		.cfi_offset 5, -8
 429              		.cfi_offset 14, -4
 430 0002 0446     		mov	r4, r0
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 431              		.loc 1 611 3 is_stmt 1 view .LVU101
 432              	.LVL48:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 433              		.loc 1 613 3 view .LVU102
 434              		.loc 1 613 3 view .LVU103
 435 0004 0368     		ldr	r3, [r0]
 436 0006 5B68     		ldr	r3, [r3, #4]
 437 0008 33B1     		cbz	r3, .L39
 438              		.loc 1 613 3 discriminator 1 view .LVU104
 439              		.loc 1 613 3 discriminator 1 view .LVU105
 440 000a 1B4B     		ldr	r3, .L48
 441 000c 40F26522 		movw	r2, #613
 442 0010 1A49     		ldr	r1, .L48+4
 443 0012 1B48     		ldr	r0, .L48+8
 444              	.LVL49:
 445              		.loc 1 613 3 is_stmt 0 discriminator 1 view .LVU106
 446 0014 FFF7FEFF 		bl	printf
 447              	.LVL50:
 448              	.L39:
 449              		.loc 1 613 3 is_stmt 1 discriminator 3 view .LVU107
 450              		.loc 1 613 3 discriminator 3 view .LVU108
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 451              		.loc 1 623 3 discriminator 3 view .LVU109
 452              		.loc 1 623 11 is_stmt 0 discriminator 3 view .LVU110
 453 0018 2568     		ldr	r5, [r4]
 454 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 455 001c 03F0F003 		and	r3, r3, #240
 456              		.loc 1 623 3 discriminator 3 view .LVU111
 457 0020 102B     		cmp	r3, #16
 458 0022 17D0     		beq	.L40
 459              		.loc 1 623 3 view .LVU112
 460 0024 202B     		cmp	r3, #32
 461 0026 20D1     		bne	.L41
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.raw != NULL) {
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapt
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6)
ARM GAS  /tmp/ccwuqUhA.s 			page 21


 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_reqd = 1;
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_offset = 2;
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.udp = udp_new_ip_type(iptype);
 462              		.loc 1 641 7 is_stmt 1 view .LVU113
 463              		.loc 1 641 28 is_stmt 0 view .LVU114
 464 0028 0020     		movs	r0, #0
 465 002a FFF7FEFF 		bl	udp_new_ip_type
 466              	.LVL51:
 467              		.loc 1 641 26 view .LVU115
 468 002e 6860     		str	r0, [r5, #4]
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.udp != NULL) {
 469              		.loc 1 642 7 is_stmt 1 view .LVU116
 470              		.loc 1 642 14 is_stmt 0 view .LVU117
 471 0030 2368     		ldr	r3, [r4]
 472              		.loc 1 642 25 view .LVU118
 473 0032 5A68     		ldr	r2, [r3, #4]
 474              		.loc 1 642 10 view .LVU119
 475 0034 3AB1     		cbz	r2, .L42
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 476              		.loc 1 648 9 is_stmt 1 view .LVU120
 477              		.loc 1 648 13 is_stmt 0 view .LVU121
 478 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 479              		.loc 1 648 12 view .LVU122
 480 0038 222B     		cmp	r3, #34
 481 003a 08D0     		beq	.L46
 482              	.L43:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 483              		.loc 1 651 9 is_stmt 1 view .LVU123
 484              		.loc 1 651 21 is_stmt 0 view .LVU124
 485 003c 2268     		ldr	r2, [r4]
 486              		.loc 1 651 9 view .LVU125
 487 003e 1149     		ldr	r1, .L48+12
 488 0040 5068     		ldr	r0, [r2, #4]
 489 0042 FFF7FEFF 		bl	udp_recv
 490              	.LVL52:
 491              	.L42:
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
ARM GAS  /tmp/ccwuqUhA.s 			page 22


 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Unsupported netconn type, e.g. protocol disabled */
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 492              		.loc 1 668 3 is_stmt 1 view .LVU126
 493              		.loc 1 668 10 is_stmt 0 view .LVU127
 494 0046 2368     		ldr	r3, [r4]
 495              		.loc 1 668 21 view .LVU128
 496 0048 5B68     		ldr	r3, [r3, #4]
 497              		.loc 1 668 6 view .LVU129
 498 004a 8BB1     		cbz	r3, .L47
 499              	.L38:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 500              		.loc 1 671 1 view .LVU130
 501 004c 38BD     		pop	{r3, r4, r5, pc}
 502              	.LVL53:
 503              	.L46:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 504              		.loc 1 649 11 is_stmt 1 view .LVU131
 505 004e 0123     		movs	r3, #1
 506 0050 1374     		strb	r3, [r2, #16]
 507 0052 F3E7     		b	.L43
 508              	.L40:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 509              		.loc 1 657 7 view .LVU132
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 510              		.loc 1 657 28 is_stmt 0 view .LVU133
 511 0054 0020     		movs	r0, #0
 512 0056 FFF7FEFF 		bl	tcp_new_ip_type
 513              	.LVL54:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 514              		.loc 1 657 26 view .LVU134
 515 005a 6860     		str	r0, [r5, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 516              		.loc 1 658 7 is_stmt 1 view .LVU135
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 517              		.loc 1 658 14 is_stmt 0 view .LVU136
 518 005c 2068     		ldr	r0, [r4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 519              		.loc 1 658 25 view .LVU137
 520 005e 4368     		ldr	r3, [r0, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 521              		.loc 1 658 10 view .LVU138
 522 0060 002B     		cmp	r3, #0
 523 0062 F0D0     		beq	.L42
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 524              		.loc 1 659 9 is_stmt 1 view .LVU139
 525 0064 FFF7FEFF 		bl	setup_tcp
ARM GAS  /tmp/ccwuqUhA.s 			page 23


 526              	.LVL55:
 527 0068 EDE7     		b	.L42
 528              	.L41:
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 529              		.loc 1 665 7 view .LVU140
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 530              		.loc 1 665 16 is_stmt 0 view .LVU141
 531 006a FA23     		movs	r3, #250
 532 006c 2371     		strb	r3, [r4, #4]
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 533              		.loc 1 666 7 is_stmt 1 view .LVU142
 534 006e EDE7     		b	.L38
 535              	.L47:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 536              		.loc 1 669 5 view .LVU143
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 537              		.loc 1 669 14 is_stmt 0 view .LVU144
 538 0070 FF23     		movs	r3, #255
 539 0072 2371     		strb	r3, [r4, #4]
 540 0074 EAE7     		b	.L38
 541              	.L49:
 542 0076 00BF     		.align	2
 543              	.L48:
 544 0078 00000000 		.word	.LC0
 545 007c 00000000 		.word	.LC6
 546 0080 40000000 		.word	.LC2
 547 0084 00000000 		.word	recv_udp
 548              		.cfi_endproc
 549              	.LFE168:
 551              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 552              		.align	2
 553              	.LC7:
 554 0000 636F6E6E 		.ascii	"conn != NULL\000"
 554      20213D20 
 554      4E554C4C 
 554      00
 555 000d 000000   		.align	2
 556              	.LC8:
 557 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 557      2D3E6375 
 557      7272656E 
 557      745F6D73 
 557      6720213D 
 558 002a 0000     		.align	2
 559              	.LC9:
 560 002c 696E6176 		.ascii	"inavlid op_completed_sem\000"
 560      6C696420 
 560      6F705F63 
 560      6F6D706C 
 560      65746564 
 561 0045 000000   		.align	2
 562              	.LC10:
 563 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 563      2D3E6375 
 563      7272656E 
 563      745F6D73 
 563      67203D3D 
ARM GAS  /tmp/ccwuqUhA.s 			page 24


 564              		.section	.text.err_tcp,"ax",%progbits
 565              		.align	1
 566              		.syntax unified
 567              		.thumb
 568              		.thumb_func
 569              		.fpu fpv4-sp-d16
 571              	err_tcp:
 572              	.LVL56:
 573              	.LFB165:
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 574              		.loc 1 433 1 is_stmt 1 view -0
 575              		.cfi_startproc
 576              		@ args = 0, pretend = 0, frame = 0
 577              		@ frame_needed = 0, uses_anonymous_args = 0
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 578              		.loc 1 433 1 is_stmt 0 view .LVU146
 579 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 580              	.LCFI5:
 581              		.cfi_def_cfa_offset 24
 582              		.cfi_offset 4, -24
 583              		.cfi_offset 5, -20
 584              		.cfi_offset 6, -16
 585              		.cfi_offset 7, -12
 586              		.cfi_offset 8, -8
 587              		.cfi_offset 14, -4
 588 0004 0D46     		mov	r5, r1
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 589              		.loc 1 434 3 is_stmt 1 view .LVU147
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 590              		.loc 1 435 3 view .LVU148
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 591              		.loc 1 436 3 view .LVU149
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 592              		.loc 1 437 3 view .LVU150
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 593              		.loc 1 439 3 view .LVU151
 594              	.LVL57:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 595              		.loc 1 440 3 view .LVU152
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 596              		.loc 1 440 3 view .LVU153
 597 0006 0446     		mov	r4, r0
 598 0008 0028     		cmp	r0, #0
 599 000a 3ED0     		beq	.L65
 600              	.LVL58:
 601              	.L51:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 602              		.loc 1 440 3 discriminator 3 view .LVU154
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 603              		.loc 1 440 3 discriminator 3 view .LVU155
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 604              		.loc 1 442 3 discriminator 3 view .LVU156
 605 000c FFF7FEFF 		bl	sys_arch_protect
 606              	.LVL59:
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 607              		.loc 1 445 3 discriminator 3 view .LVU157
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
ARM GAS  /tmp/ccwuqUhA.s 			page 25


 608              		.loc 1 445 17 is_stmt 0 discriminator 3 view .LVU158
 609 0010 0022     		movs	r2, #0
 610 0012 6260     		str	r2, [r4, #4]
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 611              		.loc 1 447 3 is_stmt 1 discriminator 3 view .LVU159
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 612              		.loc 1 447 21 is_stmt 0 discriminator 3 view .LVU160
 613 0014 2572     		strb	r5, [r4, #8]
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 614              		.loc 1 449 3 is_stmt 1 discriminator 3 view .LVU161
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615              		.loc 1 449 15 is_stmt 0 discriminator 3 view .LVU162
 616 0016 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 617 0018 43F00103 		orr	r3, r3, #1
 618 001c 2377     		strb	r3, [r4, #28]
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 619              		.loc 1 452 3 is_stmt 1 discriminator 3 view .LVU163
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 620              		.loc 1 452 13 is_stmt 0 discriminator 3 view .LVU164
 621 001e 6778     		ldrb	r7, [r4, #1]	@ zero_extendqisi2
 622              	.LVL60:
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 623              		.loc 1 453 3 is_stmt 1 discriminator 3 view .LVU165
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 624              		.loc 1 453 15 is_stmt 0 discriminator 3 view .LVU166
 625 0020 6270     		strb	r2, [r4, #1]
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 626              		.loc 1 455 3 is_stmt 1 discriminator 3 view .LVU167
 627 0022 FFF7FEFF 		bl	sys_arch_unprotect
 628              	.LVL61:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 629              		.loc 1 458 3 discriminator 3 view .LVU168
 630 0026 636A     		ldr	r3, [r4, #36]
 631 0028 1BB1     		cbz	r3, .L52
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 632              		.loc 1 458 3 discriminator 1 view .LVU169
 633 002a 0022     		movs	r2, #0
 634 002c 0421     		movs	r1, #4
 635 002e 2046     		mov	r0, r4
 636 0030 9847     		blx	r3
 637              	.LVL62:
 638              	.L52:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 639              		.loc 1 458 40 discriminator 3 view .LVU170
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 640              		.loc 1 461 3 discriminator 3 view .LVU171
 641 0032 636A     		ldr	r3, [r4, #36]
 642 0034 1BB1     		cbz	r3, .L53
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 643              		.loc 1 461 3 discriminator 1 view .LVU172
 644 0036 0022     		movs	r2, #0
 645 0038 1146     		mov	r1, r2
 646 003a 2046     		mov	r0, r4
 647 003c 9847     		blx	r3
 648              	.LVL63:
 649              	.L53:
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
ARM GAS  /tmp/ccwuqUhA.s 			page 26


 650              		.loc 1 461 42 discriminator 3 view .LVU173
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 651              		.loc 1 462 3 discriminator 3 view .LVU174
 652 003e 636A     		ldr	r3, [r4, #36]
 653 0040 1BB1     		cbz	r3, .L54
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 654              		.loc 1 462 3 discriminator 1 view .LVU175
 655 0042 0022     		movs	r2, #0
 656 0044 0221     		movs	r1, #2
 657 0046 2046     		mov	r0, r4
 658 0048 9847     		blx	r3
 659              	.LVL64:
 660              	.L54:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 661              		.loc 1 462 43 discriminator 3 view .LVU176
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 662              		.loc 1 464 3 discriminator 3 view .LVU177
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 663              		.loc 1 464 14 is_stmt 0 discriminator 3 view .LVU178
 664 004a 2846     		mov	r0, r5
 665 004c FFF7FEFF 		bl	lwip_netconn_err_to_msg
 666              	.LVL65:
 667 0050 0646     		mov	r6, r0
 668              	.LVL66:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 669              		.loc 1 466 3 is_stmt 1 discriminator 3 view .LVU179
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 670              		.loc 1 466 7 is_stmt 0 discriminator 3 view .LVU180
 671 0052 04F11008 		add	r8, r4, #16
 672 0056 4046     		mov	r0, r8
 673              	.LVL67:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 674              		.loc 1 466 7 discriminator 3 view .LVU181
 675 0058 FFF7FEFF 		bl	sys_mbox_valid
 676              	.LVL68:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 677              		.loc 1 466 6 discriminator 3 view .LVU182
 678 005c E8B9     		cbnz	r0, .L66
 679              	.L55:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 680              		.loc 1 471 3 is_stmt 1 view .LVU183
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 681              		.loc 1 471 7 is_stmt 0 view .LVU184
 682 005e 04F11408 		add	r8, r4, #20
 683 0062 4046     		mov	r0, r8
 684 0064 FFF7FEFF 		bl	sys_mbox_valid
 685              	.LVL69:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 686              		.loc 1 471 6 view .LVU185
 687 0068 E0B9     		cbnz	r0, .L67
 688              	.L56:
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 689              		.loc 1 476 3 is_stmt 1 view .LVU186
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 690              		.loc 1 476 6 is_stmt 0 view .LVU187
 691 006a 012F     		cmp	r7, #1
 692 006c 1FD0     		beq	.L57
ARM GAS  /tmp/ccwuqUhA.s 			page 27


 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 693              		.loc 1 476 36 discriminator 1 view .LVU188
 694 006e 042F     		cmp	r7, #4
 695 0070 1DD0     		beq	.L57
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 696              		.loc 1 476 68 discriminator 2 view .LVU189
 697 0072 032F     		cmp	r7, #3
 698 0074 1BD0     		beq	.L57
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 699              		.loc 1 503 5 is_stmt 1 view .LVU190
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 700              		.loc 1 503 5 view .LVU191
 701 0076 236A     		ldr	r3, [r4, #32]
 702 0078 93B3     		cbz	r3, .L50
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 703              		.loc 1 503 5 discriminator 1 view .LVU192
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 704              		.loc 1 503 5 discriminator 1 view .LVU193
 705 007a 244B     		ldr	r3, .L71
 706 007c 40F2F712 		movw	r2, #503
 707 0080 2349     		ldr	r1, .L71+4
 708 0082 2448     		ldr	r0, .L71+8
 709 0084 FFF7FEFF 		bl	printf
 710              	.LVL70:
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 711              		.loc 1 503 5 discriminator 1 view .LVU194
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 712              		.loc 1 503 5 discriminator 1 view .LVU195
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 713              		.loc 1 505 1 is_stmt 0 discriminator 1 view .LVU196
 714 0088 2AE0     		b	.L50
 715              	.LVL71:
 716              	.L65:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 717              		.loc 1 440 3 is_stmt 1 discriminator 1 view .LVU197
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 718              		.loc 1 440 3 discriminator 1 view .LVU198
 719 008a 204B     		ldr	r3, .L71
 720 008c 4FF4DC72 		mov	r2, #440
 721 0090 2149     		ldr	r1, .L71+12
 722              	.LVL72:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 723              		.loc 1 440 3 is_stmt 0 discriminator 1 view .LVU199
 724 0092 2048     		ldr	r0, .L71+8
 725              	.LVL73:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 726              		.loc 1 440 3 discriminator 1 view .LVU200
 727 0094 FFF7FEFF 		bl	printf
 728              	.LVL74:
 729 0098 B8E7     		b	.L51
 730              	.LVL75:
 731              	.L66:
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 732              		.loc 1 468 5 is_stmt 1 view .LVU201
 733 009a 3146     		mov	r1, r6
 734 009c 4046     		mov	r0, r8
 735 009e FFF7FEFF 		bl	sys_mbox_trypost
ARM GAS  /tmp/ccwuqUhA.s 			page 28


 736              	.LVL76:
 737 00a2 DCE7     		b	.L55
 738              	.L67:
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 739              		.loc 1 473 5 view .LVU202
 740 00a4 3146     		mov	r1, r6
 741 00a6 4046     		mov	r0, r8
 742 00a8 FFF7FEFF 		bl	sys_mbox_trypost
 743              	.LVL77:
 744 00ac DDE7     		b	.L56
 745              	.L57:
 746              	.LBB2:
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 747              		.loc 1 480 5 view .LVU203
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 748              		.loc 1 480 35 is_stmt 0 view .LVU204
 749 00ae 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 750              	.LVL78:
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 751              		.loc 1 481 5 is_stmt 1 view .LVU205
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 752              		.loc 1 481 5 view .LVU206
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 753              		.loc 1 481 5 view .LVU207
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 754              		.loc 1 481 5 view .LVU208
 755 00b0 03F0FB02 		and	r2, r3, #251
 756 00b4 2277     		strb	r2, [r4, #28]
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 757              		.loc 1 481 5 view .LVU209
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 758              		.loc 1 481 5 view .LVU210
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 759              		.loc 1 483 5 view .LVU211
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 760              		.loc 1 483 8 is_stmt 0 view .LVU212
 761 00b6 13F0040F 		tst	r3, #4
 762 00ba 11D1     		bne	.L50
 763              	.LBB3:
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 764              		.loc 1 484 7 is_stmt 1 view .LVU213
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 765              		.loc 1 486 7 view .LVU214
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 766              		.loc 1 486 7 view .LVU215
 767 00bc 236A     		ldr	r3, [r4, #32]
 768              	.LVL79:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 769              		.loc 1 486 7 is_stmt 0 view .LVU216
 770 00be 8BB1     		cbz	r3, .L68
 771              	.L60:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 772              		.loc 1 486 7 is_stmt 1 discriminator 3 view .LVU217
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 773              		.loc 1 486 7 discriminator 3 view .LVU218
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 774              		.loc 1 487 7 discriminator 3 view .LVU219
ARM GAS  /tmp/ccwuqUhA.s 			page 29


 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 775              		.loc 1 487 10 is_stmt 0 discriminator 3 view .LVU220
 776 00c0 042F     		cmp	r7, #4
 777 00c2 17D0     		beq	.L69
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 778              		.loc 1 492 9 is_stmt 1 view .LVU221
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 779              		.loc 1 492 13 is_stmt 0 view .LVU222
 780 00c4 236A     		ldr	r3, [r4, #32]
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 781              		.loc 1 492 32 view .LVU223
 782 00c6 1D71     		strb	r5, [r3, #4]
 783              	.L62:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 784              		.loc 1 494 7 is_stmt 1 view .LVU224
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 785              		.loc 1 494 26 is_stmt 0 view .LVU225
 786 00c8 236A     		ldr	r3, [r4, #32]
 787 00ca 1D68     		ldr	r5, [r3]
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 788              		.loc 1 494 24 view .LVU226
 789 00cc 0C35     		adds	r5, r5, #12
 790              	.LVL80:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 791              		.loc 1 495 7 is_stmt 1 view .LVU227
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 792              		.loc 1 495 7 view .LVU228
 793 00ce 2846     		mov	r0, r5
 794 00d0 FFF7FEFF 		bl	sys_sem_valid
 795              	.LVL81:
 796 00d4 90B1     		cbz	r0, .L70
 797              	.L63:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 798              		.loc 1 495 7 discriminator 3 view .LVU229
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 799              		.loc 1 495 7 discriminator 3 view .LVU230
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 800              		.loc 1 496 7 discriminator 3 view .LVU231
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 801              		.loc 1 496 25 is_stmt 0 discriminator 3 view .LVU232
 802 00d6 0023     		movs	r3, #0
 803 00d8 2362     		str	r3, [r4, #32]
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 804              		.loc 1 498 7 is_stmt 1 discriminator 3 view .LVU233
 805 00da 2846     		mov	r0, r5
 806 00dc FFF7FEFF 		bl	sys_sem_signal
 807              	.LVL82:
 808              	.L50:
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 809              		.loc 1 498 7 is_stmt 0 discriminator 3 view .LVU234
 810              	.LBE3:
 811              	.LBE2:
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 812              		.loc 1 505 1 view .LVU235
 813 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 814              	.LVL83:
 815              	.L68:
ARM GAS  /tmp/ccwuqUhA.s 			page 30


 816              	.LBB5:
 817              	.LBB4:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 818              		.loc 1 486 7 is_stmt 1 discriminator 1 view .LVU236
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 819              		.loc 1 486 7 discriminator 1 view .LVU237
 820 00e4 094B     		ldr	r3, .L71
 821 00e6 4FF4F372 		mov	r2, #486
 822 00ea 0C49     		ldr	r1, .L71+16
 823 00ec 0948     		ldr	r0, .L71+8
 824 00ee FFF7FEFF 		bl	printf
 825              	.LVL84:
 826 00f2 E5E7     		b	.L60
 827              	.L69:
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 828              		.loc 1 489 9 view .LVU238
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 829              		.loc 1 489 13 is_stmt 0 view .LVU239
 830 00f4 236A     		ldr	r3, [r4, #32]
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 831              		.loc 1 489 32 view .LVU240
 832 00f6 0022     		movs	r2, #0
 833 00f8 1A71     		strb	r2, [r3, #4]
 834 00fa E5E7     		b	.L62
 835              	.LVL85:
 836              	.L70:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 837              		.loc 1 495 7 is_stmt 1 discriminator 1 view .LVU241
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 838              		.loc 1 495 7 discriminator 1 view .LVU242
 839 00fc 034B     		ldr	r3, .L71
 840 00fe 40F2EF12 		movw	r2, #495
 841 0102 0749     		ldr	r1, .L71+20
 842 0104 0348     		ldr	r0, .L71+8
 843 0106 FFF7FEFF 		bl	printf
 844              	.LVL86:
 845 010a E4E7     		b	.L63
 846              	.L72:
 847              		.align	2
 848              	.L71:
 849 010c 00000000 		.word	.LC0
 850 0110 48000000 		.word	.LC10
 851 0114 40000000 		.word	.LC2
 852 0118 00000000 		.word	.LC7
 853 011c 10000000 		.word	.LC8
 854 0120 2C000000 		.word	.LC9
 855              	.LBE4:
 856              	.LBE5:
 857              		.cfi_endproc
 858              	.LFE165:
 860              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 861              		.align	2
 862              	.LC11:
 863 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 863      2D3E7374 
 863      61746520 
 863      3D3D204E 
ARM GAS  /tmp/ccwuqUhA.s 			page 31


 863      4554434F 
 864 001f 00       		.align	2
 865              	.LC12:
 866 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 866      6E2D3E63 
 866      75727265 
 866      6E745F6D 
 866      73672021 
 867 0053 675F636F 		.ascii	"g_connect\000"
 867      6E6E6563 
 867      7400
 868 005d 000000   		.align	2
 869              	.LC13:
 870 0060 626C6F63 		.ascii	"blocking connect state error\000"
 870      6B696E67 
 870      20636F6E 
 870      6E656374 
 870      20737461 
 871              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 872              		.align	1
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu fpv4-sp-d16
 878              	lwip_netconn_do_connected:
 879              	.LVL87:
 880              	.LFB177:
 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg describing the connection type
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
ARM GAS  /tmp/ccwuqUhA.s 			page 32


 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn *
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = ERR_OK;
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(t)) {
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_RAW_RECVMBOX_SIZE;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_UDP_RECVMBOX_SIZE;
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       init_flags |= NETCONN_FLAG_PKTINFO;
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_TCP_RECVMBOX_SIZE;
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
ARM GAS  /tmp/ccwuqUhA.s 			page 33


 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = init_flags;
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* in fullduplex, netconn is drained here */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_drain(conn);
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
ARM GAS  /tmp/ccwuqUhA.s 			page 34


 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs when mbox and netconn are marked as closed,
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so we don't need to lock against rx packets */
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn marked closed", conn->flags & NETCONN_FLAG_MBOXINVALID);
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netbuf_delete((struct netbuf *)mem);
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err_t err;
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
ARM GAS  /tmp/ccwuqUhA.s 			page 35


 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* drain recvmbox */
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_drain(newconn);
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_free(newconn);
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_mark_mbox_invalid(struct netconn *conn)
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int i, num_waiting;
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg = LWIP_CONST_CAST(void *, &netconn_deleted);
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Prevent new calls/threads from reading from the mbox */
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXINVALID;
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_LOCKED(num_waiting = conn->mbox_threads_waiting);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   for (i = 0; i < num_waiting; i++) {
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_valid_val(conn->recvmbox)) {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->recvmbox, msg);
 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->acceptmbox, msg);
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccwuqUhA.s 			page 36


 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 0;
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_close) {
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
ARM GAS  /tmp/ccwuqUhA.s 			page 37


 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    (conn->linger * 1000)) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
ARM GAS  /tmp/ccwuqUhA.s 			page 38


1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
ARM GAS  /tmp/ccwuqUhA.s 			page 39


1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Mark mboxes invalid */
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_mark_mbox_invalid(msg->conn);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccwuqUhA.s 			page 40


1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           raw_remove(msg->conn->pcb.raw);
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.udp->recv_arg = NULL;
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_TCP:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lwip_netconn_do_close_internal(msg->conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              the application thread, so we can return at this point! */
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           return;
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
ARM GAS  /tmp/ccwuqUhA.s 			page 41


1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn to an interface
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind_if.
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind_if(void *m)
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.bc.if_idx);
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((netif != NULL) && (msg->conn->pcb.tcp != NULL)) {
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_bind_netif(msg->conn->pcb.raw, netif);
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
ARM GAS  /tmp/ccwuqUhA.s 			page 42


1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_bind_netif(msg->conn->pcb.udp, netif);
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_bind_netif(msg->conn->pcb.tcp, netif);
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 881              		.loc 1 1302 1 view -0
 882              		.cfi_startproc
 883              		@ args = 0, pretend = 0, frame = 0
 884              		@ frame_needed = 0, uses_anonymous_args = 0
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 885              		.loc 1 1303 3 view .LVU244
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
 886              		.loc 1 1304 3 view .LVU245
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t *op_completed_sem = NULL;
 887              		.loc 1 1305 3 view .LVU246
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 888              		.loc 1 1307 3 view .LVU247
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 889              		.loc 1 1309 3 view .LVU248
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 890              		.loc 1 1311 3 view .LVU249
 891              		.loc 1 1311 6 is_stmt 0 view .LVU250
 892 0000 0028     		cmp	r0, #0
 893 0002 4ED0     		beq	.L83
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 894              		.loc 1 1302 1 view .LVU251
 895 0004 70B5     		push	{r4, r5, r6, lr}
 896              	.LCFI6:
ARM GAS  /tmp/ccwuqUhA.s 			page 43


 897              		.cfi_def_cfa_offset 16
 898              		.cfi_offset 4, -16
 899              		.cfi_offset 5, -12
 900              		.cfi_offset 6, -8
 901              		.cfi_offset 14, -4
 902 0006 1546     		mov	r5, r2
 903 0008 0446     		mov	r4, r0
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 904              		.loc 1 1315 3 is_stmt 1 view .LVU252
 905              		.loc 1 1315 3 view .LVU253
 906 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 907 000c 032B     		cmp	r3, #3
 908 000e 29D1     		bne	.L89
 909              	.LVL88:
 910              	.L75:
 911              		.loc 1 1315 3 discriminator 3 view .LVU254
 912              		.loc 1 1315 3 discriminator 3 view .LVU255
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 913              		.loc 1 1316 3 discriminator 3 view .LVU256
 914              		.loc 1 1316 3 discriminator 3 view .LVU257
 915 0010 236A     		ldr	r3, [r4, #32]
 916 0012 7BB3     		cbz	r3, .L90
 917              	.L76:
 918              		.loc 1 1316 3 discriminator 5 view .LVU258
 919              		.loc 1 1316 3 discriminator 5 view .LVU259
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 920              		.loc 1 1319 3 discriminator 5 view .LVU260
 921              		.loc 1 1319 11 is_stmt 0 discriminator 5 view .LVU261
 922 0014 266A     		ldr	r6, [r4, #32]
 923              		.loc 1 1319 6 discriminator 5 view .LVU262
 924 0016 1EB1     		cbz	r6, .L77
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 925              		.loc 1 1320 5 is_stmt 1 view .LVU263
 926              		.loc 1 1320 28 is_stmt 0 view .LVU264
 927 0018 3571     		strb	r5, [r6, #4]
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 928              		.loc 1 1321 5 is_stmt 1 view .LVU265
 929              		.loc 1 1321 24 is_stmt 0 view .LVU266
 930 001a 236A     		ldr	r3, [r4, #32]
 931 001c 1E68     		ldr	r6, [r3]
 932              		.loc 1 1321 22 view .LVU267
 933 001e 0C36     		adds	r6, r6, #12
 934              	.LVL89:
 935              	.L77:
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 936              		.loc 1 1323 3 is_stmt 1 view .LVU268
 937              		.loc 1 1323 8 is_stmt 0 view .LVU269
 938 0020 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 939              		.loc 1 1323 6 view .LVU270
 940 0022 03F0F003 		and	r3, r3, #240
 941 0026 102B     		cmp	r3, #16
ARM GAS  /tmp/ccwuqUhA.s 			page 44


 942 0028 30D0     		beq	.L91
 943              	.L78:
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 944              		.loc 1 1326 3 is_stmt 1 view .LVU271
 945              		.loc 1 1326 19 is_stmt 0 view .LVU272
 946 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 947              	.LVL90:
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 948              		.loc 1 1327 3 is_stmt 1 view .LVU273
 949              		.loc 1 1327 3 view .LVU274
 950              		.loc 1 1327 3 view .LVU275
 951              		.loc 1 1327 3 view .LVU276
 952 002c 03F0FB02 		and	r2, r3, #251
 953 0030 2277     		strb	r2, [r4, #28]
 954              		.loc 1 1327 3 view .LVU277
 955              		.loc 1 1327 3 view .LVU278
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 956              		.loc 1 1328 3 view .LVU279
 957              		.loc 1 1328 3 view .LVU280
 958 0032 13F00405 		ands	r5, r3, #4
 959 0036 00D1     		bne	.L79
 960              		.loc 1 1328 3 is_stmt 0 discriminator 2 view .LVU281
 961 0038 46B9     		cbnz	r6, .L80
 962              	.L79:
 963              		.loc 1 1328 3 discriminator 3 view .LVU282
 964 003a 05B1     		cbz	r5, .L81
 965              		.loc 1 1328 3 discriminator 6 view .LVU283
 966 003c 36B1     		cbz	r6, .L80
 967              	.L81:
 968              		.loc 1 1328 3 is_stmt 1 discriminator 7 view .LVU284
 969              		.loc 1 1328 3 discriminator 7 view .LVU285
 970 003e 1A4B     		ldr	r3, .L93
 971              	.LVL91:
 972              		.loc 1 1328 3 is_stmt 0 discriminator 7 view .LVU286
 973 0040 4FF4A662 		mov	r2, #1328
 974 0044 1949     		ldr	r1, .L93+4
 975 0046 1A48     		ldr	r0, .L93+8
 976 0048 FFF7FEFF 		bl	printf
 977              	.LVL92:
 978              	.L80:
 979              		.loc 1 1328 3 is_stmt 1 discriminator 9 view .LVU287
 980              		.loc 1 1328 3 discriminator 9 view .LVU288
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (!was_blocking && op_completed_sem == NULL));
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 981              		.loc 1 1331 3 discriminator 9 view .LVU289
 982              		.loc 1 1331 21 is_stmt 0 discriminator 9 view .LVU290
 983 004c 0023     		movs	r3, #0
 984 004e 2362     		str	r3, [r4, #32]
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 985              		.loc 1 1332 3 is_stmt 1 discriminator 9 view .LVU291
 986              		.loc 1 1332 15 is_stmt 0 discriminator 9 view .LVU292
 987 0050 6370     		strb	r3, [r4, #1]
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 988              		.loc 1 1333 3 is_stmt 1 discriminator 9 view .LVU293
ARM GAS  /tmp/ccwuqUhA.s 			page 45


 989 0052 636A     		ldr	r3, [r4, #36]
 990 0054 1BB1     		cbz	r3, .L82
 991              		.loc 1 1333 3 discriminator 1 view .LVU294
 992 0056 0022     		movs	r2, #0
 993 0058 0221     		movs	r1, #2
 994 005a 2046     		mov	r0, r4
 995 005c 9847     		blx	r3
 996              	.LVL93:
 997              	.L82:
 998              		.loc 1 1333 43 discriminator 3 view .LVU295
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 999              		.loc 1 1335 3 discriminator 3 view .LVU296
 1000              		.loc 1 1335 6 is_stmt 0 discriminator 3 view .LVU297
 1001 005e DDB1     		cbz	r5, .L92
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1002              		.loc 1 1338 10 view .LVU298
 1003 0060 0020     		movs	r0, #0
 1004              	.L74:
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1005              		.loc 1 1339 1 view .LVU299
 1006 0062 70BD     		pop	{r4, r5, r6, pc}
 1007              	.LVL94:
 1008              	.L89:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1009              		.loc 1 1315 3 is_stmt 1 discriminator 1 view .LVU300
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1010              		.loc 1 1315 3 discriminator 1 view .LVU301
 1011 0064 104B     		ldr	r3, .L93
 1012 0066 40F22352 		movw	r2, #1315
 1013              	.LVL95:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1014              		.loc 1 1315 3 is_stmt 0 discriminator 1 view .LVU302
 1015 006a 1249     		ldr	r1, .L93+12
 1016              	.LVL96:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1017              		.loc 1 1315 3 discriminator 1 view .LVU303
 1018 006c 1048     		ldr	r0, .L93+8
 1019              	.LVL97:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1020              		.loc 1 1315 3 discriminator 1 view .LVU304
 1021 006e FFF7FEFF 		bl	printf
 1022              	.LVL98:
 1023 0072 CDE7     		b	.L75
 1024              	.L90:
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1025              		.loc 1 1316 3 discriminator 1 view .LVU305
 1026 0074 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1027 0076 13F0040F 		tst	r3, #4
 1028 007a CBD1     		bne	.L76
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1029              		.loc 1 1316 3 is_stmt 1 discriminator 3 view .LVU306
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1030              		.loc 1 1316 3 discriminator 3 view .LVU307
 1031 007c 0A4B     		ldr	r3, .L93
ARM GAS  /tmp/ccwuqUhA.s 			page 46


 1032 007e 40F22452 		movw	r2, #1316
 1033 0082 0D49     		ldr	r1, .L93+16
 1034 0084 0A48     		ldr	r0, .L93+8
 1035 0086 FFF7FEFF 		bl	printf
 1036              	.LVL99:
 1037 008a C3E7     		b	.L76
 1038              	.LVL100:
 1039              	.L91:
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 1040              		.loc 1 1323 54 is_stmt 0 discriminator 1 view .LVU308
 1041 008c 002D     		cmp	r5, #0
 1042 008e CCD1     		bne	.L78
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1043              		.loc 1 1324 5 is_stmt 1 view .LVU309
 1044 0090 2046     		mov	r0, r4
 1045 0092 FFF7FEFF 		bl	setup_tcp
 1046              	.LVL101:
 1047 0096 C8E7     		b	.L78
 1048              	.L92:
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1049              		.loc 1 1336 5 view .LVU310
 1050 0098 3046     		mov	r0, r6
 1051 009a FFF7FEFF 		bl	sys_sem_signal
 1052              	.LVL102:
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1053              		.loc 1 1338 10 is_stmt 0 view .LVU311
 1054 009e 0020     		movs	r0, #0
 1055 00a0 DFE7     		b	.L74
 1056              	.LVL103:
 1057              	.L83:
 1058              	.LCFI7:
 1059              		.cfi_def_cfa_offset 0
 1060              		.cfi_restore 4
 1061              		.cfi_restore 5
 1062              		.cfi_restore 6
 1063              		.cfi_restore 14
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1064              		.loc 1 1312 12 view .LVU312
 1065 00a2 6FF00500 		mvn	r0, #5
 1066              	.LVL104:
 1067              		.loc 1 1339 1 view .LVU313
 1068 00a6 7047     		bx	lr
 1069              	.L94:
 1070              		.align	2
 1071              	.L93:
 1072 00a8 00000000 		.word	.LC0
 1073 00ac 60000000 		.word	.LC13
 1074 00b0 40000000 		.word	.LC2
 1075 00b4 00000000 		.word	.LC11
 1076 00b8 20000000 		.word	.LC12
 1077              		.cfi_endproc
 1078              	.LFE177:
 1080              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 1081              		.align	2
 1082              	.LC14:
 1083 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 1083      2D3E7374 
ARM GAS  /tmp/ccwuqUhA.s 			page 47


 1083      61746520 
 1083      3D3D204E 
 1083      4554434F 
 1084 001d 000000   		.align	2
 1085              	.LC15:
 1086 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 1086      2D3E7063 
 1086      622E7463 
 1086      7020213D 
 1086      204E554C 
 1087 0036 0000     		.align	2
 1088              	.LC16:
 1089 0038 636F6E6E 		.ascii	"conn->current_msg->msg.w.offset < conn->current_msg"
 1089      2D3E6375 
 1089      7272656E 
 1089      745F6D73 
 1089      672D3E6D 
 1090 006b 2D3E6D73 		.ascii	"->msg.w.len\000"
 1090      672E772E 
 1090      6C656E00 
 1091 0077 00       		.align	2
 1092              	.LC17:
 1093 0078 636F6E6E 		.ascii	"conn->current_msg->msg.w.vector_cnt > 0\000"
 1093      2D3E6375 
 1093      7272656E 
 1093      745F6D73 
 1093      672D3E6D 
 1094              		.align	2
 1095              	.LC18:
 1096 00a0 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 1096      5F6E6574 
 1096      636F6E6E 
 1096      5F646F5F 
 1096      77726974 
 1097              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 1098              		.align	1
 1099              		.syntax unified
 1100              		.thumb
 1101              		.thumb_func
 1102              		.fpu fpv4-sp-d16
 1104              	lwip_netconn_do_writemore:
 1105              	.LVL105:
 1106              	.LFB183:
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
ARM GAS  /tmp/ccwuqUhA.s 			page 48


1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CLSD;
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Prevent connect while doing any other action. */
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_CONNECT) {
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           setup_tcp(msg->conn);
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (err == ERR_OK) {
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->current_msg = msg;
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  when the connection is established! */
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               return;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ERROR("Invalid netconn type", 0, do {
1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } while (0));
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/ccwuqUhA.s 			page 49


1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection to disconnect
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t backlog;
1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = msg->msg.lb.backlog;
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
ARM GAS  /tmp/ccwuqUhA.s 			page 50


1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             */
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (netconn_get_ipv6only(msg->conn) == 0)) {
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* change PCB type to IPADDR_TYPE_ANY */
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lpcb == NULL) {
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* delete the recvmbox and allocate the acceptmbox */
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (sys_mbox_valid(&msg->conn->recvmbox)) {
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_free(&msg->conn->recvmbox);
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = ERR_OK;
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (err == ERR_OK) {
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* since the old pcb is already deallocated, free lpcb now */
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_close(lpcb);
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state == NETCONN_LISTEN) {
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_OK;
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_ARG;
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CONN;
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccwuqUhA.s 			page 51


1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                   msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     &msg->msg.b->addr, msg->msg.b->port,
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chks
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->port
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_CONN;
1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_CONN;
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
ARM GAS  /tmp/ccwuqUhA.s 			page 52


1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
ARM GAS  /tmp/ccwuqUhA.s 			page 53


1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1107              		.loc 1 1641 1 is_stmt 1 view -0
 1108              		.cfi_startproc
 1109              		@ args = 0, pretend = 0, frame = 0
 1110              		@ frame_needed = 0, uses_anonymous_args = 0
 1111              		.loc 1 1641 1 is_stmt 0 view .LVU315
 1112 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1113              	.LCFI8:
 1114              		.cfi_def_cfa_offset 40
 1115              		.cfi_offset 3, -40
 1116              		.cfi_offset 4, -36
 1117              		.cfi_offset 5, -32
 1118              		.cfi_offset 6, -28
 1119              		.cfi_offset 7, -24
 1120              		.cfi_offset 8, -20
 1121              		.cfi_offset 9, -16
 1122              		.cfi_offset 10, -12
 1123              		.cfi_offset 11, -8
 1124              		.cfi_offset 14, -4
 1125 0004 8B46     		mov	fp, r1
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1126              		.loc 1 1642 3 is_stmt 1 view .LVU316
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
 1127              		.loc 1 1643 3 view .LVU317
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
 1128              		.loc 1 1644 3 view .LVU318
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
 1129              		.loc 1 1645 3 view .LVU319
 1130              	.LVL106:
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
 1131              		.loc 1 1646 3 view .LVU320
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
 1132              		.loc 1 1647 3 view .LVU321
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
 1133              		.loc 1 1648 3 view .LVU322
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_more;
 1134              		.loc 1 1649 3 view .LVU323
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 1135              		.loc 1 1651 3 view .LVU324
 1136              		.loc 1 1651 3 view .LVU325
 1137 0006 0546     		mov	r5, r0
 1138 0008 E0B1     		cbz	r0, .L139
 1139              	.LVL107:
 1140              	.L96:
 1141              		.loc 1 1651 3 discriminator 3 view .LVU326
 1142              		.loc 1 1651 3 discriminator 3 view .LVU327
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1143              		.loc 1 1652 3 discriminator 3 view .LVU328
 1144              		.loc 1 1652 3 discriminator 3 view .LVU329
 1145 000a 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 1146 000c 012B     		cmp	r3, #1
 1147 000e 21D1     		bne	.L140
 1148              	.L97:
 1149              		.loc 1 1652 3 discriminator 3 view .LVU330
ARM GAS  /tmp/ccwuqUhA.s 			page 54


 1150              		.loc 1 1652 3 discriminator 3 view .LVU331
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1151              		.loc 1 1653 3 discriminator 3 view .LVU332
 1152              		.loc 1 1653 3 discriminator 3 view .LVU333
 1153 0010 2B6A     		ldr	r3, [r5, #32]
 1154 0012 3BB3     		cbz	r3, .L141
 1155              	.L98:
 1156              		.loc 1 1653 3 discriminator 3 view .LVU334
 1157              		.loc 1 1653 3 discriminator 3 view .LVU335
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1158              		.loc 1 1654 3 discriminator 3 view .LVU336
 1159              		.loc 1 1654 3 discriminator 3 view .LVU337
 1160 0014 6B68     		ldr	r3, [r5, #4]
 1161 0016 6BB3     		cbz	r3, .L142
 1162              	.L99:
 1163              		.loc 1 1654 3 discriminator 3 view .LVU338
 1164              		.loc 1 1654 3 discriminator 3 view .LVU339
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1165              		.loc 1 1655 3 discriminator 3 view .LVU340
 1166              		.loc 1 1655 3 discriminator 3 view .LVU341
 1167 0018 2B6A     		ldr	r3, [r5, #32]
 1168 001a 9A69     		ldr	r2, [r3, #24]
 1169 001c 5B69     		ldr	r3, [r3, #20]
 1170 001e 9A42     		cmp	r2, r3
 1171 0020 30D2     		bcs	.L143
 1172              	.L100:
 1173              		.loc 1 1655 3 discriminator 3 view .LVU342
 1174              		.loc 1 1655 3 discriminator 3 view .LVU343
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.vector_cnt > 0", conn->current_msg->msg.w.vector_cnt > 0);
 1175              		.loc 1 1657 3 discriminator 3 view .LVU344
 1176              		.loc 1 1657 3 discriminator 3 view .LVU345
 1177 0022 2B6A     		ldr	r3, [r5, #32]
 1178 0024 9B89     		ldrh	r3, [r3, #12]
 1179 0026 002B     		cmp	r3, #0
 1180 0028 34D0     		beq	.L144
 1181              	.L101:
 1182              		.loc 1 1657 3 discriminator 3 view .LVU346
 1183              		.loc 1 1657 3 discriminator 3 view .LVU347
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 1184              		.loc 1 1659 3 discriminator 3 view .LVU348
 1185              		.loc 1 1659 18 is_stmt 0 discriminator 3 view .LVU349
 1186 002a 2B6A     		ldr	r3, [r5, #32]
 1187              		.loc 1 1659 12 discriminator 3 view .LVU350
 1188 002c 93F81C80 		ldrb	r8, [r3, #28]	@ zero_extendqisi2
 1189              	.LVL108:
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 1190              		.loc 1 1660 3 is_stmt 1 discriminator 3 view .LVU351
 1191              		.loc 1 1660 15 is_stmt 0 discriminator 3 view .LVU352
 1192 0030 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1193              		.loc 1 1660 44 discriminator 3 view .LVU353
 1194 0032 13F0020F 		tst	r3, #2
 1195 0036 35D1     		bne	.L126
 1196              		.loc 1 1660 44 discriminator 2 view .LVU354
 1197 0038 18F0040F 		tst	r8, #4
 1198 003c 37D0     		beq	.L127
ARM GAS  /tmp/ccwuqUhA.s 			page 55


 1199              		.loc 1 1660 44 view .LVU355
 1200 003e 4FF0010A 		mov	r10, #1
 1201 0042 31E0     		b	.L102
 1202              	.LVL109:
 1203              	.L139:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1204              		.loc 1 1651 3 is_stmt 1 discriminator 1 view .LVU356
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1205              		.loc 1 1651 3 discriminator 1 view .LVU357
 1206 0044 8A4B     		ldr	r3, .L152
 1207 0046 40F27362 		movw	r2, #1651
 1208 004a 8A49     		ldr	r1, .L152+4
 1209              	.LVL110:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1210              		.loc 1 1651 3 is_stmt 0 discriminator 1 view .LVU358
 1211 004c 8A48     		ldr	r0, .L152+8
 1212              	.LVL111:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1213              		.loc 1 1651 3 discriminator 1 view .LVU359
 1214 004e FFF7FEFF 		bl	printf
 1215              	.LVL112:
 1216 0052 DAE7     		b	.L96
 1217              	.L140:
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1218              		.loc 1 1652 3 is_stmt 1 discriminator 1 view .LVU360
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1219              		.loc 1 1652 3 discriminator 1 view .LVU361
 1220 0054 864B     		ldr	r3, .L152
 1221 0056 40F27462 		movw	r2, #1652
 1222 005a 8849     		ldr	r1, .L152+12
 1223 005c 8648     		ldr	r0, .L152+8
 1224 005e FFF7FEFF 		bl	printf
 1225              	.LVL113:
 1226 0062 D5E7     		b	.L97
 1227              	.L141:
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1228              		.loc 1 1653 3 discriminator 1 view .LVU362
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1229              		.loc 1 1653 3 discriminator 1 view .LVU363
 1230 0064 824B     		ldr	r3, .L152
 1231 0066 40F27562 		movw	r2, #1653
 1232 006a 8549     		ldr	r1, .L152+16
 1233 006c 8248     		ldr	r0, .L152+8
 1234 006e FFF7FEFF 		bl	printf
 1235              	.LVL114:
 1236 0072 CFE7     		b	.L98
 1237              	.L142:
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1238              		.loc 1 1654 3 discriminator 1 view .LVU364
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1239              		.loc 1 1654 3 discriminator 1 view .LVU365
 1240 0074 7E4B     		ldr	r3, .L152
 1241 0076 40F27662 		movw	r2, #1654
 1242 007a 8249     		ldr	r1, .L152+20
 1243 007c 7E48     		ldr	r0, .L152+8
 1244 007e FFF7FEFF 		bl	printf
 1245              	.LVL115:
ARM GAS  /tmp/ccwuqUhA.s 			page 56


 1246 0082 C9E7     		b	.L99
 1247              	.L143:
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1248              		.loc 1 1655 3 discriminator 1 view .LVU366
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1249              		.loc 1 1655 3 discriminator 1 view .LVU367
 1250 0084 7A4B     		ldr	r3, .L152
 1251 0086 40F27762 		movw	r2, #1655
 1252 008a 7F49     		ldr	r1, .L152+24
 1253 008c 7A48     		ldr	r0, .L152+8
 1254 008e FFF7FEFF 		bl	printf
 1255              	.LVL116:
 1256 0092 C6E7     		b	.L100
 1257              	.L144:
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1258              		.loc 1 1657 3 discriminator 1 view .LVU368
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1259              		.loc 1 1657 3 discriminator 1 view .LVU369
 1260 0094 764B     		ldr	r3, .L152
 1261 0096 40F27962 		movw	r2, #1657
 1262 009a 7C49     		ldr	r1, .L152+28
 1263 009c 7648     		ldr	r0, .L152+8
 1264 009e FFF7FEFF 		bl	printf
 1265              	.LVL117:
 1266 00a2 C2E7     		b	.L101
 1267              	.LVL118:
 1268              	.L126:
 1269              		.loc 1 1660 44 is_stmt 0 view .LVU370
 1270 00a4 4FF0010A 		mov	r10, #1
 1271              	.L102:
 1272              		.loc 1 1660 13 discriminator 6 view .LVU371
 1273 00a8 5FFA8AFA 		uxtb	r10, r10
 1274              	.LVL119:
 1275              		.loc 1 1660 13 discriminator 6 view .LVU372
 1276 00ac 4EE0     		b	.L115
 1277              	.LVL120:
 1278              	.L127:
 1279              		.loc 1 1660 44 view .LVU373
 1280 00ae 4FF0000A 		mov	r10, #0
 1281 00b2 F9E7     		b	.L102
 1282              	.LVL121:
 1283              	.L103:
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg->msg.w.offset == 0) {
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
ARM GAS  /tmp/ccwuqUhA.s 			page 57


1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     do {
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = (u16_t)diff;
 1284              		.loc 1 1683 9 is_stmt 1 view .LVU374
 1285              		.loc 1 1683 13 is_stmt 0 view .LVU375
 1286 00b4 B4B2     		uxth	r4, r6
 1287              	.LVL122:
 1288              		.loc 1 1683 13 view .LVU376
 1289 00b6 57E0     		b	.L104
 1290              	.LVL123:
 1291              	.L148:
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       available = tcp_sndbuf(conn->pcb.tcp);
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = available;
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 1292              		.loc 1 1692 13 is_stmt 1 view .LVU377
 1293              		.loc 1 1692 44 is_stmt 0 view .LVU378
 1294 00b8 9369     		ldr	r3, [r2, #24]
 1295              		.loc 1 1692 17 view .LVU379
 1296 00ba B3B9     		cbnz	r3, .L129
 1297 00bc 6FF00604 		mvn	r4, #6
 1298              	.LVL124:
 1299              	.L108:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           apiflags |= TCP_WRITE_FLAG_MORE;
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!",
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* we should loop around for more sending in the following cases:
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            1) We couldn't finish the current vector because of 16-bit size limitations.
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_write() and tcp_sndbuf() both are limited to 16-bit sizes
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            2) We are sending the remainder of the current vector and have more */
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((len == 0xffff && diff > 0xffffUL) ||
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 0;
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
ARM GAS  /tmp/ccwuqUhA.s 			page 58


1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (conn->current_msg->msg.w.vector_off == conn->current_msg->msg.w.vector->len) {
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->current_msg->msg.w.vector_cnt > 0) {
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } while (write_more && err == ERR_OK);
1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len)) {
 1300              		.loc 1 1730 7 is_stmt 1 view .LVU380
 1301              		.loc 1 1730 10 is_stmt 0 view .LVU381
 1302 00c0 BAF1000F 		cmp	r10, #0
 1303 00c4 00F08B80 		beq	.L117
 1304              		.loc 1 1730 29 discriminator 1 view .LVU382
 1305 00c8 2B6A     		ldr	r3, [r5, #32]
 1306              		.loc 1 1730 49 discriminator 1 view .LVU383
 1307 00ca 9A69     		ldr	r2, [r3, #24]
 1308              		.loc 1 1730 83 discriminator 1 view .LVU384
 1309 00cc 5B69     		ldr	r3, [r3, #20]
 1310              		.loc 1 1730 21 discriminator 1 view .LVU385
 1311 00ce 9A42     		cmp	r2, r3
 1312 00d0 80F08580 		bcs	.L117
1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1313              		.loc 1 1733 9 is_stmt 1 view .LVU386
 1314 00d4 6B6A     		ldr	r3, [r5, #36]
 1315 00d6 1BB1     		cbz	r3, .L118
 1316              		.loc 1 1733 9 discriminator 1 view .LVU387
 1317 00d8 0022     		movs	r2, #0
 1318 00da 0321     		movs	r1, #3
 1319 00dc 2846     		mov	r0, r5
 1320 00de 9847     		blx	r3
 1321              	.LVL125:
 1322              	.L118:
 1323              		.loc 1 1733 50 discriminator 3 view .LVU388
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1324              		.loc 1 1734 9 discriminator 3 view .LVU389
 1325              		.loc 1 1734 21 is_stmt 0 discriminator 3 view .LVU390
 1326 00e0 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1327 00e2 43F01003 		orr	r3, r3, #16
 1328 00e6 2B77     		strb	r3, [r5, #28]
 1329 00e8 6DE0     		b	.L116
 1330              	.LVL126:
 1331              	.L129:
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
 1332              		.loc 1 1692 17 view .LVU391
 1333 00ea 0024     		movs	r4, #0
 1334              	.LVL127:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1335              		.loc 1 1693 13 is_stmt 1 view .LVU392
 1336 00ec E8E7     		b	.L108
ARM GAS  /tmp/ccwuqUhA.s 			page 59


 1337              	.LVL128:
 1338              	.L106:
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1339              		.loc 1 1696 11 view .LVU393
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1340              		.loc 1 1696 20 is_stmt 0 view .LVU394
 1341 00ee 48F00208 		orr	r8, r8, #2
 1342              	.LVL129:
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1343              		.loc 1 1688 13 view .LVU395
 1344 00f2 0446     		mov	r4, r0
 1345              	.LVL130:
 1346              	.L105:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1347              		.loc 1 1699 7 is_stmt 1 view .LVU396
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1348              		.loc 1 1699 7 view .LVU397
 1349 00f4 A146     		mov	r9, r4
 1350 00f6 2344     		add	r3, r3, r4
 1351 00f8 9942     		cmp	r1, r3
 1352 00fa 41D3     		bcc	.L145
 1353              	.LVL131:
 1354              	.L109:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1355              		.loc 1 1699 7 discriminator 3 view .LVU398
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1356              		.loc 1 1699 7 discriminator 3 view .LVU399
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1357              		.loc 1 1705 7 discriminator 3 view .LVU400
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1358              		.loc 1 1705 10 is_stmt 0 discriminator 3 view .LVU401
 1359 00fc 4FF6FF73 		movw	r3, #65535
 1360 0100 9C42     		cmp	r4, r3
 1361 0102 45D0     		beq	.L146
 1362              	.L110:
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1363              		.loc 1 1706 19 discriminator 3 view .LVU402
 1364 0104 B6B2     		uxth	r6, r6
 1365              	.LVL132:
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1366              		.loc 1 1705 46 discriminator 3 view .LVU403
 1367 0106 A642     		cmp	r6, r4
 1368 0108 46D1     		bne	.L130
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1369              		.loc 1 1706 38 view .LVU404
 1370 010a 2B6A     		ldr	r3, [r5, #32]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1371              		.loc 1 1706 58 view .LVU405
 1372 010c 9B89     		ldrh	r3, [r3, #12]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1373              		.loc 1 1706 31 view .LVU406
 1374 010e 012B     		cmp	r3, #1
 1375 0110 44D9     		bls	.L131
 1376              	.L111:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1377              		.loc 1 1707 9 is_stmt 1 view .LVU407
 1378              	.LVL133:
ARM GAS  /tmp/ccwuqUhA.s 			page 60


1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1379              		.loc 1 1708 9 view .LVU408
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1380              		.loc 1 1708 18 is_stmt 0 view .LVU409
 1381 0112 48F00208 		orr	r8, r8, #2
 1382              	.LVL134:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1383              		.loc 1 1707 20 view .LVU410
 1384 0116 0126     		movs	r6, #1
 1385              	.LVL135:
 1386              	.L112:
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1387              		.loc 1 1712 7 is_stmt 1 view .LVU411
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1388              		.loc 1 1712 13 is_stmt 0 view .LVU412
 1389 0118 4346     		mov	r3, r8
 1390 011a 2246     		mov	r2, r4
 1391 011c 3946     		mov	r1, r7
 1392 011e 6868     		ldr	r0, [r5, #4]
 1393 0120 FFF7FEFF 		bl	tcp_write
 1394              	.LVL136:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1395              		.loc 1 1713 7 is_stmt 1 view .LVU413
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1396              		.loc 1 1713 10 is_stmt 0 view .LVU414
 1397 0124 0446     		mov	r4, r0
 1398              	.LVL137:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1399              		.loc 1 1713 10 view .LVU415
 1400 0126 68B9     		cbnz	r0, .L113
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1401              		.loc 1 1714 9 is_stmt 1 view .LVU416
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1402              		.loc 1 1714 13 is_stmt 0 view .LVU417
 1403 0128 2A6A     		ldr	r2, [r5, #32]
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1404              		.loc 1 1714 41 view .LVU418
 1405 012a 9369     		ldr	r3, [r2, #24]
 1406 012c 4B44     		add	r3, r3, r9
 1407 012e 9361     		str	r3, [r2, #24]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1408              		.loc 1 1715 9 is_stmt 1 view .LVU419
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1409              		.loc 1 1715 13 is_stmt 0 view .LVU420
 1410 0130 2A6A     		ldr	r2, [r5, #32]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1411              		.loc 1 1715 45 view .LVU421
 1412 0132 1369     		ldr	r3, [r2, #16]
 1413 0134 4B44     		add	r3, r3, r9
 1414 0136 1361     		str	r3, [r2, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1415              		.loc 1 1717 9 is_stmt 1 view .LVU422
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1416              		.loc 1 1717 17 is_stmt 0 view .LVU423
 1417 0138 2B6A     		ldr	r3, [r5, #32]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1418              		.loc 1 1717 37 view .LVU424
ARM GAS  /tmp/ccwuqUhA.s 			page 61


 1419 013a 1969     		ldr	r1, [r3, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1420              		.loc 1 1717 76 view .LVU425
 1421 013c 9A68     		ldr	r2, [r3, #8]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1422              		.loc 1 1717 83 view .LVU426
 1423 013e 5268     		ldr	r2, [r2, #4]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1424              		.loc 1 1717 12 view .LVU427
 1425 0140 9142     		cmp	r1, r2
 1426 0142 2DD0     		beq	.L147
 1427              	.L113:
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1428              		.loc 1 1726 13 is_stmt 1 view .LVU428
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1429              		.loc 1 1726 5 is_stmt 0 view .LVU429
 1430 0144 002E     		cmp	r6, #0
 1431 0146 39D0     		beq	.L114
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1432              		.loc 1 1726 25 discriminator 1 view .LVU430
 1433 0148 002C     		cmp	r4, #0
 1434 014a 37D1     		bne	.L114
 1435              	.LVL138:
 1436              	.L115:
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
 1437              		.loc 1 1676 5 is_stmt 1 view .LVU431
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1438              		.loc 1 1677 7 view .LVU432
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1439              		.loc 1 1677 35 is_stmt 0 view .LVU433
 1440 014c 2A6A     		ldr	r2, [r5, #32]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1441              		.loc 1 1677 55 view .LVU434
 1442 014e 9168     		ldr	r1, [r2, #8]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1443              		.loc 1 1677 62 view .LVU435
 1444 0150 0F68     		ldr	r7, [r1]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1445              		.loc 1 1677 94 view .LVU436
 1446 0152 1369     		ldr	r3, [r2, #16]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1447              		.loc 1 1677 15 view .LVU437
 1448 0154 1F44     		add	r7, r7, r3
 1449              	.LVL139:
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1450              		.loc 1 1678 7 is_stmt 1 view .LVU438
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1451              		.loc 1 1678 45 is_stmt 0 view .LVU439
 1452 0156 4968     		ldr	r1, [r1, #4]
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1453              		.loc 1 1678 12 view .LVU440
 1454 0158 CE1A     		subs	r6, r1, r3
 1455              	.LVL140:
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1456              		.loc 1 1679 7 is_stmt 1 view .LVU441
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1457              		.loc 1 1679 10 is_stmt 0 view .LVU442
ARM GAS  /tmp/ccwuqUhA.s 			page 62


 1458 015a B6F5803F 		cmp	r6, #65536
 1459 015e A9D3     		bcc	.L103
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1460              		.loc 1 1680 9 is_stmt 1 view .LVU443
 1461              	.LVL141:
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1462              		.loc 1 1681 9 view .LVU444
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1463              		.loc 1 1681 18 is_stmt 0 view .LVU445
 1464 0160 48F00208 		orr	r8, r8, #2
 1465              	.LVL142:
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1466              		.loc 1 1680 13 view .LVU446
 1467 0164 4FF6FF74 		movw	r4, #65535
 1468              	.LVL143:
 1469              	.L104:
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1470              		.loc 1 1685 7 is_stmt 1 view .LVU447
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1471              		.loc 1 1685 19 is_stmt 0 view .LVU448
 1472 0168 6868     		ldr	r0, [r5, #4]
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1473              		.loc 1 1685 17 view .LVU449
 1474 016a B0F86400 		ldrh	r0, [r0, #100]
 1475              	.LVL144:
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1476              		.loc 1 1686 7 is_stmt 1 view .LVU450
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1477              		.loc 1 1686 10 is_stmt 0 view .LVU451
 1478 016e 8442     		cmp	r4, r0
 1479 0170 C0D9     		bls	.L105
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1480              		.loc 1 1688 9 is_stmt 1 view .LVU452
 1481              	.LVL145:
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1482              		.loc 1 1689 9 view .LVU453
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1483              		.loc 1 1689 12 is_stmt 0 view .LVU454
 1484 0172 BAF1000F 		cmp	r10, #0
 1485 0176 BAD0     		beq	.L106
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1486              		.loc 1 1690 11 is_stmt 1 view .LVU455
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1487              		.loc 1 1690 14 is_stmt 0 view .LVU456
 1488 0178 0028     		cmp	r0, #0
 1489 017a 9DD0     		beq	.L148
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1490              		.loc 1 1688 13 view .LVU457
 1491 017c 0446     		mov	r4, r0
 1492 017e B9E7     		b	.L105
 1493              	.LVL146:
 1494              	.L145:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1495              		.loc 1 1699 7 is_stmt 1 discriminator 1 view .LVU458
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1496              		.loc 1 1699 7 discriminator 1 view .LVU459
 1497 0180 3B4B     		ldr	r3, .L152
ARM GAS  /tmp/ccwuqUhA.s 			page 63


 1498 0182 40F2A362 		movw	r2, #1699
 1499 0186 4249     		ldr	r1, .L152+32
 1500 0188 3B48     		ldr	r0, .L152+8
 1501              	.LVL147:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1502              		.loc 1 1699 7 is_stmt 0 discriminator 1 view .LVU460
 1503 018a FFF7FEFF 		bl	printf
 1504              	.LVL148:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1505              		.loc 1 1699 7 discriminator 1 view .LVU461
 1506 018e B5E7     		b	.L109
 1507              	.L146:
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1508              		.loc 1 1705 26 discriminator 1 view .LVU462
 1509 0190 B6F5803F 		cmp	r6, #65536
 1510 0194 BDD2     		bcs	.L111
 1511 0196 B5E7     		b	.L110
 1512              	.LVL149:
 1513              	.L130:
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1514              		.loc 1 1710 20 view .LVU463
 1515 0198 0026     		movs	r6, #0
 1516 019a BDE7     		b	.L112
 1517              	.L131:
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1518              		.loc 1 1710 20 view .LVU464
 1519 019c 0026     		movs	r6, #0
 1520 019e BBE7     		b	.L112
 1521              	.LVL150:
 1522              	.L147:
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1523              		.loc 1 1718 11 is_stmt 1 view .LVU465
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1524              		.loc 1 1718 35 is_stmt 0 view .LVU466
 1525 01a0 9A89     		ldrh	r2, [r3, #12]
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1526              		.loc 1 1718 46 view .LVU467
 1527 01a2 013A     		subs	r2, r2, #1
 1528 01a4 9A81     		strh	r2, [r3, #12]	@ movhi
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1529              		.loc 1 1720 11 is_stmt 1 view .LVU468
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1530              		.loc 1 1720 19 is_stmt 0 view .LVU469
 1531 01a6 2B6A     		ldr	r3, [r5, #32]
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1532              		.loc 1 1720 39 view .LVU470
 1533 01a8 9A89     		ldrh	r2, [r3, #12]
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1534              		.loc 1 1720 14 view .LVU471
 1535 01aa 002A     		cmp	r2, #0
 1536 01ac CAD0     		beq	.L113
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1537              		.loc 1 1721 13 is_stmt 1 view .LVU472
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1538              		.loc 1 1721 37 is_stmt 0 view .LVU473
 1539 01ae 9A68     		ldr	r2, [r3, #8]
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
ARM GAS  /tmp/ccwuqUhA.s 			page 64


 1540              		.loc 1 1721 44 view .LVU474
 1541 01b0 0832     		adds	r2, r2, #8
 1542 01b2 9A60     		str	r2, [r3, #8]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1543              		.loc 1 1722 13 is_stmt 1 view .LVU475
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1544              		.loc 1 1722 17 is_stmt 0 view .LVU476
 1545 01b4 2B6A     		ldr	r3, [r5, #32]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1546              		.loc 1 1722 49 view .LVU477
 1547 01b6 0022     		movs	r2, #0
 1548 01b8 1A61     		str	r2, [r3, #16]
 1549 01ba C3E7     		b	.L113
 1550              	.L114:
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1551              		.loc 1 1728 5 is_stmt 1 view .LVU478
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1552              		.loc 1 1728 25 is_stmt 0 view .LVU479
 1553 01bc 631C     		adds	r3, r4, #1
 1554 01be DBB2     		uxtb	r3, r3
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1555              		.loc 1 1728 8 view .LVU480
 1556 01c0 012B     		cmp	r3, #1
 1557 01c2 7FF67DAF 		bls	.L108
 1558              	.LVL151:
 1559              	.L116:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1560              		.loc 1 1739 50 is_stmt 1 discriminator 3 view .LVU481
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1561              		.loc 1 1743 5 discriminator 3 view .LVU482
 1562              		.loc 1 1743 8 is_stmt 0 discriminator 3 view .LVU483
 1563 01c6 54BB     		cbnz	r4, .L120
 1564              	.LBB6:
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1565              		.loc 1 1744 7 is_stmt 1 view .LVU484
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
 1566              		.loc 1 1745 7 view .LVU485
 1567              		.loc 1 1745 16 is_stmt 0 view .LVU486
 1568 01c8 2B6A     		ldr	r3, [r5, #32]
 1569              		.loc 1 1745 36 view .LVU487
 1570 01ca 9A69     		ldr	r2, [r3, #24]
 1571              		.loc 1 1745 71 view .LVU488
 1572 01cc 5B69     		ldr	r3, [r3, #20]
 1573              		.loc 1 1745 10 view .LVU489
 1574 01ce 9A42     		cmp	r2, r3
 1575 01d0 17D0     		beq	.L132
 1576              		.loc 1 1745 77 discriminator 1 view .LVU490
 1577 01d2 BAF1000F 		cmp	r10, #0
 1578 01d6 16D0     		beq	.L121
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
ARM GAS  /tmp/ccwuqUhA.s 			page 65


1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1579              		.loc 1 1747 24 view .LVU491
 1580 01d8 4FF0010A 		mov	r10, #1
 1581              	.LVL152:
 1582              		.loc 1 1747 24 view .LVU492
 1583 01dc 13E0     		b	.L121
 1584              	.LVL153:
 1585              	.L117:
 1586              		.loc 1 1747 24 view .LVU493
 1587              	.LBE6:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1588              		.loc 1 1735 14 is_stmt 1 view .LVU494
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1589              		.loc 1 1735 19 is_stmt 0 view .LVU495
 1590 01de 6B68     		ldr	r3, [r5, #4]
 1591 01e0 B3F86420 		ldrh	r2, [r3, #100]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1592              		.loc 1 1735 17 view .LVU496
 1593 01e4 B2F5866F 		cmp	r2, #1072
 1594 01e8 03D3     		bcc	.L119
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1595              		.loc 1 1736 19 discriminator 1 view .LVU497
 1596 01ea B3F86630 		ldrh	r3, [r3, #102]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1597              		.loc 1 1735 62 discriminator 1 view .LVU498
 1598 01ee 042B     		cmp	r3, #4
 1599 01f0 E9D9     		bls	.L116
 1600              	.L119:
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1601              		.loc 1 1739 9 is_stmt 1 view .LVU499
 1602 01f2 6B6A     		ldr	r3, [r5, #36]
 1603 01f4 002B     		cmp	r3, #0
 1604 01f6 E6D0     		beq	.L116
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1605              		.loc 1 1739 9 discriminator 1 view .LVU500
 1606 01f8 0022     		movs	r2, #0
 1607 01fa 0321     		movs	r1, #3
 1608 01fc 2846     		mov	r0, r5
 1609 01fe 9847     		blx	r3
 1610              	.LVL154:
 1611 0200 E1E7     		b	.L116
 1612              	.L132:
 1613              	.LBB7:
 1614              		.loc 1 1747 24 is_stmt 0 view .LVU501
 1615 0202 4FF0010A 		mov	r10, #1
 1616              	.LVL155:
 1617              	.L121:
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
 1618              		.loc 1 1749 7 is_stmt 1 view .LVU502
 1619              		.loc 1 1749 17 is_stmt 0 view .LVU503
 1620 0206 6868     		ldr	r0, [r5, #4]
 1621 0208 FFF7FEFF 		bl	tcp_output
 1622              	.LVL156:
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1623              		.loc 1 1750 7 is_stmt 1 view .LVU504
 1624              		.loc 1 1750 10 is_stmt 0 view .LVU505
ARM GAS  /tmp/ccwuqUhA.s 			page 66


 1625 020c 10F1040F 		cmn	r0, #4
 1626 0210 25D0     		beq	.L149
 1627              		.loc 1 1750 10 view .LVU506
 1628              	.LBE7:
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to partial write or not */
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
 1629              		.loc 1 1783 3 is_stmt 1 view .LVU507
 1630              		.loc 1 1783 6 is_stmt 0 view .LVU508
 1631 0212 BAF1000F 		cmp	r10, #0
 1632 0216 05D1     		bne	.L122
 1633              	.LVL157:
 1634              	.L124:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
ARM GAS  /tmp/ccwuqUhA.s 			page 67


1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 1635              		.loc 1 1799 5 is_stmt 1 view .LVU509
 1636              		.loc 1 1799 12 is_stmt 0 view .LVU510
 1637 0218 4FF0FF30 		mov	r0, #-1
 1638 021c 0DE0     		b	.L125
 1639              	.LVL158:
 1640              	.L120:
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1641              		.loc 1 1757 12 is_stmt 1 view .LVU511
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1642              		.loc 1 1757 15 is_stmt 0 view .LVU512
 1643 021e B4F1FF3F 		cmp	r4, #-1
 1644 0222 0CD0     		beq	.L150
 1645              	.LVL159:
 1646              	.L122:
 1647              	.LBB8:
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1648              		.loc 1 1786 5 is_stmt 1 view .LVU513
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1649              		.loc 1 1786 35 is_stmt 0 view .LVU514
 1650 0224 2B6A     		ldr	r3, [r5, #32]
 1651 0226 1868     		ldr	r0, [r3]
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1652              		.loc 1 1786 16 view .LVU515
 1653 0228 0C30     		adds	r0, r0, #12
 1654              	.LVL160:
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1655              		.loc 1 1787 5 is_stmt 1 view .LVU516
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1656              		.loc 1 1787 28 is_stmt 0 view .LVU517
 1657 022a 1C71     		strb	r4, [r3, #4]
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1658              		.loc 1 1788 5 is_stmt 1 view .LVU518
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1659              		.loc 1 1788 23 is_stmt 0 view .LVU519
 1660 022c 0023     		movs	r3, #0
 1661 022e 2B62     		str	r3, [r5, #32]
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1662              		.loc 1 1789 5 is_stmt 1 view .LVU520
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1663              		.loc 1 1789 17 is_stmt 0 view .LVU521
 1664 0230 6B70     		strb	r3, [r5, #1]
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1665              		.loc 1 1791 5 is_stmt 1 view .LVU522
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1666              		.loc 1 1791 8 is_stmt 0 view .LVU523
 1667 0232 BBF1000F 		cmp	fp, #0
 1668 0236 16D1     		bne	.L151
 1669              	.LBE8:
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1670              		.loc 1 1802 10 view .LVU524
 1671 0238 0020     		movs	r0, #0
 1672              	.LVL161:
 1673              	.L125:
ARM GAS  /tmp/ccwuqUhA.s 			page 68


1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1674              		.loc 1 1803 1 view .LVU525
 1675 023a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1676              	.LVL162:
 1677              	.L150:
 1678              	.LBB9:
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1679              		.loc 1 1764 7 is_stmt 1 view .LVU526
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1680              		.loc 1 1764 23 is_stmt 0 view .LVU527
 1681 023e 6868     		ldr	r0, [r5, #4]
 1682 0240 FFF7FEFF 		bl	tcp_output
 1683              	.LVL163:
 1684 0244 0446     		mov	r4, r0
 1685              	.LVL164:
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1686              		.loc 1 1765 7 is_stmt 1 view .LVU528
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1687              		.loc 1 1765 10 is_stmt 0 view .LVU529
 1688 0246 10F1040F 		cmn	r0, #4
 1689 024a EBD0     		beq	.L122
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1690              		.loc 1 1771 14 is_stmt 1 view .LVU530
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1691              		.loc 1 1771 17 is_stmt 0 view .LVU531
 1692 024c BAF1000F 		cmp	r10, #0
 1693 0250 E2D0     		beq	.L124
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1694              		.loc 1 1774 9 is_stmt 1 view .LVU532
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1695              		.loc 1 1774 20 is_stmt 0 view .LVU533
 1696 0252 2B6A     		ldr	r3, [r5, #32]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1697              		.loc 1 1774 40 view .LVU534
 1698 0254 9B69     		ldr	r3, [r3, #24]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1699              		.loc 1 1774 13 view .LVU535
 1700 0256 23B9     		cbnz	r3, .L135
 1701 0258 6FF00604 		mvn	r4, #6
 1702 025c E2E7     		b	.L122
 1703              	.LVL165:
 1704              	.L149:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1705              		.loc 1 1774 13 view .LVU536
 1706              	.LBE9:
 1707              	.LBB10:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1708              		.loc 1 1754 13 view .LVU537
 1709 025e 0446     		mov	r4, r0
 1710              	.LVL166:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1711              		.loc 1 1754 13 view .LVU538
 1712 0260 E0E7     		b	.L122
 1713              	.LVL167:
 1714              	.L135:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1715              		.loc 1 1754 13 view .LVU539
ARM GAS  /tmp/ccwuqUhA.s 			page 69


 1716              	.LBE10:
 1717              	.LBB11:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1718              		.loc 1 1774 13 view .LVU540
 1719 0262 0024     		movs	r4, #0
 1720 0264 DEE7     		b	.L122
 1721              	.LVL168:
 1722              	.L151:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1723              		.loc 1 1774 13 view .LVU541
 1724              	.LBE11:
 1725              	.LBB12:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1726              		.loc 1 1794 7 is_stmt 1 view .LVU542
 1727 0266 FFF7FEFF 		bl	sys_sem_signal
 1728              	.LVL169:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1729              		.loc 1 1794 7 is_stmt 0 view .LVU543
 1730              	.LBE12:
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1731              		.loc 1 1802 10 view .LVU544
 1732 026a 0020     		movs	r0, #0
 1733 026c E5E7     		b	.L125
 1734              	.L153:
 1735 026e 00BF     		.align	2
 1736              	.L152:
 1737 0270 00000000 		.word	.LC0
 1738 0274 00000000 		.word	.LC7
 1739 0278 40000000 		.word	.LC2
 1740 027c 00000000 		.word	.LC14
 1741 0280 10000000 		.word	.LC8
 1742 0284 20000000 		.word	.LC15
 1743 0288 38000000 		.word	.LC16
 1744 028c 78000000 		.word	.LC17
 1745 0290 A0000000 		.word	.LC18
 1746              		.cfi_endproc
 1747              	.LFE183:
 1749              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 1750              		.align	2
 1751              	.LC19:
 1752 0000 696E7661 		.ascii	"invalid conn\000"
 1752      6C696420 
 1752      636F6E6E 
 1752      00
 1753 000d 000000   		.align	2
 1754              	.LC20:
 1755 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 1755      20697320 
 1755      666F7220 
 1755      74637020 
 1755      6E657463 
 1756 002e 0000     		.align	2
 1757              	.LC21:
 1758 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 1758      206D7573 
 1758      74206265 
 1758      20696E20 
ARM GAS  /tmp/ccwuqUhA.s 			page 70


 1758      73746174 
 1759              		.align	2
 1760              	.LC22:
 1761 0054 70636220 		.ascii	"pcb already closed\000"
 1761      616C7265 
 1761      61647920 
 1761      636C6F73 
 1761      656400
 1762 0067 00       		.align	2
 1763              	.LC23:
 1764 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 1764      696E6720 
 1764      61206C69 
 1764      7374656E 
 1764      20706362 
 1765              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1766              		.align	1
 1767              		.syntax unified
 1768              		.thumb
 1769              		.thumb_func
 1770              		.fpu fpv4-sp-d16
 1772              	lwip_netconn_do_close_internal:
 1773              	.LVL170:
 1774              	.LFB173:
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1775              		.loc 1 921 1 is_stmt 1 view -0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 0
 1778              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1779              		.loc 1 921 1 is_stmt 0 view .LVU546
 1780 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1781              	.LCFI9:
 1782              		.cfi_def_cfa_offset 32
 1783              		.cfi_offset 4, -32
 1784              		.cfi_offset 5, -28
 1785              		.cfi_offset 6, -24
 1786              		.cfi_offset 7, -20
 1787              		.cfi_offset 8, -16
 1788              		.cfi_offset 9, -12
 1789              		.cfi_offset 10, -8
 1790              		.cfi_offset 14, -4
 1791 0004 0F46     		mov	r7, r1
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 1792              		.loc 1 922 3 is_stmt 1 view .LVU547
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 1793              		.loc 1 923 3 view .LVU548
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 1794              		.loc 1 924 3 view .LVU549
 1795              	.LVL171:
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1796              		.loc 1 925 3 view .LVU550
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1797              		.loc 1 930 3 view .LVU551
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1798              		.loc 1 930 3 view .LVU552
 1799 0006 0446     		mov	r4, r0
ARM GAS  /tmp/ccwuqUhA.s 			page 71


 1800 0008 0028     		cmp	r0, #0
 1801 000a 5FD0     		beq	.L182
 1802              	.LVL172:
 1803              	.L155:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1804              		.loc 1 930 3 discriminator 3 view .LVU553
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1805              		.loc 1 930 3 discriminator 3 view .LVU554
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1806              		.loc 1 931 3 discriminator 3 view .LVU555
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1807              		.loc 1 931 3 discriminator 3 view .LVU556
 1808 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1809 000e 03F0F003 		and	r3, r3, #240
 1810 0012 102B     		cmp	r3, #16
 1811 0014 62D1     		bne	.L183
 1812              	.L156:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1813              		.loc 1 931 3 discriminator 3 view .LVU557
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1814              		.loc 1 931 3 discriminator 3 view .LVU558
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1815              		.loc 1 932 3 discriminator 3 view .LVU559
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1816              		.loc 1 932 3 discriminator 3 view .LVU560
 1817 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1818 0018 042B     		cmp	r3, #4
 1819 001a 67D1     		bne	.L184
 1820              	.L157:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1821              		.loc 1 932 3 discriminator 3 view .LVU561
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1822              		.loc 1 932 3 discriminator 3 view .LVU562
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1823              		.loc 1 933 3 discriminator 3 view .LVU563
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1824              		.loc 1 933 3 discriminator 3 view .LVU564
 1825 001c 6368     		ldr	r3, [r4, #4]
 1826 001e 002B     		cmp	r3, #0
 1827 0020 6CD0     		beq	.L185
 1828              	.L158:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1829              		.loc 1 933 3 discriminator 3 view .LVU565
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1830              		.loc 1 933 3 discriminator 3 view .LVU566
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1831              		.loc 1 934 3 discriminator 3 view .LVU567
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1832              		.loc 1 934 3 discriminator 3 view .LVU568
 1833 0022 236A     		ldr	r3, [r4, #32]
 1834 0024 002B     		cmp	r3, #0
 1835 0026 71D0     		beq	.L186
 1836              	.L159:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1837              		.loc 1 934 3 discriminator 3 view .LVU569
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1838              		.loc 1 934 3 discriminator 3 view .LVU570
ARM GAS  /tmp/ccwuqUhA.s 			page 72


 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1839              		.loc 1 936 3 discriminator 3 view .LVU571
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1840              		.loc 1 936 8 is_stmt 0 discriminator 3 view .LVU572
 1841 0028 6668     		ldr	r6, [r4, #4]
 1842              	.LVL173:
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1843              		.loc 1 937 3 is_stmt 1 discriminator 3 view .LVU573
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1844              		.loc 1 937 14 is_stmt 0 discriminator 3 view .LVU574
 1845 002a 236A     		ldr	r3, [r4, #32]
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1846              		.loc 1 937 8 discriminator 3 view .LVU575
 1847 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1848              	.LVL174:
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1849              		.loc 1 938 3 is_stmt 1 discriminator 3 view .LVU576
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1850              		.loc 1 938 11 is_stmt 0 discriminator 3 view .LVU577
 1851 002e 03F00109 		and	r9, r3, #1
 1852              	.LVL175:
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1853              		.loc 1 939 3 is_stmt 1 discriminator 3 view .LVU578
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1854              		.loc 1 939 11 is_stmt 0 discriminator 3 view .LVU579
 1855 0032 03F00208 		and	r8, r3, #2
 1856              	.LVL176:
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1857              		.loc 1 942 3 is_stmt 1 discriminator 3 view .LVU580
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1858              		.loc 1 942 6 is_stmt 0 discriminator 3 view .LVU581
 1859 0036 032B     		cmp	r3, #3
 1860 0038 10D0     		beq	.L160
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1861              		.loc 1 944 10 is_stmt 1 view .LVU582
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1862              		.loc 1 944 13 is_stmt 0 view .LVU583
 1863 003a B9F1000F 		cmp	r9, #0
 1864 003e 06D0     		beq	.L161
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1865              		.loc 1 945 20 discriminator 1 view .LVU584
 1866 0040 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1867              		.loc 1 945 43 discriminator 1 view .LVU585
 1868 0042 531F     		subs	r3, r2, #5
 1869              	.LVL177:
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1870              		.loc 1 945 43 discriminator 1 view .LVU586
 1871 0044 DBB2     		uxtb	r3, r3
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1872              		.loc 1 944 22 discriminator 1 view .LVU587
 1873 0046 012B     		cmp	r3, #1
 1874 0048 08D9     		bls	.L160
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1875              		.loc 1 946 43 view .LVU588
 1876 004a 082A     		cmp	r2, #8
 1877 004c 06D0     		beq	.L160
ARM GAS  /tmp/ccwuqUhA.s 			page 73


 1878              	.L161:
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1879              		.loc 1 949 10 is_stmt 1 view .LVU589
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1880              		.loc 1 949 13 is_stmt 0 view .LVU590
 1881 004e B8F1000F 		cmp	r8, #0
 1882 0052 63D0     		beq	.L179
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1883              		.loc 1 949 31 discriminator 1 view .LVU591
 1884 0054 738B     		ldrh	r3, [r6, #26]
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1885              		.loc 1 949 22 discriminator 1 view .LVU592
 1886 0056 13F0100F 		tst	r3, #16
 1887 005a 61D0     		beq	.L180
 1888              	.L160:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1889              		.loc 1 957 5 is_stmt 1 view .LVU593
 1890 005c 0021     		movs	r1, #0
 1891 005e 3046     		mov	r0, r6
 1892 0060 FFF7FEFF 		bl	tcp_arg
 1893              	.LVL178:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1894              		.loc 1 957 5 is_stmt 0 view .LVU594
 1895 0064 4FF0010A 		mov	r10, #1
 1896              	.L162:
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1897              		.loc 1 959 3 is_stmt 1 view .LVU595
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1898              		.loc 1 959 11 is_stmt 0 view .LVU596
 1899 0068 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1900              		.loc 1 959 6 view .LVU597
 1901 006a 012B     		cmp	r3, #1
 1902 006c 5BD0     		beq	.L187
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1903              		.loc 1 963 5 is_stmt 1 view .LVU598
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1904              		.loc 1 963 8 is_stmt 0 view .LVU599
 1905 006e B9F1000F 		cmp	r9, #0
 1906 0072 5DD1     		bne	.L188
 1907              	.L165:
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1908              		.loc 1 967 5 is_stmt 1 view .LVU600
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1909              		.loc 1 967 8 is_stmt 0 view .LVU601
 1910 0074 B8F1000F 		cmp	r8, #0
 1911 0078 63D1     		bne	.L189
 1912              	.L166:
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1913              		.loc 1 970 5 is_stmt 1 view .LVU602
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1914              		.loc 1 970 8 is_stmt 0 view .LVU603
 1915 007a BAF1000F 		cmp	r10, #0
 1916 007e 65D1     		bne	.L190
 1917              	.L164:
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1918              		.loc 1 976 3 is_stmt 1 view .LVU604
ARM GAS  /tmp/ccwuqUhA.s 			page 74


 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1919              		.loc 1 976 6 is_stmt 0 view .LVU605
 1920 0080 BAF1000F 		cmp	r10, #0
 1921 0084 6CD0     		beq	.L167
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1922              		.loc 1 1006 7 is_stmt 1 view .LVU606
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1923              		.loc 1 1006 13 is_stmt 0 view .LVU607
 1924 0086 3046     		mov	r0, r6
 1925 0088 FFF7FEFF 		bl	tcp_close
 1926              	.LVL179:
 1927 008c 0546     		mov	r5, r0
 1928              	.LVL180:
 1929              	.L168:
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1930              		.loc 1 1011 3 is_stmt 1 view .LVU608
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1931              		.loc 1 1011 6 is_stmt 0 view .LVU609
 1932 008e 002D     		cmp	r5, #0
 1933 0090 70D0     		beq	.L169
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1934              		.loc 1 1021 5 is_stmt 1 view .LVU610
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1935              		.loc 1 1021 8 is_stmt 0 view .LVU611
 1936 0092 B5F1FF3F 		cmp	r5, #-1
 1937 0096 6DD1     		bne	.L169
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1938              		.loc 1 1042 7 is_stmt 1 view .LVU612
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1939              		.loc 1 1042 15 is_stmt 0 view .LVU613
 1940 0098 236A     		ldr	r3, [r4, #32]
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1941              		.loc 1 1042 36 view .LVU614
 1942 009a 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1943              		.loc 1 1042 10 view .LVU615
 1944 009c 002B     		cmp	r3, #0
 1945 009e 66D0     		beq	.L191
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 1946              		.loc 1 1056 3 is_stmt 1 view .LVU616
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 1947              		.loc 1 1086 3 view .LVU617
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1948              		.loc 1 1089 5 view .LVU618
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1949              		.loc 1 1089 5 view .LVU619
 1950 00a0 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1951 00a2 012B     		cmp	r3, #1
 1952 00a4 00F09880 		beq	.L192
 1953              	.L172:
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1954              		.loc 1 1089 5 discriminator 3 view .LVU620
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1955              		.loc 1 1089 5 discriminator 3 view .LVU621
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1956              		.loc 1 1090 5 discriminator 3 view .LVU622
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
ARM GAS  /tmp/ccwuqUhA.s 			page 75


 1957              		.loc 1 1090 8 is_stmt 0 discriminator 3 view .LVU623
 1958 00a8 B8F1000F 		cmp	r8, #0
 1959 00ac 40F09C80 		bne	.L193
 1960              	.L178:
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1961              		.loc 1 1094 5 is_stmt 1 view .LVU624
 1962 00b0 0122     		movs	r2, #1
 1963 00b2 5049     		ldr	r1, .L196
 1964 00b4 3046     		mov	r0, r6
 1965 00b6 FFF7FEFF 		bl	tcp_poll
 1966              	.LVL181:
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1967              		.loc 1 1095 5 view .LVU625
 1968 00ba 4F49     		ldr	r1, .L196+4
 1969 00bc 3046     		mov	r0, r6
 1970 00be FFF7FEFF 		bl	tcp_err
 1971              	.LVL182:
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1972              		.loc 1 1096 5 view .LVU626
 1973 00c2 2146     		mov	r1, r4
 1974 00c4 3046     		mov	r0, r6
 1975 00c6 FFF7FEFF 		bl	tcp_arg
 1976              	.LVL183:
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1977              		.loc 1 1101 3 view .LVU627
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1978              		.loc 1 1101 3 view .LVU628
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1979              		.loc 1 1101 3 view .LVU629
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1980              		.loc 1 1101 3 view .LVU630
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1981              		.loc 1 1102 3 view .LVU631
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1982              		.loc 1 1102 10 is_stmt 0 view .LVU632
 1983 00ca 79E0     		b	.L177
 1984              	.LVL184:
 1985              	.L182:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1986              		.loc 1 930 3 is_stmt 1 discriminator 1 view .LVU633
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1987              		.loc 1 930 3 discriminator 1 view .LVU634
 1988 00cc 4B4B     		ldr	r3, .L196+8
 1989 00ce 40F2A232 		movw	r2, #930
 1990 00d2 4B49     		ldr	r1, .L196+12
 1991              	.LVL185:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1992              		.loc 1 930 3 is_stmt 0 discriminator 1 view .LVU635
 1993 00d4 4B48     		ldr	r0, .L196+16
 1994              	.LVL186:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1995              		.loc 1 930 3 discriminator 1 view .LVU636
 1996 00d6 FFF7FEFF 		bl	printf
 1997              	.LVL187:
 1998 00da 97E7     		b	.L155
 1999              	.L183:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
ARM GAS  /tmp/ccwuqUhA.s 			page 76


 2000              		.loc 1 931 3 is_stmt 1 discriminator 1 view .LVU637
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2001              		.loc 1 931 3 discriminator 1 view .LVU638
 2002 00dc 474B     		ldr	r3, .L196+8
 2003 00de 40F2A332 		movw	r2, #931
 2004 00e2 4949     		ldr	r1, .L196+20
 2005 00e4 4748     		ldr	r0, .L196+16
 2006 00e6 FFF7FEFF 		bl	printf
 2007              	.LVL188:
 2008 00ea 94E7     		b	.L156
 2009              	.L184:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2010              		.loc 1 932 3 discriminator 1 view .LVU639
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2011              		.loc 1 932 3 discriminator 1 view .LVU640
 2012 00ec 434B     		ldr	r3, .L196+8
 2013 00ee 4FF46972 		mov	r2, #932
 2014 00f2 4649     		ldr	r1, .L196+24
 2015 00f4 4348     		ldr	r0, .L196+16
 2016 00f6 FFF7FEFF 		bl	printf
 2017              	.LVL189:
 2018 00fa 8FE7     		b	.L157
 2019              	.L185:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2020              		.loc 1 933 3 discriminator 1 view .LVU641
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2021              		.loc 1 933 3 discriminator 1 view .LVU642
 2022 00fc 3F4B     		ldr	r3, .L196+8
 2023 00fe 40F2A532 		movw	r2, #933
 2024 0102 4349     		ldr	r1, .L196+28
 2025 0104 3F48     		ldr	r0, .L196+16
 2026 0106 FFF7FEFF 		bl	printf
 2027              	.LVL190:
 2028 010a 8AE7     		b	.L158
 2029              	.L186:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2030              		.loc 1 934 3 discriminator 1 view .LVU643
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2031              		.loc 1 934 3 discriminator 1 view .LVU644
 2032 010c 3B4B     		ldr	r3, .L196+8
 2033 010e 40F2A632 		movw	r2, #934
 2034 0112 4049     		ldr	r1, .L196+32
 2035 0114 3B48     		ldr	r0, .L196+16
 2036 0116 FFF7FEFF 		bl	printf
 2037              	.LVL191:
 2038 011a 85E7     		b	.L159
 2039              	.LVL192:
 2040              	.L179:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2041              		.loc 1 952 16 is_stmt 0 view .LVU645
 2042 011c C246     		mov	r10, r8
 2043 011e A3E7     		b	.L162
 2044              	.L180:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2045              		.loc 1 952 16 view .LVU646
 2046 0120 4FF0000A 		mov	r10, #0
 2047 0124 A0E7     		b	.L162
ARM GAS  /tmp/ccwuqUhA.s 			page 77


 2048              	.LVL193:
 2049              	.L187:
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2050              		.loc 1 960 5 is_stmt 1 view .LVU647
 2051 0126 0021     		movs	r1, #0
 2052 0128 3046     		mov	r0, r6
 2053 012a FFF7FEFF 		bl	tcp_accept
 2054              	.LVL194:
 2055 012e A7E7     		b	.L164
 2056              	.L188:
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 2057              		.loc 1 964 7 view .LVU648
 2058 0130 0021     		movs	r1, #0
 2059 0132 3046     		mov	r0, r6
 2060 0134 FFF7FEFF 		bl	tcp_recv
 2061              	.LVL195:
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2062              		.loc 1 965 7 view .LVU649
 2063 0138 0021     		movs	r1, #0
 2064 013a 3046     		mov	r0, r6
 2065 013c FFF7FEFF 		bl	tcp_accept
 2066              	.LVL196:
 2067 0140 98E7     		b	.L165
 2068              	.L189:
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2069              		.loc 1 968 7 view .LVU650
 2070 0142 0021     		movs	r1, #0
 2071 0144 3046     		mov	r0, r6
 2072 0146 FFF7FEFF 		bl	tcp_sent
 2073              	.LVL197:
 2074 014a 96E7     		b	.L166
 2075              	.L190:
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 2076              		.loc 1 971 7 view .LVU651
 2077 014c 0022     		movs	r2, #0
 2078 014e 1146     		mov	r1, r2
 2079 0150 3046     		mov	r0, r6
 2080 0152 FFF7FEFF 		bl	tcp_poll
 2081              	.LVL198:
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2082              		.loc 1 972 7 view .LVU652
 2083 0156 0021     		movs	r1, #0
 2084 0158 3046     		mov	r0, r6
 2085 015a FFF7FEFF 		bl	tcp_err
 2086              	.LVL199:
 2087 015e 8FE7     		b	.L164
 2088              	.L167:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2089              		.loc 1 1009 5 view .LVU653
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2090              		.loc 1 1009 11 is_stmt 0 view .LVU654
 2091 0160 4246     		mov	r2, r8
 2092 0162 4946     		mov	r1, r9
 2093 0164 3046     		mov	r0, r6
 2094 0166 FFF7FEFF 		bl	tcp_shutdown
 2095              	.LVL200:
 2096 016a 0546     		mov	r5, r0
ARM GAS  /tmp/ccwuqUhA.s 			page 78


 2097              	.LVL201:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2098              		.loc 1 1009 11 view .LVU655
 2099 016c 8FE7     		b	.L168
 2100              	.L191:
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
 2101              		.loc 1 1044 9 is_stmt 1 view .LVU656
 2102              	.LVL202:
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2103              		.loc 1 1045 9 view .LVU657
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2104              		.loc 1 1045 12 is_stmt 0 view .LVU658
 2105 016e BAF1000F 		cmp	r10, #0
 2106 0172 28D1     		bne	.L194
 2107              	.LVL203:
 2108              	.L169:
 2109              	.LBB13:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2110              		.loc 1 1058 5 is_stmt 1 view .LVU659
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2111              		.loc 1 1058 35 is_stmt 0 view .LVU660
 2112 0174 236A     		ldr	r3, [r4, #32]
 2113 0176 1E68     		ldr	r6, [r3]
 2114              	.LVL204:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2115              		.loc 1 1058 16 view .LVU661
 2116 0178 0C36     		adds	r6, r6, #12
 2117              	.LVL205:
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2118              		.loc 1 1059 5 is_stmt 1 view .LVU662
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2119              		.loc 1 1059 28 is_stmt 0 view .LVU663
 2120 017a 1D71     		strb	r5, [r3, #4]
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2121              		.loc 1 1060 5 is_stmt 1 view .LVU664
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2122              		.loc 1 1060 23 is_stmt 0 view .LVU665
 2123 017c 0023     		movs	r3, #0
 2124 017e 2362     		str	r3, [r4, #32]
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2125              		.loc 1 1061 5 is_stmt 1 view .LVU666
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2126              		.loc 1 1061 17 is_stmt 0 view .LVU667
 2127 0180 6370     		strb	r3, [r4, #1]
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2128              		.loc 1 1062 5 is_stmt 1 view .LVU668
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2129              		.loc 1 1062 8 is_stmt 0 view .LVU669
 2130 0182 DDB9     		cbnz	r5, .L173
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2131              		.loc 1 1063 7 is_stmt 1 view .LVU670
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2132              		.loc 1 1063 10 is_stmt 0 view .LVU671
 2133 0184 BAF1000F 		cmp	r10, #0
 2134 0188 06D0     		beq	.L174
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2135              		.loc 1 1065 9 is_stmt 1 view .LVU672
ARM GAS  /tmp/ccwuqUhA.s 			page 79


1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2136              		.loc 1 1065 23 is_stmt 0 view .LVU673
 2137 018a 6360     		str	r3, [r4, #4]
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2138              		.loc 1 1068 9 is_stmt 1 view .LVU674
 2139 018c 636A     		ldr	r3, [r4, #36]
 2140 018e 1BB1     		cbz	r3, .L174
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2141              		.loc 1 1068 9 discriminator 1 view .LVU675
 2142 0190 0022     		movs	r2, #0
 2143 0192 0421     		movs	r1, #4
 2144 0194 2046     		mov	r0, r4
 2145 0196 9847     		blx	r3
 2146              	.LVL206:
 2147              	.L174:
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2148              		.loc 1 1068 46 discriminator 3 view .LVU676
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2149              		.loc 1 1070 7 discriminator 3 view .LVU677
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2150              		.loc 1 1070 10 is_stmt 0 discriminator 3 view .LVU678
 2151 0198 B9F1000F 		cmp	r9, #0
 2152 019c 05D0     		beq	.L175
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2153              		.loc 1 1071 9 is_stmt 1 view .LVU679
 2154 019e 636A     		ldr	r3, [r4, #36]
 2155 01a0 1BB1     		cbz	r3, .L175
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2156              		.loc 1 1071 9 discriminator 1 view .LVU680
 2157 01a2 0022     		movs	r2, #0
 2158 01a4 1146     		mov	r1, r2
 2159 01a6 2046     		mov	r0, r4
 2160 01a8 9847     		blx	r3
 2161              	.LVL207:
 2162              	.L175:
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2163              		.loc 1 1071 48 discriminator 3 view .LVU681
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2164              		.loc 1 1073 7 discriminator 3 view .LVU682
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2165              		.loc 1 1073 10 is_stmt 0 discriminator 3 view .LVU683
 2166 01aa B8F1000F 		cmp	r8, #0
 2167 01ae 05D0     		beq	.L173
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2168              		.loc 1 1074 9 is_stmt 1 view .LVU684
 2169 01b0 636A     		ldr	r3, [r4, #36]
 2170 01b2 1BB1     		cbz	r3, .L173
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2171              		.loc 1 1074 9 discriminator 1 view .LVU685
 2172 01b4 0022     		movs	r2, #0
 2173 01b6 0221     		movs	r1, #2
 2174 01b8 2046     		mov	r0, r4
 2175 01ba 9847     		blx	r3
 2176              	.LVL208:
 2177              	.L173:
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2178              		.loc 1 1074 49 discriminator 3 view .LVU686
ARM GAS  /tmp/ccwuqUhA.s 			page 80


1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2179              		.loc 1 1078 5 discriminator 3 view .LVU687
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2180              		.loc 1 1078 8 is_stmt 0 discriminator 3 view .LVU688
 2181 01bc 47B9     		cbnz	r7, .L195
 2182              	.L176:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2183              		.loc 1 1084 5 is_stmt 1 view .LVU689
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2184              		.loc 1 1084 12 is_stmt 0 view .LVU690
 2185 01be 0025     		movs	r5, #0
 2186              	.LVL209:
 2187              	.L177:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2188              		.loc 1 1084 12 view .LVU691
 2189              	.LBE13:
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2190              		.loc 1 1103 1 view .LVU692
 2191 01c0 2846     		mov	r0, r5
 2192 01c2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2193              	.LVL210:
 2194              	.L194:
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 2195              		.loc 1 1047 11 is_stmt 1 view .LVU693
 2196 01c6 3046     		mov	r0, r6
 2197 01c8 FFF7FEFF 		bl	tcp_abort
 2198              	.LVL211:
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2199              		.loc 1 1048 11 view .LVU694
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 2200              		.loc 1 1056 3 view .LVU695
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2201              		.loc 1 1048 15 is_stmt 0 view .LVU696
 2202 01cc 0025     		movs	r5, #0
 2203 01ce D1E7     		b	.L169
 2204              	.LVL212:
 2205              	.L195:
 2206              	.LBB14:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2207              		.loc 1 1082 7 is_stmt 1 view .LVU697
 2208 01d0 3046     		mov	r0, r6
 2209 01d2 FFF7FEFF 		bl	sys_sem_signal
 2210              	.LVL213:
 2211 01d6 F2E7     		b	.L176
 2212              	.LVL214:
 2213              	.L192:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2214              		.loc 1 1082 7 is_stmt 0 view .LVU698
 2215              	.LBE14:
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2216              		.loc 1 1089 5 is_stmt 1 discriminator 1 view .LVU699
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2217              		.loc 1 1089 5 discriminator 1 view .LVU700
 2218 01d8 084B     		ldr	r3, .L196+8
 2219 01da 40F24142 		movw	r2, #1089
 2220 01de 0E49     		ldr	r1, .L196+36
 2221 01e0 0848     		ldr	r0, .L196+16
ARM GAS  /tmp/ccwuqUhA.s 			page 81


 2222 01e2 FFF7FEFF 		bl	printf
 2223              	.LVL215:
 2224 01e6 5FE7     		b	.L172
 2225              	.L193:
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2226              		.loc 1 1091 7 view .LVU701
 2227 01e8 0C49     		ldr	r1, .L196+40
 2228 01ea 3046     		mov	r0, r6
 2229 01ec FFF7FEFF 		bl	tcp_sent
 2230              	.LVL216:
 2231 01f0 5EE7     		b	.L178
 2232              	.L197:
 2233 01f2 00BF     		.align	2
 2234              	.L196:
 2235 01f4 00000000 		.word	poll_tcp
 2236 01f8 00000000 		.word	err_tcp
 2237 01fc 00000000 		.word	.LC0
 2238 0200 00000000 		.word	.LC19
 2239 0204 40000000 		.word	.LC2
 2240 0208 10000000 		.word	.LC20
 2241 020c 30000000 		.word	.LC21
 2242 0210 54000000 		.word	.LC22
 2243 0214 10000000 		.word	.LC8
 2244 0218 68000000 		.word	.LC23
 2245 021c 00000000 		.word	sent_tcp
 2246              		.cfi_endproc
 2247              	.LFE173:
 2249              		.section	.text.poll_tcp,"ax",%progbits
 2250              		.align	1
 2251              		.syntax unified
 2252              		.thumb
 2253              		.thumb_func
 2254              		.fpu fpv4-sp-d16
 2256              	poll_tcp:
 2257              	.LVL217:
 2258              	.LFB163:
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2259              		.loc 1 358 1 view -0
 2260              		.cfi_startproc
 2261              		@ args = 0, pretend = 0, frame = 0
 2262              		@ frame_needed = 0, uses_anonymous_args = 0
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2263              		.loc 1 358 1 is_stmt 0 view .LVU703
 2264 0000 10B5     		push	{r4, lr}
 2265              	.LCFI10:
 2266              		.cfi_def_cfa_offset 8
 2267              		.cfi_offset 4, -8
 2268              		.cfi_offset 14, -4
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2269              		.loc 1 359 3 is_stmt 1 view .LVU704
 2270              	.LVL218:
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2271              		.loc 1 361 3 view .LVU705
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2272              		.loc 1 362 3 view .LVU706
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2273              		.loc 1 362 3 view .LVU707
ARM GAS  /tmp/ccwuqUhA.s 			page 82


 2274 0002 0446     		mov	r4, r0
 2275 0004 F0B1     		cbz	r0, .L205
 2276              	.LVL219:
 2277              	.L199:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2278              		.loc 1 362 3 discriminator 3 view .LVU708
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2279              		.loc 1 362 3 discriminator 3 view .LVU709
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2280              		.loc 1 364 3 discriminator 3 view .LVU710
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2281              		.loc 1 364 11 is_stmt 0 discriminator 3 view .LVU711
 2282 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2283              		.loc 1 364 6 discriminator 3 view .LVU712
 2284 0008 012B     		cmp	r3, #1
 2285 000a 23D0     		beq	.L206
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2286              		.loc 1 366 10 is_stmt 1 view .LVU713
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2287              		.loc 1 366 13 is_stmt 0 view .LVU714
 2288 000c 042B     		cmp	r3, #4
 2289 000e 26D0     		beq	.L207
 2290              	.L201:
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2291              		.loc 1 377 3 is_stmt 1 view .LVU715
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2292              		.loc 1 377 11 is_stmt 0 view .LVU716
 2293 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2294              		.loc 1 377 6 view .LVU717
 2295 0012 13F0100F 		tst	r3, #16
 2296 0016 13D0     		beq	.L203
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2297              		.loc 1 380 5 is_stmt 1 view .LVU718
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2298              		.loc 1 380 19 is_stmt 0 view .LVU719
 2299 0018 6268     		ldr	r2, [r4, #4]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2300              		.loc 1 380 8 view .LVU720
 2301 001a 8AB1     		cbz	r2, .L203
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2302              		.loc 1 380 37 discriminator 1 view .LVU721
 2303 001c B2F86410 		ldrh	r1, [r2, #100]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2304              		.loc 1 380 33 discriminator 1 view .LVU722
 2305 0020 B1F5866F 		cmp	r1, #1072
 2306 0024 0CD3     		bcc	.L203
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2307              		.loc 1 381 10 discriminator 2 view .LVU723
 2308 0026 B2F86620 		ldrh	r2, [r2, #102]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2309              		.loc 1 380 79 discriminator 2 view .LVU724
 2310 002a 042A     		cmp	r2, #4
 2311 002c 08D8     		bhi	.L203
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2312              		.loc 1 382 7 is_stmt 1 view .LVU725
ARM GAS  /tmp/ccwuqUhA.s 			page 83


 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2313              		.loc 1 382 7 view .LVU726
 2314 002e 03F0EF03 		and	r3, r3, #239
 2315 0032 2377     		strb	r3, [r4, #28]
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2316              		.loc 1 382 7 view .LVU727
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2317              		.loc 1 383 7 view .LVU728
 2318 0034 636A     		ldr	r3, [r4, #36]
 2319 0036 1BB1     		cbz	r3, .L203
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2320              		.loc 1 383 7 discriminator 1 view .LVU729
 2321 0038 0022     		movs	r2, #0
 2322 003a 0221     		movs	r1, #2
 2323 003c 2046     		mov	r0, r4
 2324 003e 9847     		blx	r3
 2325              	.LVL220:
 2326              	.L203:
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2327              		.loc 1 383 47 discriminator 3 view .LVU730
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2328              		.loc 1 387 3 discriminator 3 view .LVU731
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2329              		.loc 1 388 1 is_stmt 0 discriminator 3 view .LVU732
 2330 0040 0020     		movs	r0, #0
 2331 0042 10BD     		pop	{r4, pc}
 2332              	.LVL221:
 2333              	.L205:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2334              		.loc 1 362 3 is_stmt 1 discriminator 1 view .LVU733
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2335              		.loc 1 362 3 discriminator 1 view .LVU734
 2336 0044 0B4B     		ldr	r3, .L208
 2337 0046 4FF4B572 		mov	r2, #362
 2338 004a 0B49     		ldr	r1, .L208+4
 2339              	.LVL222:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2340              		.loc 1 362 3 is_stmt 0 discriminator 1 view .LVU735
 2341 004c 0B48     		ldr	r0, .L208+8
 2342              	.LVL223:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2343              		.loc 1 362 3 discriminator 1 view .LVU736
 2344 004e FFF7FEFF 		bl	printf
 2345              	.LVL224:
 2346 0052 D8E7     		b	.L199
 2347              	.L206:
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 2348              		.loc 1 365 5 is_stmt 1 view .LVU737
 2349 0054 0121     		movs	r1, #1
 2350 0056 2046     		mov	r0, r4
 2351 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2352              	.LVL225:
 2353 005c D8E7     		b	.L201
 2354              	.L207:
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2355              		.loc 1 368 5 view .LVU738
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
ARM GAS  /tmp/ccwuqUhA.s 			page 84


 2356              		.loc 1 368 13 is_stmt 0 view .LVU739
 2357 005e 236A     		ldr	r3, [r4, #32]
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2358              		.loc 1 368 8 view .LVU740
 2359 0060 1BB1     		cbz	r3, .L202
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2360              		.loc 1 368 55 discriminator 1 view .LVU741
 2361 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2362              		.loc 1 368 27 discriminator 1 view .LVU742
 2363 0064 0AB1     		cbz	r2, .L202
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2364              		.loc 1 369 7 is_stmt 1 view .LVU743
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2365              		.loc 1 369 43 is_stmt 0 view .LVU744
 2366 0066 013A     		subs	r2, r2, #1
 2367 0068 5A72     		strb	r2, [r3, #9]
 2368              	.L202:
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2369              		.loc 1 372 5 is_stmt 1 view .LVU745
 2370 006a 0121     		movs	r1, #1
 2371 006c 2046     		mov	r0, r4
 2372 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2373              	.LVL226:
 2374 0072 CDE7     		b	.L201
 2375              	.L209:
 2376              		.align	2
 2377              	.L208:
 2378 0074 00000000 		.word	.LC0
 2379 0078 00000000 		.word	.LC7
 2380 007c 40000000 		.word	.LC2
 2381              		.cfi_endproc
 2382              	.LFE163:
 2384              		.section	.text.sent_tcp,"ax",%progbits
 2385              		.align	1
 2386              		.syntax unified
 2387              		.thumb
 2388              		.thumb_func
 2389              		.fpu fpv4-sp-d16
 2391              	sent_tcp:
 2392              	.LVL227:
 2393              	.LFB164:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2394              		.loc 1 399 1 view -0
 2395              		.cfi_startproc
 2396              		@ args = 0, pretend = 0, frame = 0
 2397              		@ frame_needed = 0, uses_anonymous_args = 0
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2398              		.loc 1 399 1 is_stmt 0 view .LVU747
 2399 0000 38B5     		push	{r3, r4, r5, lr}
 2400              	.LCFI11:
 2401              		.cfi_def_cfa_offset 16
 2402              		.cfi_offset 3, -16
 2403              		.cfi_offset 4, -12
 2404              		.cfi_offset 5, -8
 2405              		.cfi_offset 14, -4
 2406 0002 1546     		mov	r5, r2
ARM GAS  /tmp/ccwuqUhA.s 			page 85


 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2407              		.loc 1 400 3 is_stmt 1 view .LVU748
 2408              	.LVL228:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2409              		.loc 1 402 3 view .LVU749
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2410              		.loc 1 403 3 view .LVU750
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2411              		.loc 1 403 3 view .LVU751
 2412 0004 0446     		mov	r4, r0
 2413 0006 E0B1     		cbz	r0, .L216
 2414              	.LVL229:
 2415              	.L211:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2416              		.loc 1 403 3 discriminator 3 view .LVU752
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2417              		.loc 1 403 3 discriminator 3 view .LVU753
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2418              		.loc 1 405 3 discriminator 3 view .LVU754
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2419              		.loc 1 405 6 is_stmt 0 discriminator 3 view .LVU755
 2420 0008 CCB1     		cbz	r4, .L212
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2421              		.loc 1 406 5 is_stmt 1 view .LVU756
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2422              		.loc 1 406 13 is_stmt 0 view .LVU757
 2423 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2424              		.loc 1 406 8 view .LVU758
 2425 000c 012B     		cmp	r3, #1
 2426 000e 20D0     		beq	.L217
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2427              		.loc 1 408 12 is_stmt 1 view .LVU759
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2428              		.loc 1 408 15 is_stmt 0 view .LVU760
 2429 0010 042B     		cmp	r3, #4
 2430 0012 23D0     		beq	.L218
 2431              	.L214:
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2432              		.loc 1 414 5 is_stmt 1 view .LVU761
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2433              		.loc 1 414 19 is_stmt 0 view .LVU762
 2434 0014 6368     		ldr	r3, [r4, #4]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2435              		.loc 1 414 8 view .LVU763
 2436 0016 93B1     		cbz	r3, .L212
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2437              		.loc 1 414 37 discriminator 1 view .LVU764
 2438 0018 B3F86420 		ldrh	r2, [r3, #100]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2439              		.loc 1 414 33 discriminator 1 view .LVU765
 2440 001c B2F5866F 		cmp	r2, #1072
 2441 0020 0DD3     		bcc	.L212
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2442              		.loc 1 415 10 discriminator 2 view .LVU766
 2443 0022 B3F86630 		ldrh	r3, [r3, #102]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
ARM GAS  /tmp/ccwuqUhA.s 			page 86


 2444              		.loc 1 414 79 discriminator 2 view .LVU767
 2445 0026 042B     		cmp	r3, #4
 2446 0028 09D8     		bhi	.L212
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2447              		.loc 1 416 7 is_stmt 1 view .LVU768
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2448              		.loc 1 416 7 view .LVU769
 2449 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 2450 002c 03F0EF03 		and	r3, r3, #239
 2451 0030 2377     		strb	r3, [r4, #28]
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2452              		.loc 1 416 7 view .LVU770
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2453              		.loc 1 417 7 view .LVU771
 2454 0032 636A     		ldr	r3, [r4, #36]
 2455 0034 1BB1     		cbz	r3, .L212
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2456              		.loc 1 417 7 discriminator 1 view .LVU772
 2457 0036 2A46     		mov	r2, r5
 2458 0038 0221     		movs	r1, #2
 2459 003a 2046     		mov	r0, r4
 2460 003c 9847     		blx	r3
 2461              	.LVL230:
 2462              	.L212:
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2463              		.loc 1 417 49 discriminator 3 view .LVU773
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2464              		.loc 1 421 3 discriminator 3 view .LVU774
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2465              		.loc 1 422 1 is_stmt 0 discriminator 3 view .LVU775
 2466 003e 0020     		movs	r0, #0
 2467 0040 38BD     		pop	{r3, r4, r5, pc}
 2468              	.LVL231:
 2469              	.L216:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2470              		.loc 1 403 3 is_stmt 1 discriminator 1 view .LVU776
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2471              		.loc 1 403 3 discriminator 1 view .LVU777
 2472 0042 094B     		ldr	r3, .L219
 2473 0044 40F29312 		movw	r2, #403
 2474              	.LVL232:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2475              		.loc 1 403 3 is_stmt 0 discriminator 1 view .LVU778
 2476 0048 0849     		ldr	r1, .L219+4
 2477              	.LVL233:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2478              		.loc 1 403 3 discriminator 1 view .LVU779
 2479 004a 0948     		ldr	r0, .L219+8
 2480              	.LVL234:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2481              		.loc 1 403 3 discriminator 1 view .LVU780
 2482 004c FFF7FEFF 		bl	printf
 2483              	.LVL235:
 2484 0050 DAE7     		b	.L211
 2485              	.L217:
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2486              		.loc 1 407 7 is_stmt 1 view .LVU781
ARM GAS  /tmp/ccwuqUhA.s 			page 87


 2487 0052 0121     		movs	r1, #1
 2488 0054 2046     		mov	r0, r4
 2489 0056 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2490              	.LVL236:
 2491 005a DBE7     		b	.L214
 2492              	.L218:
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2493              		.loc 1 409 7 view .LVU782
 2494 005c 0121     		movs	r1, #1
 2495 005e 2046     		mov	r0, r4
 2496 0060 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2497              	.LVL237:
 2498 0064 D6E7     		b	.L214
 2499              	.L220:
 2500 0066 00BF     		.align	2
 2501              	.L219:
 2502 0068 00000000 		.word	.LC0
 2503 006c 00000000 		.word	.LC7
 2504 0070 40000000 		.word	.LC2
 2505              		.cfi_endproc
 2506              	.LFE164:
 2508              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 2509              		.align	2
 2510              	.LC24:
 2511 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 2511      5F746370 
 2511      206D7573 
 2511      74206861 
 2511      76652061 
 2512 0022 0000     		.align	2
 2513              	.LC25:
 2514 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 2514      5F746370 
 2514      206D7573 
 2514      74206861 
 2514      76652061 
 2515 0043 00       		.align	2
 2516              	.LC26:
 2517 0044 65727220 		.ascii	"err != ERR_OK unhandled\000"
 2517      213D2045 
 2517      52525F4F 
 2517      4B20756E 
 2517      68616E64 
 2518              		.align	2
 2519              	.LC27:
 2520 005c 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 2520      5F746370 
 2520      3A207265 
 2520      63762066 
 2520      6F722077 
 2521              		.section	.text.recv_tcp,"ax",%progbits
 2522              		.align	1
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2526              		.fpu fpv4-sp-d16
 2528              	recv_tcp:
ARM GAS  /tmp/ccwuqUhA.s 			page 88


 2529              	.LVL238:
 2530              	.LFB162:
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2531              		.loc 1 294 1 view -0
 2532              		.cfi_startproc
 2533              		@ args = 0, pretend = 0, frame = 0
 2534              		@ frame_needed = 0, uses_anonymous_args = 0
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2535              		.loc 1 294 1 is_stmt 0 view .LVU784
 2536 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2537              	.LCFI12:
 2538              		.cfi_def_cfa_offset 24
 2539              		.cfi_offset 3, -24
 2540              		.cfi_offset 4, -20
 2541              		.cfi_offset 5, -16
 2542              		.cfi_offset 6, -12
 2543              		.cfi_offset 7, -8
 2544              		.cfi_offset 14, -4
 2545 0002 0446     		mov	r4, r0
 2546 0004 1546     		mov	r5, r2
 2547 0006 1E46     		mov	r6, r3
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 2548              		.loc 1 295 3 is_stmt 1 view .LVU785
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
 2549              		.loc 1 296 3 view .LVU786
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2550              		.loc 1 297 3 view .LVU787
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 2551              		.loc 1 299 3 view .LVU788
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2552              		.loc 1 300 3 view .LVU789
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2553              		.loc 1 300 3 view .LVU790
 2554 0008 0F46     		mov	r7, r1
 2555 000a 21B3     		cbz	r1, .L234
 2556              	.LVL239:
 2557              	.L222:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2558              		.loc 1 300 3 discriminator 3 view .LVU791
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2559              		.loc 1 300 3 discriminator 3 view .LVU792
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2560              		.loc 1 301 3 discriminator 3 view .LVU793
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2561              		.loc 1 301 3 discriminator 3 view .LVU794
 2562 000c 5CB3     		cbz	r4, .L235
 2563              	.L223:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2564              		.loc 1 301 3 discriminator 3 view .LVU795
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2565              		.loc 1 301 3 discriminator 3 view .LVU796
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2566              		.loc 1 302 3 discriminator 3 view .LVU797
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2567              		.loc 1 302 3 discriminator 3 view .LVU798
 2568 000e 002E     		cmp	r6, #0
 2569 0010 31D1     		bne	.L236
ARM GAS  /tmp/ccwuqUhA.s 			page 89


 2570              	.L224:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2571              		.loc 1 302 3 discriminator 3 view .LVU799
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2572              		.loc 1 302 3 discriminator 3 view .LVU800
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2573              		.loc 1 303 3 discriminator 3 view .LVU801
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2574              		.loc 1 304 3 discriminator 3 view .LVU802
 2575              	.LVL240:
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2576              		.loc 1 306 3 discriminator 3 view .LVU803
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2577              		.loc 1 306 6 is_stmt 0 discriminator 3 view .LVU804
 2578 0012 002C     		cmp	r4, #0
 2579 0014 44D0     		beq	.L230
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2580              		.loc 1 309 3 is_stmt 1 view .LVU805
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2581              		.loc 1 309 3 view .LVU806
 2582 0016 6368     		ldr	r3, [r4, #4]
 2583 0018 BB42     		cmp	r3, r7
 2584 001a 06D0     		beq	.L226
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2585              		.loc 1 309 3 discriminator 1 view .LVU807
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2586              		.loc 1 309 3 discriminator 1 view .LVU808
 2587 001c 234B     		ldr	r3, .L238
 2588 001e 40F23512 		movw	r2, #309
 2589 0022 2349     		ldr	r1, .L238+4
 2590 0024 2348     		ldr	r0, .L238+8
 2591 0026 FFF7FEFF 		bl	printf
 2592              	.LVL241:
 2593              	.L226:
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2594              		.loc 1 309 3 discriminator 3 view .LVU809
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2595              		.loc 1 309 3 discriminator 3 view .LVU810
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2596              		.loc 1 311 3 discriminator 3 view .LVU811
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2597              		.loc 1 311 8 is_stmt 0 discriminator 3 view .LVU812
 2598 002a 04F11006 		add	r6, r4, #16
 2599 002e 3046     		mov	r0, r6
 2600 0030 FFF7FEFF 		bl	sys_mbox_valid
 2601              	.LVL242:
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2602              		.loc 1 311 6 discriminator 3 view .LVU813
 2603 0034 38B3     		cbz	r0, .L237
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 2604              		.loc 1 323 3 is_stmt 1 view .LVU814
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 2605              		.loc 1 323 6 is_stmt 0 view .LVU815
 2606 0036 85B3     		cbz	r5, .L231
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2607              		.loc 1 324 5 is_stmt 1 view .LVU816
 2608              	.LVL243:
ARM GAS  /tmp/ccwuqUhA.s 			page 90


 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2609              		.loc 1 325 5 view .LVU817
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2610              		.loc 1 325 9 is_stmt 0 view .LVU818
 2611 0038 2F89     		ldrh	r7, [r5, #8]
 2612              	.LVL244:
 2613              	.L229:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2614              		.loc 1 331 3 is_stmt 1 view .LVU819
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2615              		.loc 1 331 7 is_stmt 0 view .LVU820
 2616 003a 2946     		mov	r1, r5
 2617 003c 3046     		mov	r0, r6
 2618 003e FFF7FEFF 		bl	sys_mbox_trypost
 2619              	.LVL245:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2620              		.loc 1 331 6 view .LVU821
 2621 0042 0546     		mov	r5, r0
 2622              	.LVL246:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2623              		.loc 1 331 6 view .LVU822
 2624 0044 78BB     		cbnz	r0, .L232
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2625              		.loc 1 339 5 is_stmt 1 view .LVU823
 2626 0046 636A     		ldr	r3, [r4, #36]
 2627 0048 1BB1     		cbz	r3, .L225
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2628              		.loc 1 339 5 discriminator 1 view .LVU824
 2629 004a 3A46     		mov	r2, r7
 2630 004c 0021     		movs	r1, #0
 2631 004e 2046     		mov	r0, r4
 2632 0050 9847     		blx	r3
 2633              	.LVL247:
 2634              	.L225:
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2635              		.loc 1 343 1 is_stmt 0 view .LVU825
 2636 0052 2846     		mov	r0, r5
 2637 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2638              	.LVL248:
 2639              	.L234:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2640              		.loc 1 300 3 is_stmt 1 discriminator 1 view .LVU826
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2641              		.loc 1 300 3 discriminator 1 view .LVU827
 2642 0056 154B     		ldr	r3, .L238
 2643              	.LVL249:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2644              		.loc 1 300 3 is_stmt 0 discriminator 1 view .LVU828
 2645 0058 4FF49672 		mov	r2, #300
 2646              	.LVL250:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2647              		.loc 1 300 3 discriminator 1 view .LVU829
 2648 005c 1649     		ldr	r1, .L238+12
 2649              	.LVL251:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2650              		.loc 1 300 3 discriminator 1 view .LVU830
 2651 005e 1548     		ldr	r0, .L238+8
ARM GAS  /tmp/ccwuqUhA.s 			page 91


 2652              	.LVL252:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2653              		.loc 1 300 3 discriminator 1 view .LVU831
 2654 0060 FFF7FEFF 		bl	printf
 2655              	.LVL253:
 2656 0064 D2E7     		b	.L222
 2657              	.L235:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2658              		.loc 1 301 3 is_stmt 1 discriminator 1 view .LVU832
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2659              		.loc 1 301 3 discriminator 1 view .LVU833
 2660 0066 114B     		ldr	r3, .L238
 2661 0068 40F22D12 		movw	r2, #301
 2662 006c 1349     		ldr	r1, .L238+16
 2663 006e 1148     		ldr	r0, .L238+8
 2664 0070 FFF7FEFF 		bl	printf
 2665              	.LVL254:
 2666 0074 CBE7     		b	.L223
 2667              	.L236:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2668              		.loc 1 302 3 discriminator 1 view .LVU834
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2669              		.loc 1 302 3 discriminator 1 view .LVU835
 2670 0076 0D4B     		ldr	r3, .L238
 2671 0078 4FF49772 		mov	r2, #302
 2672 007c 1049     		ldr	r1, .L238+20
 2673 007e 0D48     		ldr	r0, .L238+8
 2674 0080 FFF7FEFF 		bl	printf
 2675              	.LVL255:
 2676 0084 C5E7     		b	.L224
 2677              	.LVL256:
 2678              	.L237:
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2679              		.loc 1 313 5 view .LVU836
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2680              		.loc 1 313 8 is_stmt 0 view .LVU837
 2681 0086 35B1     		cbz	r5, .L228
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 2682              		.loc 1 314 7 is_stmt 1 view .LVU838
 2683 0088 2989     		ldrh	r1, [r5, #8]
 2684 008a 3846     		mov	r0, r7
 2685 008c FFF7FEFF 		bl	tcp_recved
 2686              	.LVL257:
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2687              		.loc 1 315 7 view .LVU839
 2688 0090 2846     		mov	r0, r5
 2689 0092 FFF7FEFF 		bl	pbuf_free
 2690              	.LVL258:
 2691              	.L228:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2692              		.loc 1 317 5 view .LVU840
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2693              		.loc 1 317 12 is_stmt 0 view .LVU841
 2694 0096 0025     		movs	r5, #0
 2695              	.LVL259:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2696              		.loc 1 317 12 view .LVU842
ARM GAS  /tmp/ccwuqUhA.s 			page 92


 2697 0098 DBE7     		b	.L225
 2698              	.LVL260:
 2699              	.L231:
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 2700              		.loc 1 327 9 view .LVU843
 2701 009a 0A4D     		ldr	r5, .L238+24
 2702              	.LVL261:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2703              		.loc 1 328 9 view .LVU844
 2704 009c 0027     		movs	r7, #0
 2705              	.LVL262:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2706              		.loc 1 328 9 view .LVU845
 2707 009e CCE7     		b	.L229
 2708              	.LVL263:
 2709              	.L230:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2710              		.loc 1 307 12 view .LVU846
 2711 00a0 6FF00505 		mvn	r5, #5
 2712              	.LVL264:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2713              		.loc 1 307 12 view .LVU847
 2714 00a4 D5E7     		b	.L225
 2715              	.LVL265:
 2716              	.L232:
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2717              		.loc 1 333 12 view .LVU848
 2718 00a6 4FF0FF35 		mov	r5, #-1
 2719 00aa D2E7     		b	.L225
 2720              	.L239:
 2721              		.align	2
 2722              	.L238:
 2723 00ac 00000000 		.word	.LC0
 2724 00b0 5C000000 		.word	.LC27
 2725 00b4 40000000 		.word	.LC2
 2726 00b8 00000000 		.word	.LC24
 2727 00bc 24000000 		.word	.LC25
 2728 00c0 44000000 		.word	.LC26
 2729 00c4 00000000 		.word	.LANCHOR1
 2730              		.cfi_endproc
 2731              	.LFE162:
 2733              		.section	.rodata.lwip_netconn_is_err_msg.str1.4,"aMS",%progbits,1
 2734              		.align	2
 2735              	.LC28:
 2736 0000 65727220 		.ascii	"err != NULL\000"
 2736      213D204E 
 2736      554C4C00 
 2737              		.section	.text.lwip_netconn_is_err_msg,"ax",%progbits
 2738              		.align	1
 2739              		.global	lwip_netconn_is_err_msg
 2740              		.syntax unified
 2741              		.thumb
 2742              		.thumb_func
 2743              		.fpu fpv4-sp-d16
 2745              	lwip_netconn_is_err_msg:
 2746              	.LVL266:
 2747              	.LFB160:
ARM GAS  /tmp/ccwuqUhA.s 			page 93


 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2748              		.loc 1 132 1 is_stmt 1 view -0
 2749              		.cfi_startproc
 2750              		@ args = 0, pretend = 0, frame = 0
 2751              		@ frame_needed = 0, uses_anonymous_args = 0
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2752              		.loc 1 132 1 is_stmt 0 view .LVU850
 2753 0000 38B5     		push	{r3, r4, r5, lr}
 2754              	.LCFI13:
 2755              		.cfi_def_cfa_offset 16
 2756              		.cfi_offset 3, -16
 2757              		.cfi_offset 4, -12
 2758              		.cfi_offset 5, -8
 2759              		.cfi_offset 14, -4
 2760 0002 0446     		mov	r4, r0
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2761              		.loc 1 133 3 is_stmt 1 view .LVU851
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2762              		.loc 1 133 3 view .LVU852
 2763 0004 0D46     		mov	r5, r1
 2764 0006 51B1     		cbz	r1, .L247
 2765              	.LVL267:
 2766              	.L241:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2767              		.loc 1 133 3 discriminator 3 view .LVU853
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2768              		.loc 1 133 3 discriminator 3 view .LVU854
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2769              		.loc 1 135 3 discriminator 3 view .LVU855
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2770              		.loc 1 135 6 is_stmt 0 discriminator 3 view .LVU856
 2771 0008 0E4B     		ldr	r3, .L251
 2772 000a 9C42     		cmp	r4, r3
 2773 000c 0ED0     		beq	.L248
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2774              		.loc 1 138 10 is_stmt 1 view .LVU857
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2775              		.loc 1 138 13 is_stmt 0 view .LVU858
 2776 000e 0E4B     		ldr	r3, .L251+4
 2777 0010 9C42     		cmp	r4, r3
 2778 0012 0FD0     		beq	.L249
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2779              		.loc 1 141 10 is_stmt 1 view .LVU859
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2780              		.loc 1 141 13 is_stmt 0 view .LVU860
 2781 0014 0D4B     		ldr	r3, .L251+8
 2782 0016 9C42     		cmp	r4, r3
 2783 0018 10D0     		beq	.L250
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2784              		.loc 1 145 10 view .LVU861
 2785 001a 0020     		movs	r0, #0
 2786              	.L240:
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2787              		.loc 1 146 1 view .LVU862
 2788 001c 38BD     		pop	{r3, r4, r5, pc}
 2789              	.LVL268:
 2790              	.L247:
ARM GAS  /tmp/ccwuqUhA.s 			page 94


 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2791              		.loc 1 133 3 is_stmt 1 discriminator 1 view .LVU863
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2792              		.loc 1 133 3 discriminator 1 view .LVU864
 2793 001e 0C4B     		ldr	r3, .L251+12
 2794 0020 8522     		movs	r2, #133
 2795 0022 0C49     		ldr	r1, .L251+16
 2796              	.LVL269:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2797              		.loc 1 133 3 is_stmt 0 discriminator 1 view .LVU865
 2798 0024 0C48     		ldr	r0, .L251+20
 2799              	.LVL270:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2800              		.loc 1 133 3 discriminator 1 view .LVU866
 2801 0026 FFF7FEFF 		bl	printf
 2802              	.LVL271:
 2803 002a EDE7     		b	.L241
 2804              	.L248:
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2805              		.loc 1 136 5 is_stmt 1 view .LVU867
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2806              		.loc 1 136 10 is_stmt 0 view .LVU868
 2807 002c F323     		movs	r3, #243
 2808 002e 2B70     		strb	r3, [r5]
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2809              		.loc 1 137 5 is_stmt 1 view .LVU869
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2810              		.loc 1 137 12 is_stmt 0 view .LVU870
 2811 0030 0120     		movs	r0, #1
 2812 0032 F3E7     		b	.L240
 2813              	.L249:
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2814              		.loc 1 139 5 is_stmt 1 view .LVU871
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2815              		.loc 1 139 10 is_stmt 0 view .LVU872
 2816 0034 F223     		movs	r3, #242
 2817 0036 2B70     		strb	r3, [r5]
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2818              		.loc 1 140 5 is_stmt 1 view .LVU873
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2819              		.loc 1 140 12 is_stmt 0 view .LVU874
 2820 0038 0120     		movs	r0, #1
 2821 003a EFE7     		b	.L240
 2822              	.L250:
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2823              		.loc 1 142 5 is_stmt 1 view .LVU875
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2824              		.loc 1 142 10 is_stmt 0 view .LVU876
 2825 003c F123     		movs	r3, #241
 2826 003e 2B70     		strb	r3, [r5]
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2827              		.loc 1 143 5 is_stmt 1 view .LVU877
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2828              		.loc 1 143 12 is_stmt 0 view .LVU878
 2829 0040 0120     		movs	r0, #1
 2830 0042 EBE7     		b	.L240
 2831              	.L252:
ARM GAS  /tmp/ccwuqUhA.s 			page 95


 2832              		.align	2
 2833              	.L251:
 2834 0044 00000000 		.word	.LANCHOR2
 2835 0048 00000000 		.word	.LANCHOR0
 2836 004c 00000000 		.word	.LANCHOR1
 2837 0050 00000000 		.word	.LC0
 2838 0054 00000000 		.word	.LC28
 2839 0058 40000000 		.word	.LC2
 2840              		.cfi_endproc
 2841              	.LFE160:
 2843              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2844              		.align	1
 2845              		.global	lwip_netconn_do_newconn
 2846              		.syntax unified
 2847              		.thumb
 2848              		.thumb_func
 2849              		.fpu fpv4-sp-d16
 2851              	lwip_netconn_do_newconn:
 2852              	.LVL272:
 2853              	.LFB169:
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2854              		.loc 1 681 1 is_stmt 1 view -0
 2855              		.cfi_startproc
 2856              		@ args = 0, pretend = 0, frame = 0
 2857              		@ frame_needed = 0, uses_anonymous_args = 0
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2858              		.loc 1 681 1 is_stmt 0 view .LVU880
 2859 0000 08B5     		push	{r3, lr}
 2860              	.LCFI14:
 2861              		.cfi_def_cfa_offset 8
 2862              		.cfi_offset 3, -8
 2863              		.cfi_offset 14, -4
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2864              		.loc 1 682 3 is_stmt 1 view .LVU881
 2865              	.LVL273:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2866              		.loc 1 684 3 view .LVU882
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2867              		.loc 1 684 12 is_stmt 0 view .LVU883
 2868 0002 0023     		movs	r3, #0
 2869 0004 0371     		strb	r3, [r0, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2870              		.loc 1 685 3 is_stmt 1 view .LVU884
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2871              		.loc 1 685 10 is_stmt 0 view .LVU885
 2872 0006 0368     		ldr	r3, [r0]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2873              		.loc 1 685 21 view .LVU886
 2874 0008 5B68     		ldr	r3, [r3, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2875              		.loc 1 685 6 view .LVU887
 2876 000a 03B1     		cbz	r3, .L256
 2877              	.LVL274:
 2878              	.L253:
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2879              		.loc 1 693 1 view .LVU888
 2880 000c 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccwuqUhA.s 			page 96


 2881              	.LVL275:
 2882              	.L256:
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2883              		.loc 1 686 5 is_stmt 1 view .LVU889
 2884 000e FFF7FEFF 		bl	pcb_new
 2885              	.LVL276:
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2886              		.loc 1 692 24 view .LVU890
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2887              		.loc 1 693 1 is_stmt 0 view .LVU891
 2888 0012 FBE7     		b	.L253
 2889              		.cfi_endproc
 2890              	.LFE169:
 2892              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 2893              		.align	2
 2894              	.LC29:
 2895 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 2895      6F6E6E5F 
 2895      616C6C6F 
 2895      633A2075 
 2895      6E646566 
 2896              		.section	.text.netconn_alloc,"ax",%progbits
 2897              		.align	1
 2898              		.global	netconn_alloc
 2899              		.syntax unified
 2900              		.thumb
 2901              		.thumb_func
 2902              		.fpu fpv4-sp-d16
 2904              	netconn_alloc:
 2905              	.LVL277:
 2906              	.LFB170:
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2907              		.loc 1 706 1 is_stmt 1 view -0
 2908              		.cfi_startproc
 2909              		@ args = 0, pretend = 0, frame = 0
 2910              		@ frame_needed = 0, uses_anonymous_args = 0
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2911              		.loc 1 706 1 is_stmt 0 view .LVU893
 2912 0000 70B5     		push	{r4, r5, r6, lr}
 2913              	.LCFI15:
 2914              		.cfi_def_cfa_offset 16
 2915              		.cfi_offset 4, -16
 2916              		.cfi_offset 5, -12
 2917              		.cfi_offset 6, -8
 2918              		.cfi_offset 14, -4
 2919 0002 0546     		mov	r5, r0
 2920 0004 0E46     		mov	r6, r1
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 2921              		.loc 1 707 3 is_stmt 1 view .LVU894
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 2922              		.loc 1 708 3 view .LVU895
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2923              		.loc 1 709 3 view .LVU896
 2924              	.LVL278:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2925              		.loc 1 711 3 view .LVU897
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
ARM GAS  /tmp/ccwuqUhA.s 			page 97


 2926              		.loc 1 711 28 is_stmt 0 view .LVU898
 2927 0006 0720     		movs	r0, #7
 2928              	.LVL279:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2929              		.loc 1 711 28 view .LVU899
 2930 0008 FFF7FEFF 		bl	memp_malloc
 2931              	.LVL280:
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2932              		.loc 1 712 3 is_stmt 1 view .LVU900
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2933              		.loc 1 712 6 is_stmt 0 view .LVU901
 2934 000c 0446     		mov	r4, r0
 2935 000e 78B3     		cbz	r0, .L257
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2936              		.loc 1 716 3 is_stmt 1 view .LVU902
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2937              		.loc 1 716 21 is_stmt 0 view .LVU903
 2938 0010 0023     		movs	r3, #0
 2939 0012 0372     		strb	r3, [r0, #8]
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2940              		.loc 1 717 3 is_stmt 1 view .LVU904
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2941              		.loc 1 717 14 is_stmt 0 view .LVU905
 2942 0014 0570     		strb	r5, [r0]
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2943              		.loc 1 718 3 is_stmt 1 view .LVU906
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2944              		.loc 1 718 17 is_stmt 0 view .LVU907
 2945 0016 4360     		str	r3, [r0, #4]
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2946              		.loc 1 721 3 is_stmt 1 view .LVU908
 2947 0018 05F0F005 		and	r5, r5, #240
 2948 001c 102D     		cmp	r5, #16
 2949 001e 01D0     		beq	.L259
 2950 0020 202D     		cmp	r5, #32
 2951 0022 19D1     		bne	.L263
 2952              	.L259:
 2953              	.LVL281:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2954              		.loc 1 745 3 view .LVU909
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2955              		.loc 1 745 7 is_stmt 0 view .LVU910
 2956 0024 04F11005 		add	r5, r4, #16
 2957 0028 0621     		movs	r1, #6
 2958 002a 2846     		mov	r0, r5
 2959              	.LVL282:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2960              		.loc 1 745 7 view .LVU911
 2961 002c FFF7FEFF 		bl	sys_mbox_new
 2962              	.LVL283:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2963              		.loc 1 745 6 view .LVU912
 2964 0030 C8B9     		cbnz	r0, .L260
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2965              		.loc 1 749 3 is_stmt 1 view .LVU913
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2966              		.loc 1 749 7 is_stmt 0 view .LVU914
ARM GAS  /tmp/ccwuqUhA.s 			page 98


 2967 0032 0021     		movs	r1, #0
 2968 0034 04F10C00 		add	r0, r4, #12
 2969 0038 FFF7FEFF 		bl	sys_sem_new
 2970              	.LVL284:
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2971              		.loc 1 749 6 view .LVU915
 2972 003c D0B9     		cbnz	r0, .L264
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2973              		.loc 1 756 3 is_stmt 1 view .LVU916
 2974 003e 04F11400 		add	r0, r4, #20
 2975 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2976              	.LVL285:
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2977              		.loc 1 758 3 view .LVU917
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2978              		.loc 1 758 22 is_stmt 0 view .LVU918
 2979 0046 0023     		movs	r3, #0
 2980 0048 6370     		strb	r3, [r4, #1]
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2981              		.loc 1 761 3 is_stmt 1 view .LVU919
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2982              		.loc 1 761 22 is_stmt 0 view .LVU920
 2983 004a 4FF0FF32 		mov	r2, #-1
 2984 004e A261     		str	r2, [r4, #24]
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2985              		.loc 1 763 3 is_stmt 1 view .LVU921
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2986              		.loc 1 763 22 is_stmt 0 view .LVU922
 2987 0050 6662     		str	r6, [r4, #36]
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2988              		.loc 1 765 3 is_stmt 1 view .LVU923
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2989              		.loc 1 765 22 is_stmt 0 view .LVU924
 2990 0052 2362     		str	r3, [r4, #32]
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2991              		.loc 1 780 3 is_stmt 1 view .LVU925
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2992              		.loc 1 780 15 is_stmt 0 view .LVU926
 2993 0054 2377     		strb	r3, [r4, #28]
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2994              		.loc 1 781 3 is_stmt 1 view .LVU927
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2995              		.loc 1 781 10 is_stmt 0 view .LVU928
 2996 0056 0BE0     		b	.L257
 2997              	.LVL286:
 2998              	.L263:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 2999              		.loc 1 741 7 is_stmt 1 discriminator 1 view .LVU929
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3000              		.loc 1 741 7 discriminator 1 view .LVU930
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3001              		.loc 1 741 7 discriminator 1 view .LVU931
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3002              		.loc 1 741 7 discriminator 1 view .LVU932
 3003 0058 084B     		ldr	r3, .L265
 3004 005a 40F2E522 		movw	r2, #741
 3005 005e 0849     		ldr	r1, .L265+4
ARM GAS  /tmp/ccwuqUhA.s 			page 99


 3006 0060 0848     		ldr	r0, .L265+8
 3007              	.LVL287:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3008              		.loc 1 741 7 is_stmt 0 discriminator 1 view .LVU933
 3009 0062 FFF7FEFF 		bl	printf
 3010              	.LVL288:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3011              		.loc 1 741 7 is_stmt 1 discriminator 1 view .LVU934
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3012              		.loc 1 741 7 discriminator 1 view .LVU935
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3013              		.loc 1 742 7 discriminator 1 view .LVU936
 3014              	.L260:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 3015              		.loc 1 783 3 view .LVU937
 3016 0066 2146     		mov	r1, r4
 3017 0068 0720     		movs	r0, #7
 3018 006a FFF7FEFF 		bl	memp_free
 3019              	.LVL289:
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3020              		.loc 1 784 3 view .LVU938
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3021              		.loc 1 784 10 is_stmt 0 view .LVU939
 3022 006e 0024     		movs	r4, #0
 3023              	.LVL290:
 3024              	.L257:
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3025              		.loc 1 785 1 view .LVU940
 3026 0070 2046     		mov	r0, r4
 3027 0072 70BD     		pop	{r4, r5, r6, pc}
 3028              	.LVL291:
 3029              	.L264:
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 3030              		.loc 1 750 5 is_stmt 1 view .LVU941
 3031 0074 2846     		mov	r0, r5
 3032 0076 FFF7FEFF 		bl	sys_mbox_free
 3033              	.LVL292:
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3034              		.loc 1 751 5 view .LVU942
 3035 007a F4E7     		b	.L260
 3036              	.L266:
 3037              		.align	2
 3038              	.L265:
 3039 007c 00000000 		.word	.LC0
 3040 0080 00000000 		.word	.LC29
 3041 0084 40000000 		.word	.LC2
 3042              		.cfi_endproc
 3043              	.LFE170:
 3045              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 3046              		.align	2
 3047              	.LC30:
 3048 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 3048      6D757374 
 3048      20626520 
 3048      6465616C 
 3048      6C6F6361 
 3049 002e 0000     		.align	2
ARM GAS  /tmp/ccwuqUhA.s 			page 100


 3050              	.LC31:
 3051 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 3051      6D626F78 
 3051      206D7573 
 3051      74206265 
 3051      20646561 
 3052 0063 6E637469 		.ascii	"nction\000"
 3052      6F6E00
 3053 006a 0000     		.align	2
 3054              	.LC32:
 3055 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 3055      70746D62 
 3055      6F78206D 
 3055      75737420 
 3055      62652064 
 3056 009f 66756E63 		.ascii	"function\000"
 3056      74696F6E 
 3056      00
 3057              		.section	.text.netconn_free,"ax",%progbits
 3058              		.align	1
 3059              		.global	netconn_free
 3060              		.syntax unified
 3061              		.thumb
 3062              		.thumb_func
 3063              		.fpu fpv4-sp-d16
 3065              	netconn_free:
 3066              	.LVL293:
 3067              	.LFB171:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3068              		.loc 1 795 1 view -0
 3069              		.cfi_startproc
 3070              		@ args = 0, pretend = 0, frame = 0
 3071              		@ frame_needed = 0, uses_anonymous_args = 0
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3072              		.loc 1 795 1 is_stmt 0 view .LVU944
 3073 0000 38B5     		push	{r3, r4, r5, lr}
 3074              	.LCFI16:
 3075              		.cfi_def_cfa_offset 16
 3076              		.cfi_offset 3, -16
 3077              		.cfi_offset 4, -12
 3078              		.cfi_offset 5, -8
 3079              		.cfi_offset 14, -4
 3080 0002 0446     		mov	r4, r0
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3081              		.loc 1 796 3 is_stmt 1 view .LVU945
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3082              		.loc 1 796 3 view .LVU946
 3083 0004 4368     		ldr	r3, [r0, #4]
 3084 0006 33B1     		cbz	r3, .L268
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3085              		.loc 1 796 3 discriminator 1 view .LVU947
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3086              		.loc 1 796 3 discriminator 1 view .LVU948
 3087 0008 164B     		ldr	r3, .L274
 3088 000a 4FF44772 		mov	r2, #796
 3089 000e 1649     		ldr	r1, .L274+4
 3090 0010 1648     		ldr	r0, .L274+8
ARM GAS  /tmp/ccwuqUhA.s 			page 101


 3091              	.LVL294:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3092              		.loc 1 796 3 is_stmt 0 discriminator 1 view .LVU949
 3093 0012 FFF7FEFF 		bl	printf
 3094              	.LVL295:
 3095              	.L268:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3096              		.loc 1 796 3 is_stmt 1 discriminator 3 view .LVU950
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3097              		.loc 1 796 3 discriminator 3 view .LVU951
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3098              		.loc 1 803 3 discriminator 3 view .LVU952
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3099              		.loc 1 803 3 discriminator 3 view .LVU953
 3100 0016 04F11000 		add	r0, r4, #16
 3101 001a FFF7FEFF 		bl	sys_mbox_valid
 3102              	.LVL296:
 3103 001e 88B9     		cbnz	r0, .L272
 3104              	.L269:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3105              		.loc 1 803 3 discriminator 3 view .LVU954
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3106              		.loc 1 803 3 discriminator 3 view .LVU955
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3107              		.loc 1 806 3 discriminator 3 view .LVU956
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3108              		.loc 1 806 3 discriminator 3 view .LVU957
 3109 0020 04F11400 		add	r0, r4, #20
 3110 0024 FFF7FEFF 		bl	sys_mbox_valid
 3111              	.LVL297:
 3112 0028 A0B9     		cbnz	r0, .L273
 3113              	.L270:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3114              		.loc 1 806 3 discriminator 3 view .LVU958
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3115              		.loc 1 806 3 discriminator 3 view .LVU959
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 3116              		.loc 1 811 3 discriminator 3 view .LVU960
 3117 002a 04F10C05 		add	r5, r4, #12
 3118 002e 2846     		mov	r0, r5
 3119 0030 FFF7FEFF 		bl	sys_sem_free
 3120              	.LVL298:
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 3121              		.loc 1 812 3 discriminator 3 view .LVU961
 3122 0034 2846     		mov	r0, r5
 3123 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 3124              	.LVL299:
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3125              		.loc 1 815 3 discriminator 3 view .LVU962
 3126 003a 2146     		mov	r1, r4
 3127 003c 0720     		movs	r0, #7
 3128 003e FFF7FEFF 		bl	memp_free
 3129              	.LVL300:
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3130              		.loc 1 816 1 is_stmt 0 discriminator 3 view .LVU963
 3131 0042 38BD     		pop	{r3, r4, r5, pc}
 3132              	.LVL301:
ARM GAS  /tmp/ccwuqUhA.s 			page 102


 3133              	.L272:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3134              		.loc 1 803 3 is_stmt 1 discriminator 1 view .LVU964
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3135              		.loc 1 803 3 discriminator 1 view .LVU965
 3136 0044 074B     		ldr	r3, .L274
 3137 0046 40F22332 		movw	r2, #803
 3138 004a 0949     		ldr	r1, .L274+12
 3139 004c 0748     		ldr	r0, .L274+8
 3140 004e FFF7FEFF 		bl	printf
 3141              	.LVL302:
 3142 0052 E5E7     		b	.L269
 3143              	.L273:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3144              		.loc 1 806 3 discriminator 1 view .LVU966
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3145              		.loc 1 806 3 discriminator 1 view .LVU967
 3146 0054 034B     		ldr	r3, .L274
 3147 0056 40F22632 		movw	r2, #806
 3148 005a 0649     		ldr	r1, .L274+16
 3149 005c 0348     		ldr	r0, .L274+8
 3150 005e FFF7FEFF 		bl	printf
 3151              	.LVL303:
 3152 0062 E2E7     		b	.L270
 3153              	.L275:
 3154              		.align	2
 3155              	.L274:
 3156 0064 00000000 		.word	.LC0
 3157 0068 00000000 		.word	.LC30
 3158 006c 40000000 		.word	.LC2
 3159 0070 30000000 		.word	.LC31
 3160 0074 6C000000 		.word	.LC32
 3161              		.cfi_endproc
 3162              	.LFE171:
 3164              		.section	.text.netconn_drain,"ax",%progbits
 3165              		.align	1
 3166              		.syntax unified
 3167              		.thumb
 3168              		.thumb_func
 3169              		.fpu fpv4-sp-d16
 3171              	netconn_drain:
 3172              	.LVL304:
 3173              	.LFB172:
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3174              		.loc 1 828 1 view -0
 3175              		.cfi_startproc
 3176              		@ args = 0, pretend = 0, frame = 8
 3177              		@ frame_needed = 0, uses_anonymous_args = 0
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3178              		.loc 1 828 1 is_stmt 0 view .LVU969
 3179 0000 30B5     		push	{r4, r5, lr}
 3180              	.LCFI17:
 3181              		.cfi_def_cfa_offset 12
 3182              		.cfi_offset 4, -12
 3183              		.cfi_offset 5, -8
 3184              		.cfi_offset 14, -4
 3185 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/ccwuqUhA.s 			page 103


 3186              	.LCFI18:
 3187              		.cfi_def_cfa_offset 24
 3188 0004 0446     		mov	r4, r0
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3189              		.loc 1 829 3 is_stmt 1 view .LVU970
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3190              		.loc 1 838 3 view .LVU971
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3191              		.loc 1 838 7 is_stmt 0 view .LVU972
 3192 0006 00F11005 		add	r5, r0, #16
 3193 000a 2846     		mov	r0, r5
 3194              	.LVL305:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3195              		.loc 1 838 7 view .LVU973
 3196 000c FFF7FEFF 		bl	sys_mbox_valid
 3197              	.LVL306:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3198              		.loc 1 838 6 view .LVU974
 3199 0010 48B9     		cbnz	r0, .L277
 3200              	.L278:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3201              		.loc 1 863 3 is_stmt 1 view .LVU975
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3202              		.loc 1 863 7 is_stmt 0 view .LVU976
 3203 0012 1434     		adds	r4, r4, #20
 3204              	.LVL307:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3205              		.loc 1 863 7 view .LVU977
 3206 0014 2046     		mov	r0, r4
 3207 0016 FFF7FEFF 		bl	sys_mbox_valid
 3208              	.LVL308:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3209              		.loc 1 863 6 view .LVU978
 3210 001a 28BB     		cbnz	r0, .L283
 3211              	.L276:
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3212              		.loc 1 888 1 view .LVU979
 3213 001c 03B0     		add	sp, sp, #12
 3214              	.LCFI19:
 3215              		.cfi_remember_state
 3216              		.cfi_def_cfa_offset 12
 3217              		@ sp needed
 3218 001e 30BD     		pop	{r4, r5, pc}
 3219              	.LVL309:
 3220              	.L279:
 3221              	.LCFI20:
 3222              		.cfi_restore_state
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3223              		.loc 1 853 11 is_stmt 1 view .LVU980
 3224 0020 0198     		ldr	r0, [sp, #4]
 3225 0022 FFF7FEFF 		bl	netbuf_delete
 3226              	.LVL310:
 3227              	.L277:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3228              		.loc 1 839 11 view .LVU981
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3229              		.loc 1 839 12 is_stmt 0 view .LVU982
ARM GAS  /tmp/ccwuqUhA.s 			page 104


 3230 0026 01A9     		add	r1, sp, #4
 3231 0028 2846     		mov	r0, r5
 3232 002a FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3233              	.LVL311:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3234              		.loc 1 839 11 view .LVU983
 3235 002e B0F1FF3F 		cmp	r0, #-1
 3236 0032 0FD0     		beq	.L289
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3237              		.loc 1 845 9 is_stmt 1 view .LVU984
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3238              		.loc 1 845 13 is_stmt 0 view .LVU985
 3239 0034 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3240              		.loc 1 845 12 view .LVU986
 3241 0036 03F0F003 		and	r3, r3, #240
 3242 003a 102B     		cmp	r3, #16
 3243 003c F0D1     		bne	.L279
 3244              	.LBB15:
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 3245              		.loc 1 846 11 is_stmt 1 view .LVU987
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3246              		.loc 1 847 11 view .LVU988
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3247              		.loc 1 847 16 is_stmt 0 view .LVU989
 3248 003e 0DF10301 		add	r1, sp, #3
 3249 0042 0198     		ldr	r0, [sp, #4]
 3250 0044 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3251              	.LVL312:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3252              		.loc 1 847 14 view .LVU990
 3253 0048 0028     		cmp	r0, #0
 3254 004a ECD1     		bne	.L277
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3255              		.loc 1 848 13 is_stmt 1 view .LVU991
 3256 004c 0198     		ldr	r0, [sp, #4]
 3257 004e FFF7FEFF 		bl	pbuf_free
 3258              	.LVL313:
 3259 0052 E8E7     		b	.L277
 3260              	.L289:
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3261              		.loc 1 848 13 is_stmt 0 view .LVU992
 3262              	.LBE15:
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 3263              		.loc 1 857 5 is_stmt 1 view .LVU993
 3264 0054 2846     		mov	r0, r5
 3265 0056 FFF7FEFF 		bl	sys_mbox_free
 3266              	.LVL314:
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3267              		.loc 1 858 5 view .LVU994
 3268 005a 2846     		mov	r0, r5
 3269 005c FFF7FEFF 		bl	sys_mbox_set_invalid
 3270              	.LVL315:
 3271 0060 D7E7     		b	.L278
 3272              	.LVL316:
 3273              	.L286:
 3274              	.LBB16:
ARM GAS  /tmp/ccwuqUhA.s 			page 105


 3275              	.LBB17:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3276              		.loc 1 880 11 view .LVU995
 3277 0062 2846     		mov	r0, r5
 3278 0064 FFF7FEFF 		bl	netconn_free
 3279              	.LVL317:
 3280              	.L283:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3281              		.loc 1 880 11 is_stmt 0 view .LVU996
 3282              	.LBE17:
 3283              	.LBE16:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3284              		.loc 1 864 11 is_stmt 1 view .LVU997
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3285              		.loc 1 864 12 is_stmt 0 view .LVU998
 3286 0068 01A9     		add	r1, sp, #4
 3287 006a 2046     		mov	r0, r4
 3288 006c FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3289              	.LVL318:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3290              		.loc 1 864 11 view .LVU999
 3291 0070 B0F1FF3F 		cmp	r0, #-1
 3292 0074 12D0     		beq	.L290
 3293              	.LBB19:
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 3294              		.loc 1 869 9 is_stmt 1 view .LVU1000
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3295              		.loc 1 870 9 view .LVU1001
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3296              		.loc 1 870 14 is_stmt 0 view .LVU1002
 3297 0076 0DF10301 		add	r1, sp, #3
 3298 007a 0198     		ldr	r0, [sp, #4]
 3299 007c FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3300              	.LVL319:
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3301              		.loc 1 870 12 view .LVU1003
 3302 0080 0028     		cmp	r0, #0
 3303 0082 F1D1     		bne	.L283
 3304              	.LBB18:
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3305              		.loc 1 871 11 is_stmt 1 view .LVU1004
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3306              		.loc 1 871 27 is_stmt 0 view .LVU1005
 3307 0084 019D     		ldr	r5, [sp, #4]
 3308              	.LVL320:
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 3309              		.loc 1 875 11 is_stmt 1 view .LVU1006
 3310 0086 2846     		mov	r0, r5
 3311 0088 FFF7BAFF 		bl	netconn_drain
 3312              	.LVL321:
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3313              		.loc 1 876 11 view .LVU1007
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3314              		.loc 1 876 27 is_stmt 0 view .LVU1008
 3315 008c 6868     		ldr	r0, [r5, #4]
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3316              		.loc 1 876 14 view .LVU1009
ARM GAS  /tmp/ccwuqUhA.s 			page 106


 3317 008e 0028     		cmp	r0, #0
 3318 0090 E7D0     		beq	.L286
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 3319              		.loc 1 877 13 is_stmt 1 view .LVU1010
 3320 0092 FFF7FEFF 		bl	tcp_abort
 3321              	.LVL322:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3322              		.loc 1 878 13 view .LVU1011
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3323              		.loc 1 878 30 is_stmt 0 view .LVU1012
 3324 0096 0023     		movs	r3, #0
 3325 0098 6B60     		str	r3, [r5, #4]
 3326 009a E2E7     		b	.L286
 3327              	.LVL323:
 3328              	.L290:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3329              		.loc 1 878 30 view .LVU1013
 3330              	.LBE18:
 3331              	.LBE19:
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 3332              		.loc 1 884 5 is_stmt 1 view .LVU1014
 3333 009c 2046     		mov	r0, r4
 3334 009e FFF7FEFF 		bl	sys_mbox_free
 3335              	.LVL324:
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3336              		.loc 1 885 5 view .LVU1015
 3337 00a2 2046     		mov	r0, r4
 3338 00a4 FFF7FEFF 		bl	sys_mbox_set_invalid
 3339              	.LVL325:
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3340              		.loc 1 888 1 is_stmt 0 view .LVU1016
 3341 00a8 B8E7     		b	.L276
 3342              		.cfi_endproc
 3343              	.LFE172:
 3345              		.section	.rodata.accept_function.str1.4,"aMS",%progbits,1
 3346              		.align	2
 3347              	.LC33:
 3348 0000 65787065 		.ascii	"expect newpcb == NULL or err == ERR_OK\000"
 3348      6374206E 
 3348      65777063 
 3348      62203D3D 
 3348      204E554C 
 3349              		.section	.text.accept_function,"ax",%progbits
 3350              		.align	1
 3351              		.syntax unified
 3352              		.thumb
 3353              		.thumb_func
 3354              		.fpu fpv4-sp-d16
 3356              	accept_function:
 3357              	.LVL326:
 3358              	.LFB167:
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3359              		.loc 1 534 1 is_stmt 1 view -0
 3360              		.cfi_startproc
 3361              		@ args = 0, pretend = 0, frame = 0
 3362              		@ frame_needed = 0, uses_anonymous_args = 0
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
ARM GAS  /tmp/ccwuqUhA.s 			page 107


 3363              		.loc 1 534 1 is_stmt 0 view .LVU1018
 3364 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3365              	.LCFI21:
 3366              		.cfi_def_cfa_offset 24
 3367              		.cfi_offset 3, -24
 3368              		.cfi_offset 4, -20
 3369              		.cfi_offset 5, -16
 3370              		.cfi_offset 6, -12
 3371              		.cfi_offset 7, -8
 3372              		.cfi_offset 14, -4
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 3373              		.loc 1 535 3 is_stmt 1 view .LVU1019
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3374              		.loc 1 536 3 view .LVU1020
 3375              	.LVL327:
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3376              		.loc 1 538 3 view .LVU1021
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3377              		.loc 1 538 6 is_stmt 0 view .LVU1022
 3378 0002 0028     		cmp	r0, #0
 3379 0004 74D0     		beq	.L299
 3380 0006 0D46     		mov	r5, r1
 3381 0008 1646     		mov	r6, r2
 3382 000a 0446     		mov	r4, r0
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3383              		.loc 1 541 3 is_stmt 1 view .LVU1023
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3384              		.loc 1 541 8 is_stmt 0 view .LVU1024
 3385 000c 00F11407 		add	r7, r0, #20
 3386 0010 3846     		mov	r0, r7
 3387              	.LVL328:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3388              		.loc 1 541 8 view .LVU1025
 3389 0012 FFF7FEFF 		bl	sys_mbox_valid
 3390              	.LVL329:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3391              		.loc 1 541 6 view .LVU1026
 3392 0016 0028     		cmp	r0, #0
 3393 0018 6DD0     		beq	.L300
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3394              		.loc 1 546 3 is_stmt 1 view .LVU1027
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3395              		.loc 1 546 6 is_stmt 0 view .LVU1028
 3396 001a BDB1     		cbz	r5, .L302
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3397              		.loc 1 554 3 is_stmt 1 view .LVU1029
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3398              		.loc 1 554 3 view .LVU1030
 3399 001c 46BB     		cbnz	r6, .L303
 3400              	.L295:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3401              		.loc 1 554 3 discriminator 3 view .LVU1031
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3402              		.loc 1 554 3 discriminator 3 view .LVU1032
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3403              		.loc 1 555 3 discriminator 3 view .LVU1033
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccwuqUhA.s 			page 108


 3404              		.loc 1 557 107 discriminator 3 view .LVU1034
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3405              		.loc 1 561 3 discriminator 3 view .LVU1035
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3406              		.loc 1 561 13 is_stmt 0 discriminator 3 view .LVU1036
 3407 001e 616A     		ldr	r1, [r4, #36]
 3408 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3409 0022 FFF7FEFF 		bl	netconn_alloc
 3410              	.LVL330:
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3411              		.loc 1 562 3 is_stmt 1 discriminator 3 view .LVU1037
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3412              		.loc 1 562 6 is_stmt 0 discriminator 3 view .LVU1038
 3413 0026 0646     		mov	r6, r0
 3414 0028 50B3     		cbz	r0, .L304
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3415              		.loc 1 570 3 is_stmt 1 view .LVU1039
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3416              		.loc 1 570 20 is_stmt 0 view .LVU1040
 3417 002a 4560     		str	r5, [r0, #4]
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3418              		.loc 1 571 3 is_stmt 1 view .LVU1041
 3419 002c FFF7FEFF 		bl	setup_tcp
 3420              	.LVL331:
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3421              		.loc 1 574 30 view .LVU1042
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3422              		.loc 1 576 3 view .LVU1043
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3423              		.loc 1 576 7 is_stmt 0 view .LVU1044
 3424 0030 3146     		mov	r1, r6
 3425 0032 3846     		mov	r0, r7
 3426 0034 FFF7FEFF 		bl	sys_mbox_trypost
 3427              	.LVL332:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3428              		.loc 1 576 6 view .LVU1045
 3429 0038 0546     		mov	r5, r0
 3430              	.LVL333:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3431              		.loc 1 576 6 view .LVU1046
 3432 003a 98BB     		cbnz	r0, .L305
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3433              		.loc 1 595 5 is_stmt 1 view .LVU1047
 3434 003c 636A     		ldr	r3, [r4, #36]
 3435 003e 1BB1     		cbz	r3, .L292
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3436              		.loc 1 595 5 discriminator 1 view .LVU1048
 3437 0040 0022     		movs	r2, #0
 3438 0042 1146     		mov	r1, r2
 3439 0044 2046     		mov	r0, r4
 3440 0046 9847     		blx	r3
 3441              	.LVL334:
 3442              	.L292:
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3443              		.loc 1 599 1 is_stmt 0 view .LVU1049
 3444 0048 2846     		mov	r0, r5
 3445 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  /tmp/ccwuqUhA.s 			page 109


 3446              	.LVL335:
 3447              	.L302:
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3448              		.loc 1 548 5 is_stmt 1 view .LVU1050
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3449              		.loc 1 548 9 is_stmt 0 view .LVU1051
 3450 004c 6FF00C00 		mvn	r0, #12
 3451 0050 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3452              	.LVL336:
 3453 0054 0146     		mov	r1, r0
 3454 0056 3846     		mov	r0, r7
 3455 0058 FFF7FEFF 		bl	sys_mbox_trypost
 3456              	.LVL337:
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3457              		.loc 1 548 8 view .LVU1052
 3458 005c 28B9     		cbnz	r0, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3459              		.loc 1 550 7 is_stmt 1 view .LVU1053
 3460 005e 636A     		ldr	r3, [r4, #36]
 3461 0060 1BB1     		cbz	r3, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3462              		.loc 1 550 7 discriminator 1 view .LVU1054
 3463 0062 0022     		movs	r2, #0
 3464 0064 1146     		mov	r1, r2
 3465 0066 2046     		mov	r0, r4
 3466 0068 9847     		blx	r3
 3467              	.LVL338:
 3468              	.L294:
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3469              		.loc 1 550 46 discriminator 3 view .LVU1055
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3470              		.loc 1 552 5 discriminator 3 view .LVU1056
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3471              		.loc 1 552 12 is_stmt 0 discriminator 3 view .LVU1057
 3472 006a 6FF00505 		mvn	r5, #5
 3473              	.LVL339:
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3474              		.loc 1 552 12 discriminator 3 view .LVU1058
 3475 006e EBE7     		b	.L292
 3476              	.LVL340:
 3477              	.L303:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3478              		.loc 1 554 3 is_stmt 1 discriminator 1 view .LVU1059
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3479              		.loc 1 554 3 discriminator 1 view .LVU1060
 3480 0070 224B     		ldr	r3, .L306
 3481 0072 40F22A22 		movw	r2, #554
 3482 0076 2249     		ldr	r1, .L306+4
 3483 0078 2248     		ldr	r0, .L306+8
 3484 007a FFF7FEFF 		bl	printf
 3485              	.LVL341:
 3486 007e CEE7     		b	.L295
 3487              	.LVL342:
 3488              	.L304:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3489              		.loc 1 564 5 view .LVU1061
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
ARM GAS  /tmp/ccwuqUhA.s 			page 110


 3490              		.loc 1 564 9 is_stmt 0 view .LVU1062
 3491 0080 6FF00C00 		mvn	r0, #12
 3492              	.LVL343:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3493              		.loc 1 564 9 view .LVU1063
 3494 0084 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3495              	.LVL344:
 3496 0088 0146     		mov	r1, r0
 3497 008a 3846     		mov	r0, r7
 3498 008c FFF7FEFF 		bl	sys_mbox_trypost
 3499              	.LVL345:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3500              		.loc 1 564 8 view .LVU1064
 3501 0090 28B9     		cbnz	r0, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3502              		.loc 1 566 7 is_stmt 1 view .LVU1065
 3503 0092 636A     		ldr	r3, [r4, #36]
 3504 0094 1BB1     		cbz	r3, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3505              		.loc 1 566 7 discriminator 1 view .LVU1066
 3506 0096 0022     		movs	r2, #0
 3507 0098 1146     		mov	r1, r2
 3508 009a 2046     		mov	r0, r4
 3509 009c 9847     		blx	r3
 3510              	.LVL346:
 3511              	.L297:
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3512              		.loc 1 566 46 discriminator 3 view .LVU1067
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3513              		.loc 1 568 5 discriminator 3 view .LVU1068
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3514              		.loc 1 568 12 is_stmt 0 discriminator 3 view .LVU1069
 3515 009e 4FF0FF35 		mov	r5, #-1
 3516              	.LVL347:
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3517              		.loc 1 568 12 discriminator 3 view .LVU1070
 3518 00a2 D1E7     		b	.L292
 3519              	.L305:
 3520              	.LBB20:
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3521              		.loc 1 580 5 is_stmt 1 view .LVU1071
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3522              		.loc 1 580 21 is_stmt 0 view .LVU1072
 3523 00a4 7468     		ldr	r4, [r6, #4]
 3524              	.LVL348:
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 3525              		.loc 1 581 5 is_stmt 1 view .LVU1073
 3526 00a6 0021     		movs	r1, #0
 3527 00a8 2046     		mov	r0, r4
 3528 00aa FFF7FEFF 		bl	tcp_arg
 3529              	.LVL349:
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 3530              		.loc 1 582 5 view .LVU1074
 3531 00ae 0021     		movs	r1, #0
 3532 00b0 2046     		mov	r0, r4
 3533 00b2 FFF7FEFF 		bl	tcp_recv
 3534              	.LVL350:
ARM GAS  /tmp/ccwuqUhA.s 			page 111


 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 3535              		.loc 1 583 5 view .LVU1075
 3536 00b6 0021     		movs	r1, #0
 3537 00b8 2046     		mov	r0, r4
 3538 00ba FFF7FEFF 		bl	tcp_sent
 3539              	.LVL351:
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 3540              		.loc 1 584 5 view .LVU1076
 3541 00be 0022     		movs	r2, #0
 3542 00c0 1146     		mov	r1, r2
 3543 00c2 2046     		mov	r0, r4
 3544 00c4 FFF7FEFF 		bl	tcp_poll
 3545              	.LVL352:
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 3546              		.loc 1 585 5 view .LVU1077
 3547 00c8 0021     		movs	r1, #0
 3548 00ca 2046     		mov	r0, r4
 3549 00cc FFF7FEFF 		bl	tcp_err
 3550              	.LVL353:
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3551              		.loc 1 587 5 view .LVU1078
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3552              		.loc 1 587 22 is_stmt 0 view .LVU1079
 3553 00d0 0023     		movs	r3, #0
 3554 00d2 7360     		str	r3, [r6, #4]
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3555              		.loc 1 589 5 is_stmt 1 view .LVU1080
 3556 00d4 06F11004 		add	r4, r6, #16
 3557              	.LVL354:
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3558              		.loc 1 589 5 is_stmt 0 view .LVU1081
 3559 00d8 2046     		mov	r0, r4
 3560 00da FFF7FEFF 		bl	sys_mbox_free
 3561              	.LVL355:
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 3562              		.loc 1 590 5 is_stmt 1 view .LVU1082
 3563 00de 2046     		mov	r0, r4
 3564 00e0 FFF7FEFF 		bl	sys_mbox_set_invalid
 3565              	.LVL356:
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 3566              		.loc 1 591 5 view .LVU1083
 3567 00e4 3046     		mov	r0, r6
 3568 00e6 FFF7FEFF 		bl	netconn_free
 3569              	.LVL357:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3570              		.loc 1 592 5 view .LVU1084
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3571              		.loc 1 592 12 is_stmt 0 view .LVU1085
 3572 00ea 4FF0FF35 		mov	r5, #-1
 3573 00ee ABE7     		b	.L292
 3574              	.LVL358:
 3575              	.L299:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3576              		.loc 1 592 12 view .LVU1086
 3577              	.LBE20:
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3578              		.loc 1 539 12 view .LVU1087
ARM GAS  /tmp/ccwuqUhA.s 			page 112


 3579 00f0 6FF00505 		mvn	r5, #5
 3580 00f4 A8E7     		b	.L292
 3581              	.LVL359:
 3582              	.L300:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3583              		.loc 1 543 12 view .LVU1088
 3584 00f6 6FF00505 		mvn	r5, #5
 3585              	.LVL360:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3586              		.loc 1 543 12 view .LVU1089
 3587 00fa A5E7     		b	.L292
 3588              	.L307:
 3589              		.align	2
 3590              	.L306:
 3591 00fc 00000000 		.word	.LC0
 3592 0100 00000000 		.word	.LC33
 3593 0104 40000000 		.word	.LC2
 3594              		.cfi_endproc
 3595              	.LFE167:
 3597              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 3598              		.align	2
 3599              	.LC34:
 3600 0000 6E657463 		.ascii	"netconn state error\000"
 3600      6F6E6E20 
 3600      73746174 
 3600      65206572 
 3600      726F7200 
 3601              		.align	2
 3602              	.LC35:
 3603 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 3603      6B696E67 
 3603      20636F6E 
 3603      6E656374 
 3603      20696E20 
 3604 0031 000000   		.align	2
 3605              	.LC36:
 3606 0034 616C7265 		.ascii	"already writing or closing\000"
 3606      61647920 
 3606      77726974 
 3606      696E6720 
 3606      6F722063 
 3607 004f 00       		.align	2
 3608              	.LC37:
 3609 0050 73746174 		.ascii	"state!\000"
 3609      652100
 3610              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 3611              		.align	1
 3612              		.global	lwip_netconn_do_delconn
 3613              		.syntax unified
 3614              		.thumb
 3615              		.thumb_func
 3616              		.fpu fpv4-sp-d16
 3618              	lwip_netconn_do_delconn:
 3619              	.LVL361:
 3620              	.LFB174:
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3621              		.loc 1 1114 1 is_stmt 1 view -0
ARM GAS  /tmp/ccwuqUhA.s 			page 113


 3622              		.cfi_startproc
 3623              		@ args = 0, pretend = 0, frame = 0
 3624              		@ frame_needed = 0, uses_anonymous_args = 0
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3625              		.loc 1 1114 1 is_stmt 0 view .LVU1091
 3626 0000 38B5     		push	{r3, r4, r5, lr}
 3627              	.LCFI22:
 3628              		.cfi_def_cfa_offset 16
 3629              		.cfi_offset 3, -16
 3630              		.cfi_offset 4, -12
 3631              		.cfi_offset 5, -8
 3632              		.cfi_offset 14, -4
 3633 0002 0446     		mov	r4, r0
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3634              		.loc 1 1115 3 is_stmt 1 view .LVU1092
 3635              	.LVL362:
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3636              		.loc 1 1117 3 view .LVU1093
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3637              		.loc 1 1117 33 is_stmt 0 view .LVU1094
 3638 0004 0368     		ldr	r3, [r0]
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3639              		.loc 1 1117 22 view .LVU1095
 3640 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3641              	.LVL363:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3642              		.loc 1 1118 3 is_stmt 1 view .LVU1096
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3643              		.loc 1 1118 3 view .LVU1097
 3644 0008 25B1     		cbz	r5, .L309
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3645              		.loc 1 1118 3 is_stmt 0 discriminator 1 view .LVU1098
 3646 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3647 000c 03F0F003 		and	r3, r3, #240
 3648 0010 102B     		cmp	r3, #16
 3649 0012 0BD1     		bne	.L324
 3650              	.LVL364:
 3651              	.L309:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3652              		.loc 1 1118 3 is_stmt 1 discriminator 5 view .LVU1099
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3653              		.loc 1 1118 3 discriminator 5 view .LVU1100
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3654              		.loc 1 1136 3 discriminator 5 view .LVU1101
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3655              		.loc 1 1136 6 is_stmt 0 discriminator 5 view .LVU1102
 3656 0014 95B1     		cbz	r5, .L310
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3657              		.loc 1 1136 32 discriminator 1 view .LVU1103
 3658 0016 022D     		cmp	r5, #2
 3659 0018 10D0     		beq	.L310
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 3660              		.loc 1 1137 34 view .LVU1104
 3661 001a 032D     		cmp	r5, #3
 3662 001c 0ED0     		beq	.L310
 3663              	.L311:
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
ARM GAS  /tmp/ccwuqUhA.s 			page 114


 3664              		.loc 1 1142 5 is_stmt 1 view .LVU1105
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3665              		.loc 1 1142 14 is_stmt 0 view .LVU1106
 3666 001e FB23     		movs	r3, #251
 3667 0020 2371     		strb	r3, [r4, #4]
 3668              	.L313:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3669              		.loc 1 1201 50 is_stmt 1 discriminator 3 view .LVU1107
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3670              		.loc 1 1203 3 discriminator 3 view .LVU1108
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3671              		.loc 1 1203 21 is_stmt 0 discriminator 3 view .LVU1109
 3672 0022 2068     		ldr	r0, [r4]
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3673              		.loc 1 1203 7 discriminator 3 view .LVU1110
 3674 0024 0C30     		adds	r0, r0, #12
 3675 0026 FFF7FEFF 		bl	sys_sem_valid
 3676              	.LVL365:
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3677              		.loc 1 1204 26 is_stmt 1 discriminator 3 view .LVU1111
 3678              	.L308:
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3679              		.loc 1 1206 1 is_stmt 0 view .LVU1112
 3680 002a 38BD     		pop	{r3, r4, r5, pc}
 3681              	.LVL366:
 3682              	.L324:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3683              		.loc 1 1118 3 is_stmt 1 discriminator 3 view .LVU1113
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3684              		.loc 1 1118 3 discriminator 3 view .LVU1114
 3685 002c 3F4B     		ldr	r3, .L328
 3686 002e 40F25E42 		movw	r2, #1118
 3687 0032 3F49     		ldr	r1, .L328+4
 3688 0034 3F48     		ldr	r0, .L328+8
 3689              	.LVL367:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3690              		.loc 1 1118 3 is_stmt 0 discriminator 3 view .LVU1115
 3691 0036 FFF7FEFF 		bl	printf
 3692              	.LVL368:
 3693 003a EBE7     		b	.L309
 3694              	.L310:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 3695              		.loc 1 1138 36 view .LVU1116
 3696 003c 032D     		cmp	r5, #3
 3697 003e 27D0     		beq	.L325
 3698              	.L312:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3699              		.loc 1 1146 5 is_stmt 1 view .LVU1117
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3700              		.loc 1 1146 5 view .LVU1118
 3701 0040 032D     		cmp	r5, #3
 3702 0042 2BD0     		beq	.L326
 3703              	.L314:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3704              		.loc 1 1146 5 discriminator 5 view .LVU1119
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3705              		.loc 1 1146 5 discriminator 5 view .LVU1120
ARM GAS  /tmp/ccwuqUhA.s 			page 115


1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3706              		.loc 1 1148 5 discriminator 5 view .LVU1121
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3707              		.loc 1 1148 14 is_stmt 0 discriminator 5 view .LVU1122
 3708 0044 0023     		movs	r3, #0
 3709 0046 2371     		strb	r3, [r4, #4]
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 3710              		.loc 1 1153 5 is_stmt 1 discriminator 5 view .LVU1123
 3711 0048 2068     		ldr	r0, [r4]
 3712 004a FFF7FEFF 		bl	netconn_drain
 3713              	.LVL369:
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3714              		.loc 1 1156 5 discriminator 5 view .LVU1124
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3715              		.loc 1 1156 12 is_stmt 0 discriminator 5 view .LVU1125
 3716 004e 2268     		ldr	r2, [r4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3717              		.loc 1 1156 23 discriminator 5 view .LVU1126
 3718 0050 5168     		ldr	r1, [r2, #4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3719              		.loc 1 1156 8 discriminator 5 view .LVU1127
 3720 0052 79B1     		cbz	r1, .L315
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3721              		.loc 1 1158 7 is_stmt 1 view .LVU1128
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3722              		.loc 1 1158 15 is_stmt 0 view .LVU1129
 3723 0054 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3724 0056 03F0F003 		and	r3, r3, #240
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3725              		.loc 1 1158 7 view .LVU1130
 3726 005a 102B     		cmp	r3, #16
 3727 005c 2BD0     		beq	.L316
 3728 005e 202B     		cmp	r3, #32
 3729 0060 05D1     		bne	.L317
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3730              		.loc 1 1166 11 is_stmt 1 view .LVU1131
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3731              		.loc 1 1166 40 is_stmt 0 view .LVU1132
 3732 0062 0023     		movs	r3, #0
 3733 0064 CB61     		str	r3, [r1, #28]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3734              		.loc 1 1167 11 is_stmt 1 view .LVU1133
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3735              		.loc 1 1167 25 is_stmt 0 view .LVU1134
 3736 0066 2368     		ldr	r3, [r4]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3737              		.loc 1 1167 11 view .LVU1135
 3738 0068 5868     		ldr	r0, [r3, #4]
 3739 006a FFF7FEFF 		bl	udp_remove
 3740              	.LVL370:
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3741              		.loc 1 1168 11 is_stmt 1 view .LVU1136
 3742              	.L317:
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3743              		.loc 1 1194 7 view .LVU1137
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3744              		.loc 1 1194 10 is_stmt 0 view .LVU1138
ARM GAS  /tmp/ccwuqUhA.s 			page 116


 3745 006e 2368     		ldr	r3, [r4]
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3746              		.loc 1 1194 26 view .LVU1139
 3747 0070 0022     		movs	r2, #0
 3748 0072 5A60     		str	r2, [r3, #4]
 3749              	.L315:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3750              		.loc 1 1200 5 is_stmt 1 view .LVU1140
 3751 0074 2068     		ldr	r0, [r4]
 3752 0076 436A     		ldr	r3, [r0, #36]
 3753 0078 13B1     		cbz	r3, .L322
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3754              		.loc 1 1200 5 discriminator 1 view .LVU1141
 3755 007a 0022     		movs	r2, #0
 3756 007c 1146     		mov	r1, r2
 3757 007e 9847     		blx	r3
 3758              	.LVL371:
 3759              	.L322:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3760              		.loc 1 1200 49 discriminator 3 view .LVU1142
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3761              		.loc 1 1201 5 discriminator 3 view .LVU1143
 3762 0080 2068     		ldr	r0, [r4]
 3763 0082 436A     		ldr	r3, [r0, #36]
 3764 0084 002B     		cmp	r3, #0
 3765 0086 CCD0     		beq	.L313
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3766              		.loc 1 1201 5 discriminator 1 view .LVU1144
 3767 0088 0022     		movs	r2, #0
 3768 008a 0221     		movs	r1, #2
 3769 008c 9847     		blx	r3
 3770              	.LVL372:
 3771 008e C8E7     		b	.L313
 3772              	.L325:
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3773              		.loc 1 1139 39 is_stmt 0 view .LVU1145
 3774 0090 2368     		ldr	r3, [r4]
 3775 0092 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3776              		.loc 1 1139 35 view .LVU1146
 3777 0094 13F0040F 		tst	r3, #4
 3778 0098 D2D1     		bne	.L312
 3779 009a C0E7     		b	.L311
 3780              	.L326:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3781              		.loc 1 1146 5 discriminator 1 view .LVU1147
 3782 009c 2368     		ldr	r3, [r4]
 3783 009e 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3784 00a0 13F0040F 		tst	r3, #4
 3785 00a4 CED1     		bne	.L314
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3786              		.loc 1 1146 5 is_stmt 1 discriminator 3 view .LVU1148
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3787              		.loc 1 1146 5 discriminator 3 view .LVU1149
 3788 00a6 214B     		ldr	r3, .L328
 3789 00a8 40F27A42 		movw	r2, #1146
 3790 00ac 2249     		ldr	r1, .L328+12
ARM GAS  /tmp/ccwuqUhA.s 			page 117


 3791 00ae 2148     		ldr	r0, .L328+8
 3792 00b0 FFF7FEFF 		bl	printf
 3793              	.LVL373:
 3794 00b4 C6E7     		b	.L314
 3795              	.L316:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3796              		.loc 1 1172 11 view .LVU1150
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3797              		.loc 1 1172 11 view .LVU1151
 3798 00b6 136A     		ldr	r3, [r2, #32]
 3799 00b8 33B1     		cbz	r3, .L318
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3800              		.loc 1 1172 11 discriminator 1 view .LVU1152
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3801              		.loc 1 1172 11 discriminator 1 view .LVU1153
 3802 00ba 1C4B     		ldr	r3, .L328
 3803 00bc 40F29442 		movw	r2, #1172
 3804 00c0 1E49     		ldr	r1, .L328+16
 3805 00c2 1C48     		ldr	r0, .L328+8
 3806 00c4 FFF7FEFF 		bl	printf
 3807              	.LVL374:
 3808              	.L318:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3809              		.loc 1 1172 11 discriminator 3 view .LVU1154
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3810              		.loc 1 1172 11 discriminator 3 view .LVU1155
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3811              		.loc 1 1173 11 discriminator 3 view .LVU1156
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3812              		.loc 1 1173 14 is_stmt 0 discriminator 3 view .LVU1157
 3813 00c8 2368     		ldr	r3, [r4]
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3814              		.loc 1 1173 28 discriminator 3 view .LVU1158
 3815 00ca 0422     		movs	r2, #4
 3816 00cc 5A70     		strb	r2, [r3, #1]
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3817              		.loc 1 1174 11 is_stmt 1 discriminator 3 view .LVU1159
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3818              		.loc 1 1174 28 is_stmt 0 discriminator 3 view .LVU1160
 3819 00ce 0323     		movs	r3, #3
 3820 00d0 2372     		strb	r3, [r4, #8]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3821              		.loc 1 1175 11 is_stmt 1 discriminator 3 view .LVU1161
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3822              		.loc 1 1175 14 is_stmt 0 discriminator 3 view .LVU1162
 3823 00d2 2368     		ldr	r3, [r4]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3824              		.loc 1 1175 34 discriminator 3 view .LVU1163
 3825 00d4 1C62     		str	r4, [r3, #32]
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3826              		.loc 1 1177 11 is_stmt 1 discriminator 3 view .LVU1164
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3827              		.loc 1 1177 15 is_stmt 0 discriminator 3 view .LVU1165
 3828 00d6 0021     		movs	r1, #0
 3829 00d8 2068     		ldr	r0, [r4]
 3830 00da FFF7FEFF 		bl	lwip_netconn_do_close_internal
 3831              	.LVL375:
ARM GAS  /tmp/ccwuqUhA.s 			page 118


1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3832              		.loc 1 1177 14 discriminator 3 view .LVU1166
 3833 00de 0028     		cmp	r0, #0
 3834 00e0 A3D0     		beq	.L308
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3835              		.loc 1 1178 13 is_stmt 1 view .LVU1167
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3836              		.loc 1 1178 13 view .LVU1168
 3837 00e2 2368     		ldr	r3, [r4]
 3838 00e4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3839 00e6 042B     		cmp	r3, #4
 3840 00e8 17D1     		bne	.L327
 3841              	.L320:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3842              		.loc 1 1178 13 discriminator 3 view .LVU1169
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3843              		.loc 1 1178 13 discriminator 3 view .LVU1170
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3844              		.loc 1 1179 13 discriminator 3 view .LVU1171
 3845 00ea 154D     		ldr	r5, .L328+20
 3846              	.LVL376:
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3847              		.loc 1 1179 13 is_stmt 0 discriminator 3 view .LVU1172
 3848 00ec 2846     		mov	r0, r5
 3849 00ee FFF7FEFF 		bl	sys_mutex_unlock
 3850              	.LVL377:
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3851              		.loc 1 1180 13 is_stmt 1 discriminator 3 view .LVU1173
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3852              		.loc 1 1180 31 is_stmt 0 discriminator 3 view .LVU1174
 3853 00f2 2068     		ldr	r0, [r4]
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3854              		.loc 1 1180 13 discriminator 3 view .LVU1175
 3855 00f4 0021     		movs	r1, #0
 3856 00f6 0C30     		adds	r0, r0, #12
 3857 00f8 FFF7FEFF 		bl	sys_arch_sem_wait
 3858              	.LVL378:
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 3859              		.loc 1 1181 13 is_stmt 1 discriminator 3 view .LVU1176
 3860 00fc 2846     		mov	r0, r5
 3861 00fe FFF7FEFF 		bl	sys_mutex_lock
 3862              	.LVL379:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3863              		.loc 1 1182 13 discriminator 3 view .LVU1177
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3864              		.loc 1 1182 13 discriminator 3 view .LVU1178
 3865 0102 2368     		ldr	r3, [r4]
 3866 0104 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3867 0106 002B     		cmp	r3, #0
 3868 0108 8FD0     		beq	.L308
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3869              		.loc 1 1182 13 discriminator 1 view .LVU1179
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3870              		.loc 1 1182 13 discriminator 1 view .LVU1180
 3871 010a 084B     		ldr	r3, .L328
 3872 010c 40F29E42 		movw	r2, #1182
 3873 0110 0C49     		ldr	r1, .L328+24
ARM GAS  /tmp/ccwuqUhA.s 			page 119


 3874 0112 0848     		ldr	r0, .L328+8
 3875 0114 FFF7FEFF 		bl	printf
 3876              	.LVL380:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3877              		.loc 1 1182 13 discriminator 1 view .LVU1181
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3878              		.loc 1 1182 13 discriminator 1 view .LVU1182
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3879              		.loc 1 1189 11 discriminator 1 view .LVU1183
 3880 0118 87E7     		b	.L308
 3881              	.LVL381:
 3882              	.L327:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3883              		.loc 1 1178 13 discriminator 1 view .LVU1184
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3884              		.loc 1 1178 13 discriminator 1 view .LVU1185
 3885 011a 044B     		ldr	r3, .L328
 3886 011c 40F29A42 		movw	r2, #1178
 3887 0120 0849     		ldr	r1, .L328+24
 3888 0122 0448     		ldr	r0, .L328+8
 3889 0124 FFF7FEFF 		bl	printf
 3890              	.LVL382:
 3891 0128 DFE7     		b	.L320
 3892              	.L329:
 3893 012a 00BF     		.align	2
 3894              	.L328:
 3895 012c 00000000 		.word	.LC0
 3896 0130 00000000 		.word	.LC34
 3897 0134 40000000 		.word	.LC2
 3898 0138 14000000 		.word	.LC35
 3899 013c 34000000 		.word	.LC36
 3900 0140 00000000 		.word	lock_tcpip_core
 3901 0144 50000000 		.word	.LC37
 3902              		.cfi_endproc
 3903              	.LFE174:
 3905              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3906              		.align	1
 3907              		.global	lwip_netconn_do_bind
 3908              		.syntax unified
 3909              		.thumb
 3910              		.thumb_func
 3911              		.fpu fpv4-sp-d16
 3913              	lwip_netconn_do_bind:
 3914              	.LVL383:
 3915              	.LFB175:
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3916              		.loc 1 1217 1 view -0
 3917              		.cfi_startproc
 3918              		@ args = 0, pretend = 0, frame = 0
 3919              		@ frame_needed = 0, uses_anonymous_args = 0
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3920              		.loc 1 1217 1 is_stmt 0 view .LVU1187
 3921 0000 10B5     		push	{r4, lr}
 3922              	.LCFI23:
 3923              		.cfi_def_cfa_offset 8
 3924              		.cfi_offset 4, -8
 3925              		.cfi_offset 14, -4
ARM GAS  /tmp/ccwuqUhA.s 			page 120


 3926 0002 0446     		mov	r4, r0
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 3927              		.loc 1 1218 3 is_stmt 1 view .LVU1188
 3928              	.LVL384:
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3929              		.loc 1 1219 3 view .LVU1189
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3930              		.loc 1 1221 3 view .LVU1190
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3931              		.loc 1 1221 10 is_stmt 0 view .LVU1191
 3932 0004 0368     		ldr	r3, [r0]
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3933              		.loc 1 1221 21 view .LVU1192
 3934 0006 5868     		ldr	r0, [r3, #4]
 3935              	.LVL385:
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3936              		.loc 1 1221 6 view .LVU1193
 3937 0008 80B1     		cbz	r0, .L333
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3938              		.loc 1 1222 5 is_stmt 1 view .LVU1194
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3939              		.loc 1 1222 13 is_stmt 0 view .LVU1195
 3940 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3941 000c 03F0F003 		and	r3, r3, #240
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3942              		.loc 1 1222 5 view .LVU1196
 3943 0010 102B     		cmp	r3, #16
 3944 0012 06D0     		beq	.L332
 3945 0014 202B     		cmp	r3, #32
 3946 0016 0CD1     		bne	.L334
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3947              		.loc 1 1230 9 is_stmt 1 view .LVU1197
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3948              		.loc 1 1230 15 is_stmt 0 view .LVU1198
 3949 0018 A289     		ldrh	r2, [r4, #12]
 3950 001a A168     		ldr	r1, [r4, #8]
 3951 001c FFF7FEFF 		bl	udp_bind
 3952              	.LVL386:
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3953              		.loc 1 1231 9 is_stmt 1 view .LVU1199
 3954 0020 09E0     		b	.L331
 3955              	.LVL387:
 3956              	.L332:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3957              		.loc 1 1235 9 view .LVU1200
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3958              		.loc 1 1235 15 is_stmt 0 view .LVU1201
 3959 0022 A289     		ldrh	r2, [r4, #12]
 3960 0024 A168     		ldr	r1, [r4, #8]
 3961 0026 FFF7FEFF 		bl	tcp_bind
 3962              	.LVL388:
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3963              		.loc 1 1236 9 is_stmt 1 view .LVU1202
 3964 002a 04E0     		b	.L331
 3965              	.LVL389:
 3966              	.L333:
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/ccwuqUhA.s 			page 121


 3967              		.loc 1 1243 9 is_stmt 0 view .LVU1203
 3968 002c 6FF00500 		mvn	r0, #5
 3969 0030 01E0     		b	.L331
 3970              	.L334:
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3971              		.loc 1 1222 5 view .LVU1204
 3972 0032 6FF00500 		mvn	r0, #5
 3973              	.L331:
 3974              	.LVL390:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3975              		.loc 1 1245 3 is_stmt 1 view .LVU1205
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3976              		.loc 1 1245 12 is_stmt 0 view .LVU1206
 3977 0036 2071     		strb	r0, [r4, #4]
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3978              		.loc 1 1246 24 is_stmt 1 view .LVU1207
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 3979              		.loc 1 1247 1 is_stmt 0 view .LVU1208
 3980 0038 10BD     		pop	{r4, pc}
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 3981              		.loc 1 1247 1 view .LVU1209
 3982              		.cfi_endproc
 3983              	.LFE175:
 3985              		.section	.text.lwip_netconn_do_bind_if,"ax",%progbits
 3986              		.align	1
 3987              		.global	lwip_netconn_do_bind_if
 3988              		.syntax unified
 3989              		.thumb
 3990              		.thumb_func
 3991              		.fpu fpv4-sp-d16
 3993              	lwip_netconn_do_bind_if:
 3994              	.LVL391:
 3995              	.LFB176:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 3996              		.loc 1 1257 1 is_stmt 1 view -0
 3997              		.cfi_startproc
 3998              		@ args = 0, pretend = 0, frame = 0
 3999              		@ frame_needed = 0, uses_anonymous_args = 0
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 4000              		.loc 1 1257 1 is_stmt 0 view .LVU1211
 4001 0000 10B5     		push	{r4, lr}
 4002              	.LCFI24:
 4003              		.cfi_def_cfa_offset 8
 4004              		.cfi_offset 4, -8
 4005              		.cfi_offset 14, -4
 4006 0002 0446     		mov	r4, r0
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4007              		.loc 1 1258 3 is_stmt 1 view .LVU1212
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4008              		.loc 1 1259 3 view .LVU1213
 4009              	.LVL392:
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4010              		.loc 1 1260 3 view .LVU1214
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4011              		.loc 1 1262 3 view .LVU1215
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4012              		.loc 1 1262 11 is_stmt 0 view .LVU1216
ARM GAS  /tmp/ccwuqUhA.s 			page 122


 4013 0004 807B     		ldrb	r0, [r0, #14]	@ zero_extendqisi2
 4014              	.LVL393:
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4015              		.loc 1 1262 11 view .LVU1217
 4016 0006 FFF7FEFF 		bl	netif_get_by_index
 4017              	.LVL394:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4018              		.loc 1 1264 3 is_stmt 1 view .LVU1218
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4019              		.loc 1 1264 6 is_stmt 0 view .LVU1219
 4020 000a 90B1     		cbz	r0, .L339
 4021 000c 0146     		mov	r1, r0
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4022              		.loc 1 1264 30 discriminator 1 view .LVU1220
 4023 000e 2368     		ldr	r3, [r4]
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4024              		.loc 1 1264 41 discriminator 1 view .LVU1221
 4025 0010 5868     		ldr	r0, [r3, #4]
 4026              	.LVL395:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4027              		.loc 1 1264 23 discriminator 1 view .LVU1222
 4028 0012 90B1     		cbz	r0, .L340
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4029              		.loc 1 1265 5 is_stmt 1 view .LVU1223
 4030              	.LVL396:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4031              		.loc 1 1266 5 view .LVU1224
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4032              		.loc 1 1266 13 is_stmt 0 view .LVU1225
 4033 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4034 0016 03F0F003 		and	r3, r3, #240
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4035              		.loc 1 1266 5 view .LVU1226
 4036 001a 102B     		cmp	r3, #16
 4037 001c 05D0     		beq	.L338
 4038 001e 202B     		cmp	r3, #32
 4039 0020 0ED1     		bne	.L341
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4040              		.loc 1 1274 9 is_stmt 1 view .LVU1227
 4041 0022 FFF7FEFF 		bl	udp_bind_netif
 4042              	.LVL397:
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4043              		.loc 1 1275 9 view .LVU1228
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4044              		.loc 1 1265 9 is_stmt 0 view .LVU1229
 4045 0026 0023     		movs	r3, #0
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4046              		.loc 1 1275 9 view .LVU1230
 4047 0028 05E0     		b	.L337
 4048              	.LVL398:
 4049              	.L338:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4050              		.loc 1 1279 9 is_stmt 1 view .LVU1231
 4051 002a FFF7FEFF 		bl	tcp_bind_netif
 4052              	.LVL399:
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4053              		.loc 1 1280 9 view .LVU1232
ARM GAS  /tmp/ccwuqUhA.s 			page 123


1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4054              		.loc 1 1265 9 is_stmt 0 view .LVU1233
 4055 002e 0023     		movs	r3, #0
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4056              		.loc 1 1280 9 view .LVU1234
 4057 0030 01E0     		b	.L337
 4058              	.LVL400:
 4059              	.L339:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4060              		.loc 1 1287 9 view .LVU1235
 4061 0032 6FF00503 		mvn	r3, #5
 4062              	.LVL401:
 4063              	.L337:
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4064              		.loc 1 1289 3 is_stmt 1 view .LVU1236
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4065              		.loc 1 1289 12 is_stmt 0 view .LVU1237
 4066 0036 2371     		strb	r3, [r4, #4]
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4067              		.loc 1 1290 24 is_stmt 1 view .LVU1238
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4068              		.loc 1 1291 1 is_stmt 0 view .LVU1239
 4069 0038 10BD     		pop	{r4, pc}
 4070              	.LVL402:
 4071              	.L340:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4072              		.loc 1 1287 9 view .LVU1240
 4073 003a 6FF00503 		mvn	r3, #5
 4074 003e FAE7     		b	.L337
 4075              	.LVL403:
 4076              	.L341:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4077              		.loc 1 1266 5 view .LVU1241
 4078 0040 6FF00503 		mvn	r3, #5
 4079 0044 F7E7     		b	.L337
 4080              		.cfi_endproc
 4081              	.LFE176:
 4083              		.section	.rodata.lwip_netconn_do_connect.str1.4,"aMS",%progbits,1
 4084              		.align	2
 4085              	.LC38:
 4086 0000 496E7661 		.ascii	"Invalid netconn type\000"
 4086      6C696420 
 4086      6E657463 
 4086      6F6E6E20 
 4086      74797065 
 4087              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 4088              		.align	1
 4089              		.global	lwip_netconn_do_connect
 4090              		.syntax unified
 4091              		.thumb
 4092              		.thumb_func
 4093              		.fpu fpv4-sp-d16
 4095              	lwip_netconn_do_connect:
 4096              	.LVL404:
 4097              	.LFB178:
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4098              		.loc 1 1351 1 is_stmt 1 view -0
ARM GAS  /tmp/ccwuqUhA.s 			page 124


 4099              		.cfi_startproc
 4100              		@ args = 0, pretend = 0, frame = 0
 4101              		@ frame_needed = 0, uses_anonymous_args = 0
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4102              		.loc 1 1351 1 is_stmt 0 view .LVU1243
 4103 0000 38B5     		push	{r3, r4, r5, lr}
 4104              	.LCFI25:
 4105              		.cfi_def_cfa_offset 16
 4106              		.cfi_offset 3, -16
 4107              		.cfi_offset 4, -12
 4108              		.cfi_offset 5, -8
 4109              		.cfi_offset 14, -4
 4110 0002 0446     		mov	r4, r0
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4111              		.loc 1 1352 3 is_stmt 1 view .LVU1244
 4112              	.LVL405:
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4113              		.loc 1 1353 3 view .LVU1245
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4114              		.loc 1 1355 3 view .LVU1246
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4115              		.loc 1 1355 10 is_stmt 0 view .LVU1247
 4116 0004 0268     		ldr	r2, [r0]
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4117              		.loc 1 1355 21 view .LVU1248
 4118 0006 5068     		ldr	r0, [r2, #4]
 4119              	.LVL406:
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4120              		.loc 1 1355 6 view .LVU1249
 4121 0008 0028     		cmp	r0, #0
 4122 000a 64D0     		beq	.L352
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4123              		.loc 1 1359 5 is_stmt 1 view .LVU1250
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4124              		.loc 1 1359 13 is_stmt 0 view .LVU1251
 4125 000c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4126 000e 03F0F003 		and	r3, r3, #240
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4127              		.loc 1 1359 5 view .LVU1252
 4128 0012 102B     		cmp	r3, #16
 4129 0014 06D0     		beq	.L345
 4130 0016 202B     		cmp	r3, #32
 4131 0018 53D1     		bne	.L346
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4132              		.loc 1 1367 9 is_stmt 1 view .LVU1253
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4133              		.loc 1 1367 15 is_stmt 0 view .LVU1254
 4134 001a A289     		ldrh	r2, [r4, #12]
 4135 001c A168     		ldr	r1, [r4, #8]
 4136 001e FFF7FEFF 		bl	udp_connect
 4137              	.LVL407:
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4138              		.loc 1 1368 9 is_stmt 1 view .LVU1255
 4139 0022 5AE0     		b	.L344
 4140              	.LVL408:
 4141              	.L345:
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
ARM GAS  /tmp/ccwuqUhA.s 			page 125


 4142              		.loc 1 1373 9 view .LVU1256
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4143              		.loc 1 1373 22 is_stmt 0 view .LVU1257
 4144 0024 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4145              		.loc 1 1373 12 view .LVU1258
 4146 0026 032B     		cmp	r3, #3
 4147 0028 59D0     		beq	.L353
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4148              		.loc 1 1375 16 is_stmt 1 view .LVU1259
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4149              		.loc 1 1375 19 is_stmt 0 view .LVU1260
 4150 002a 13B1     		cbz	r3, .L357
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4151              		.loc 1 1376 15 view .LVU1261
 4152 002c 6FF00900 		mvn	r0, #9
 4153 0030 53E0     		b	.L344
 4154              	.L357:
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 4155              		.loc 1 1378 11 is_stmt 1 view .LVU1262
 4156 0032 1046     		mov	r0, r2
 4157 0034 FFF7FEFF 		bl	setup_tcp
 4158              	.LVL409:
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4159              		.loc 1 1379 11 view .LVU1263
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4160              		.loc 1 1379 32 is_stmt 0 view .LVU1264
 4161 0038 2068     		ldr	r0, [r4]
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4162              		.loc 1 1379 17 view .LVU1265
 4163 003a 2A4B     		ldr	r3, .L360
 4164 003c A289     		ldrh	r2, [r4, #12]
 4165 003e A168     		ldr	r1, [r4, #8]
 4166 0040 4068     		ldr	r0, [r0, #4]
 4167 0042 FFF7FEFF 		bl	tcp_connect
 4168              	.LVL410:
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4169              		.loc 1 1381 11 is_stmt 1 view .LVU1266
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4170              		.loc 1 1381 14 is_stmt 0 view .LVU1267
 4171 0046 0028     		cmp	r0, #0
 4172 0048 47D1     		bne	.L344
 4173              	.LBB21:
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4174              		.loc 1 1382 13 is_stmt 1 view .LVU1268
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4175              		.loc 1 1382 33 is_stmt 0 view .LVU1269
 4176 004a 2268     		ldr	r2, [r4]
 4177 004c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 4178              	.LVL411:
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4179              		.loc 1 1383 13 is_stmt 1 view .LVU1270
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4180              		.loc 1 1383 30 is_stmt 0 view .LVU1271
 4181 004e 0321     		movs	r1, #3
 4182 0050 5170     		strb	r1, [r2, #1]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
ARM GAS  /tmp/ccwuqUhA.s 			page 126


 4183              		.loc 1 1384 13 is_stmt 1 view .LVU1272
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4184              		.loc 1 1384 13 view .LVU1273
 4185 0052 13F00203 		ands	r3, r3, #2
 4186              	.LVL412:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4187              		.loc 1 1384 13 is_stmt 0 view .LVU1274
 4188 0056 08D0     		beq	.L347
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4189              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1275
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4190              		.loc 1 1384 13 discriminator 1 view .LVU1276
 4191 0058 2168     		ldr	r1, [r4]
 4192 005a 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4193              	.LVL413:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4194              		.loc 1 1384 13 is_stmt 0 discriminator 1 view .LVU1277
 4195 005c 42F00402 		orr	r2, r2, #4
 4196 0060 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4197              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1278
 4198              	.L348:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4199              		.loc 1 1384 13 discriminator 4 view .LVU1279
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4200              		.loc 1 1384 13 discriminator 4 view .LVU1280
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4201              		.loc 1 1385 13 discriminator 4 view .LVU1281
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4202              		.loc 1 1385 16 is_stmt 0 discriminator 4 view .LVU1282
 4203 0062 43B1     		cbz	r3, .L358
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4204              		.loc 1 1386 19 view .LVU1283
 4205 0064 6FF00400 		mvn	r0, #4
 4206              	.LVL414:
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4207              		.loc 1 1386 19 view .LVU1284
 4208 0068 37E0     		b	.L344
 4209              	.LVL415:
 4210              	.L347:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4211              		.loc 1 1384 13 is_stmt 1 discriminator 2 view .LVU1285
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4212              		.loc 1 1384 13 discriminator 2 view .LVU1286
 4213 006a 2168     		ldr	r1, [r4]
 4214 006c 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4215              	.LVL416:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4216              		.loc 1 1384 13 is_stmt 0 discriminator 2 view .LVU1287
 4217 006e 02F0FB02 		and	r2, r2, #251
 4218 0072 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4219              		.loc 1 1384 13 discriminator 2 view .LVU1288
 4220 0074 F5E7     		b	.L348
 4221              	.L358:
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4222              		.loc 1 1388 15 is_stmt 1 view .LVU1289
ARM GAS  /tmp/ccwuqUhA.s 			page 127


1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4223              		.loc 1 1388 18 is_stmt 0 view .LVU1290
 4224 0076 2368     		ldr	r3, [r4]
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4225              		.loc 1 1388 38 view .LVU1291
 4226 0078 1C62     		str	r4, [r3, #32]
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4227              		.loc 1 1392 15 is_stmt 1 view .LVU1292
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4228              		.loc 1 1392 15 view .LVU1293
 4229 007a 2368     		ldr	r3, [r4]
 4230 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4231 007e 032B     		cmp	r3, #3
 4232 0080 17D1     		bne	.L359
 4233              	.LVL417:
 4234              	.L349:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4235              		.loc 1 1392 15 discriminator 3 view .LVU1294
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4236              		.loc 1 1392 15 discriminator 3 view .LVU1295
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4237              		.loc 1 1393 15 discriminator 3 view .LVU1296
 4238 0082 194D     		ldr	r5, .L360+4
 4239 0084 2846     		mov	r0, r5
 4240 0086 FFF7FEFF 		bl	sys_mutex_unlock
 4241              	.LVL418:
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4242              		.loc 1 1394 15 discriminator 3 view .LVU1297
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4243              		.loc 1 1394 33 is_stmt 0 discriminator 3 view .LVU1298
 4244 008a 2068     		ldr	r0, [r4]
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4245              		.loc 1 1394 15 discriminator 3 view .LVU1299
 4246 008c 0021     		movs	r1, #0
 4247 008e 0C30     		adds	r0, r0, #12
 4248 0090 FFF7FEFF 		bl	sys_arch_sem_wait
 4249              	.LVL419:
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 4250              		.loc 1 1395 15 is_stmt 1 discriminator 3 view .LVU1300
 4251 0094 2846     		mov	r0, r5
 4252 0096 FFF7FEFF 		bl	sys_mutex_lock
 4253              	.LVL420:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4254              		.loc 1 1396 15 discriminator 3 view .LVU1301
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4255              		.loc 1 1396 15 discriminator 3 view .LVU1302
 4256 009a 2368     		ldr	r3, [r4]
 4257 009c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4258 009e 032B     		cmp	r3, #3
 4259 00a0 1CD1     		bne	.L343
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4260              		.loc 1 1396 15 discriminator 1 view .LVU1303
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4261              		.loc 1 1396 15 discriminator 1 view .LVU1304
 4262 00a2 124B     		ldr	r3, .L360+8
 4263 00a4 40F27452 		movw	r2, #1396
 4264 00a8 1149     		ldr	r1, .L360+12
ARM GAS  /tmp/ccwuqUhA.s 			page 128


 4265 00aa 1248     		ldr	r0, .L360+16
 4266 00ac FFF7FEFF 		bl	printf
 4267              	.LVL421:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4268              		.loc 1 1396 15 discriminator 1 view .LVU1305
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4269              		.loc 1 1396 15 discriminator 1 view .LVU1306
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4270              		.loc 1 1398 15 discriminator 1 view .LVU1307
 4271 00b0 14E0     		b	.L343
 4272              	.LVL422:
 4273              	.L359:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4274              		.loc 1 1392 15 discriminator 1 view .LVU1308
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4275              		.loc 1 1392 15 discriminator 1 view .LVU1309
 4276 00b2 0E4B     		ldr	r3, .L360+8
 4277 00b4 4FF4AE62 		mov	r2, #1392
 4278 00b8 0D49     		ldr	r1, .L360+12
 4279 00ba 0E48     		ldr	r0, .L360+16
 4280              	.LVL423:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4281              		.loc 1 1392 15 is_stmt 0 discriminator 1 view .LVU1310
 4282 00bc FFF7FEFF 		bl	printf
 4283              	.LVL424:
 4284 00c0 DFE7     		b	.L349
 4285              	.L346:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4286              		.loc 1 1392 15 discriminator 1 view .LVU1311
 4287              	.LBE21:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4288              		.loc 1 1405 9 is_stmt 1 discriminator 1 view .LVU1312
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4289              		.loc 1 1405 9 discriminator 1 view .LVU1313
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4290              		.loc 1 1405 9 discriminator 1 view .LVU1314
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4291              		.loc 1 1405 9 discriminator 1 view .LVU1315
 4292 00c2 0A4B     		ldr	r3, .L360+8
 4293 00c4 40F27D52 		movw	r2, #1405
 4294 00c8 0B49     		ldr	r1, .L360+20
 4295 00ca 0A48     		ldr	r0, .L360+16
 4296 00cc FFF7FEFF 		bl	printf
 4297              	.LVL425:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4298              		.loc 1 1405 9 discriminator 1 view .LVU1316
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4299              		.loc 1 1405 9 discriminator 1 view .LVU1317
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4300              		.loc 1 1405 9 discriminator 1 view .LVU1318
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4301              		.loc 1 1405 9 discriminator 1 view .LVU1319
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4302              		.loc 1 1405 9 discriminator 1 view .LVU1320
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4303              		.loc 1 1408 9 discriminator 1 view .LVU1321
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
ARM GAS  /tmp/ccwuqUhA.s 			page 129


 4304              		.loc 1 1405 9 is_stmt 0 discriminator 1 view .LVU1322
 4305 00d0 6FF00500 		mvn	r0, #5
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4306              		.loc 1 1408 9 discriminator 1 view .LVU1323
 4307 00d4 01E0     		b	.L344
 4308              	.LVL426:
 4309              	.L352:
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4310              		.loc 1 1357 9 view .LVU1324
 4311 00d6 6FF00E00 		mvn	r0, #14
 4312              	.L344:
 4313              	.LVL427:
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4314              		.loc 1 1411 3 is_stmt 1 view .LVU1325
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4315              		.loc 1 1411 12 is_stmt 0 view .LVU1326
 4316 00da 2071     		strb	r0, [r4, #4]
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4317              		.loc 1 1414 24 is_stmt 1 view .LVU1327
 4318              	.LVL428:
 4319              	.L343:
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4320              		.loc 1 1415 1 is_stmt 0 view .LVU1328
 4321 00dc 38BD     		pop	{r3, r4, r5, pc}
 4322              	.LVL429:
 4323              	.L353:
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 4324              		.loc 1 1374 15 view .LVU1329
 4325 00de 6FF00800 		mvn	r0, #8
 4326 00e2 FAE7     		b	.L344
 4327              	.L361:
 4328              		.align	2
 4329              	.L360:
 4330 00e4 00000000 		.word	lwip_netconn_do_connected
 4331 00e8 00000000 		.word	lock_tcpip_core
 4332 00ec 00000000 		.word	.LC0
 4333 00f0 50000000 		.word	.LC37
 4334 00f4 40000000 		.word	.LC2
 4335 00f8 00000000 		.word	.LC38
 4336              		.cfi_endproc
 4337              	.LFE178:
 4339              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 4340              		.align	1
 4341              		.global	lwip_netconn_do_disconnect
 4342              		.syntax unified
 4343              		.thumb
 4344              		.thumb_func
 4345              		.fpu fpv4-sp-d16
 4347              	lwip_netconn_do_disconnect:
 4348              	.LVL430:
 4349              	.LFB179:
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4350              		.loc 1 1426 1 is_stmt 1 view -0
 4351              		.cfi_startproc
 4352              		@ args = 0, pretend = 0, frame = 0
 4353              		@ frame_needed = 0, uses_anonymous_args = 0
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
ARM GAS  /tmp/ccwuqUhA.s 			page 130


 4354              		.loc 1 1426 1 is_stmt 0 view .LVU1331
 4355 0000 10B5     		push	{r4, lr}
 4356              	.LCFI26:
 4357              		.cfi_def_cfa_offset 8
 4358              		.cfi_offset 4, -8
 4359              		.cfi_offset 14, -4
 4360 0002 0446     		mov	r4, r0
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4361              		.loc 1 1427 3 is_stmt 1 view .LVU1332
 4362              	.LVL431:
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4363              		.loc 1 1430 3 view .LVU1333
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4364              		.loc 1 1430 7 is_stmt 0 view .LVU1334
 4365 0004 0268     		ldr	r2, [r0]
 4366 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4367              		.loc 1 1430 6 view .LVU1335
 4368 0008 03F0F003 		and	r3, r3, #240
 4369 000c 202B     		cmp	r3, #32
 4370 000e 02D0     		beq	.L366
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4371              		.loc 1 1436 5 is_stmt 1 view .LVU1336
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4372              		.loc 1 1436 14 is_stmt 0 view .LVU1337
 4373 0010 FA23     		movs	r3, #250
 4374 0012 0371     		strb	r3, [r0, #4]
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4375              		.loc 1 1438 24 is_stmt 1 view .LVU1338
 4376              	.LVL432:
 4377              	.L362:
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4378              		.loc 1 1439 1 is_stmt 0 view .LVU1339
 4379 0014 10BD     		pop	{r4, pc}
 4380              	.LVL433:
 4381              	.L366:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4382              		.loc 1 1431 5 is_stmt 1 view .LVU1340
 4383 0016 5068     		ldr	r0, [r2, #4]
 4384              	.LVL434:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4385              		.loc 1 1431 5 is_stmt 0 view .LVU1341
 4386 0018 FFF7FEFF 		bl	udp_disconnect
 4387              	.LVL435:
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4388              		.loc 1 1432 5 is_stmt 1 view .LVU1342
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4389              		.loc 1 1432 14 is_stmt 0 view .LVU1343
 4390 001c 0023     		movs	r3, #0
 4391 001e 2371     		strb	r3, [r4, #4]
 4392 0020 F8E7     		b	.L362
 4393              		.cfi_endproc
 4394              	.LFE179:
 4396              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 4397              		.align	1
 4398              		.global	lwip_netconn_do_listen
 4399              		.syntax unified
ARM GAS  /tmp/ccwuqUhA.s 			page 131


 4400              		.thumb
 4401              		.thumb_func
 4402              		.fpu fpv4-sp-d16
 4404              	lwip_netconn_do_listen:
 4405              	.LVL436:
 4406              	.LFB180:
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4407              		.loc 1 1450 1 is_stmt 1 view -0
 4408              		.cfi_startproc
 4409              		@ args = 0, pretend = 0, frame = 8
 4410              		@ frame_needed = 0, uses_anonymous_args = 0
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4411              		.loc 1 1450 1 is_stmt 0 view .LVU1345
 4412 0000 30B5     		push	{r4, r5, lr}
 4413              	.LCFI27:
 4414              		.cfi_def_cfa_offset 12
 4415              		.cfi_offset 4, -12
 4416              		.cfi_offset 5, -8
 4417              		.cfi_offset 14, -4
 4418 0002 83B0     		sub	sp, sp, #12
 4419              	.LCFI28:
 4420              		.cfi_def_cfa_offset 24
 4421 0004 0446     		mov	r4, r0
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4422              		.loc 1 1451 3 is_stmt 1 view .LVU1346
 4423              	.LVL437:
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4424              		.loc 1 1452 3 view .LVU1347
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4425              		.loc 1 1454 3 view .LVU1348
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4426              		.loc 1 1454 10 is_stmt 0 view .LVU1349
 4427 0006 0368     		ldr	r3, [r0]
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4428              		.loc 1 1454 21 view .LVU1350
 4429 0008 5868     		ldr	r0, [r3, #4]
 4430              	.LVL438:
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4431              		.loc 1 1454 6 view .LVU1351
 4432 000a 0028     		cmp	r0, #0
 4433 000c 5ED0     		beq	.L368
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4434              		.loc 1 1455 5 is_stmt 1 view .LVU1352
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4435              		.loc 1 1455 9 is_stmt 0 view .LVU1353
 4436 000e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4437              		.loc 1 1455 8 view .LVU1354
 4438 0010 02F0F002 		and	r2, r2, #240
 4439 0014 102A     		cmp	r2, #16
 4440 0016 07D0     		beq	.L378
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4441              		.loc 1 1515 7 is_stmt 1 view .LVU1355
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4442              		.loc 1 1515 11 is_stmt 0 view .LVU1356
 4443 0018 F023     		movs	r3, #240
 4444 001a 8DF80730 		strb	r3, [sp, #7]
ARM GAS  /tmp/ccwuqUhA.s 			page 132


 4445              	.L372:
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4446              		.loc 1 1520 3 is_stmt 1 view .LVU1357
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4447              		.loc 1 1520 12 is_stmt 0 view .LVU1358
 4448 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4449 0022 2371     		strb	r3, [r4, #4]
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4450              		.loc 1 1521 24 is_stmt 1 view .LVU1359
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4451              		.loc 1 1522 1 is_stmt 0 view .LVU1360
 4452 0024 03B0     		add	sp, sp, #12
 4453              	.LCFI29:
 4454              		.cfi_remember_state
 4455              		.cfi_def_cfa_offset 12
 4456              		@ sp needed
 4457 0026 30BD     		pop	{r4, r5, pc}
 4458              	.LVL439:
 4459              	.L378:
 4460              	.LCFI30:
 4461              		.cfi_restore_state
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4462              		.loc 1 1456 7 is_stmt 1 view .LVU1361
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4463              		.loc 1 1456 20 is_stmt 0 view .LVU1362
 4464 0028 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4465              		.loc 1 1456 10 view .LVU1363
 4466 002a 002B     		cmp	r3, #0
 4467 002c 44D1     		bne	.L370
 4468              	.LBB22:
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
 4469              		.loc 1 1457 9 is_stmt 1 view .LVU1364
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4470              		.loc 1 1458 9 view .LVU1365
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4471              		.loc 1 1458 31 is_stmt 0 view .LVU1366
 4472 002e 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4473              		.loc 1 1458 12 view .LVU1367
 4474 0030 1BB1     		cbz	r3, .L371
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4475              		.loc 1 1460 11 is_stmt 1 view .LVU1368
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4476              		.loc 1 1460 15 is_stmt 0 view .LVU1369
 4477 0032 FA23     		movs	r3, #250
 4478 0034 8DF80730 		strb	r3, [sp, #7]
 4479 0038 F1E7     		b	.L372
 4480              	.L371:
 4481              	.LBB23:
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
 4482              		.loc 1 1462 11 is_stmt 1 view .LVU1370
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
 4483              		.loc 1 1466 11 view .LVU1371
 4484              	.LVL440:
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4485              		.loc 1 1480 11 view .LVU1372
ARM GAS  /tmp/ccwuqUhA.s 			page 133


1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4486              		.loc 1 1480 18 is_stmt 0 view .LVU1373
 4487 003a 0DF10702 		add	r2, sp, #7
 4488 003e FF21     		movs	r1, #255
 4489 0040 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 4490              	.LVL441:
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4491              		.loc 1 1482 11 is_stmt 1 view .LVU1374
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4492              		.loc 1 1482 14 is_stmt 0 view .LVU1375
 4493 0044 0546     		mov	r5, r0
 4494 0046 0028     		cmp	r0, #0
 4495 0048 E9D0     		beq	.L372
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4496              		.loc 1 1486 13 is_stmt 1 view .LVU1376
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4497              		.loc 1 1486 36 is_stmt 0 view .LVU1377
 4498 004a 2068     		ldr	r0, [r4]
 4499              	.LVL442:
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4500              		.loc 1 1486 17 view .LVU1378
 4501 004c 1030     		adds	r0, r0, #16
 4502 004e FFF7FEFF 		bl	sys_mbox_valid
 4503              	.LVL443:
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4504              		.loc 1 1486 16 view .LVU1379
 4505 0052 C8B9     		cbnz	r0, .L379
 4506              	.L373:
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4507              		.loc 1 1491 13 is_stmt 1 view .LVU1380
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4508              		.loc 1 1491 17 is_stmt 0 view .LVU1381
 4509 0054 0023     		movs	r3, #0
 4510 0056 8DF80730 		strb	r3, [sp, #7]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4511              		.loc 1 1492 13 is_stmt 1 view .LVU1382
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4512              		.loc 1 1492 37 is_stmt 0 view .LVU1383
 4513 005a 2068     		ldr	r0, [r4]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4514              		.loc 1 1492 18 view .LVU1384
 4515 005c 1430     		adds	r0, r0, #20
 4516 005e FFF7FEFF 		bl	sys_mbox_valid
 4517              	.LVL444:
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4518              		.loc 1 1492 16 view .LVU1385
 4519 0062 D0B1     		cbz	r0, .L380
 4520              	.L374:
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4521              		.loc 1 1495 13 is_stmt 1 view .LVU1386
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4522              		.loc 1 1495 21 is_stmt 0 view .LVU1387
 4523 0064 9DF90730 		ldrsb	r3, [sp, #7]
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4524              		.loc 1 1495 16 view .LVU1388
 4525 0068 FBB9     		cbnz	r3, .L375
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
ARM GAS  /tmp/ccwuqUhA.s 			page 134


 4526              		.loc 1 1496 15 is_stmt 1 view .LVU1389
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4527              		.loc 1 1496 18 is_stmt 0 view .LVU1390
 4528 006a 2368     		ldr	r3, [r4]
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4529              		.loc 1 1496 32 view .LVU1391
 4530 006c 0222     		movs	r2, #2
 4531 006e 5A70     		strb	r2, [r3, #1]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4532              		.loc 1 1497 15 is_stmt 1 view .LVU1392
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4533              		.loc 1 1497 18 is_stmt 0 view .LVU1393
 4534 0070 2368     		ldr	r3, [r4]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4535              		.loc 1 1497 34 view .LVU1394
 4536 0072 5D60     		str	r5, [r3, #4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4537              		.loc 1 1498 15 is_stmt 1 view .LVU1395
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4538              		.loc 1 1498 26 is_stmt 0 view .LVU1396
 4539 0074 2168     		ldr	r1, [r4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4540              		.loc 1 1498 15 view .LVU1397
 4541 0076 4868     		ldr	r0, [r1, #4]
 4542 0078 FFF7FEFF 		bl	tcp_arg
 4543              	.LVL445:
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4544              		.loc 1 1499 15 is_stmt 1 view .LVU1398
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4545              		.loc 1 1499 29 is_stmt 0 view .LVU1399
 4546 007c 2368     		ldr	r3, [r4]
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4547              		.loc 1 1499 15 view .LVU1400
 4548 007e 1549     		ldr	r1, .L382
 4549 0080 5868     		ldr	r0, [r3, #4]
 4550 0082 FFF7FEFF 		bl	tcp_accept
 4551              	.LVL446:
 4552 0086 CAE7     		b	.L372
 4553              	.L379:
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4554              		.loc 1 1488 15 is_stmt 1 view .LVU1401
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4555              		.loc 1 1488 33 is_stmt 0 view .LVU1402
 4556 0088 2068     		ldr	r0, [r4]
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4557              		.loc 1 1488 15 view .LVU1403
 4558 008a 1030     		adds	r0, r0, #16
 4559 008c FFF7FEFF 		bl	sys_mbox_free
 4560              	.LVL447:
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4561              		.loc 1 1489 15 is_stmt 1 view .LVU1404
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4562              		.loc 1 1489 40 is_stmt 0 view .LVU1405
 4563 0090 2068     		ldr	r0, [r4]
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4564              		.loc 1 1489 15 view .LVU1406
 4565 0092 1030     		adds	r0, r0, #16
ARM GAS  /tmp/ccwuqUhA.s 			page 135


 4566 0094 FFF7FEFF 		bl	sys_mbox_set_invalid
 4567              	.LVL448:
 4568 0098 DCE7     		b	.L373
 4569              	.L380:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4570              		.loc 1 1493 15 is_stmt 1 view .LVU1407
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4571              		.loc 1 1493 38 is_stmt 0 view .LVU1408
 4572 009a 2068     		ldr	r0, [r4]
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4573              		.loc 1 1493 21 view .LVU1409
 4574 009c 0621     		movs	r1, #6
 4575 009e 1430     		adds	r0, r0, #20
 4576 00a0 FFF7FEFF 		bl	sys_mbox_new
 4577              	.LVL449:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4578              		.loc 1 1493 19 view .LVU1410
 4579 00a4 8DF80700 		strb	r0, [sp, #7]
 4580 00a8 DCE7     		b	.L374
 4581              	.L375:
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
 4582              		.loc 1 1502 15 is_stmt 1 view .LVU1411
 4583 00aa 2846     		mov	r0, r5
 4584 00ac FFF7FEFF 		bl	tcp_close
 4585              	.LVL450:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4586              		.loc 1 1503 15 view .LVU1412
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4587              		.loc 1 1503 18 is_stmt 0 view .LVU1413
 4588 00b0 2368     		ldr	r3, [r4]
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4589              		.loc 1 1503 34 view .LVU1414
 4590 00b2 0022     		movs	r2, #0
 4591 00b4 5A60     		str	r2, [r3, #4]
 4592 00b6 B2E7     		b	.L372
 4593              	.LVL451:
 4594              	.L370:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4595              		.loc 1 1503 34 view .LVU1415
 4596              	.LBE23:
 4597              	.LBE22:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4598              		.loc 1 1507 14 is_stmt 1 view .LVU1416
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4599              		.loc 1 1507 17 is_stmt 0 view .LVU1417
 4600 00b8 022B     		cmp	r3, #2
 4601 00ba 03D0     		beq	.L381
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4602              		.loc 1 1512 9 is_stmt 1 view .LVU1418
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4603              		.loc 1 1512 13 is_stmt 0 view .LVU1419
 4604 00bc F523     		movs	r3, #245
 4605 00be 8DF80730 		strb	r3, [sp, #7]
 4606 00c2 ACE7     		b	.L372
 4607              	.L381:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4608              		.loc 1 1509 9 is_stmt 1 view .LVU1420
ARM GAS  /tmp/ccwuqUhA.s 			page 136


1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4609              		.loc 1 1509 13 is_stmt 0 view .LVU1421
 4610 00c4 0023     		movs	r3, #0
 4611 00c6 8DF80730 		strb	r3, [sp, #7]
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4612              		.loc 1 1510 65 is_stmt 1 view .LVU1422
 4613 00ca A8E7     		b	.L372
 4614              	.L368:
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4615              		.loc 1 1518 5 view .LVU1423
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4616              		.loc 1 1518 9 is_stmt 0 view .LVU1424
 4617 00cc F523     		movs	r3, #245
 4618 00ce 8DF80730 		strb	r3, [sp, #7]
 4619 00d2 A4E7     		b	.L372
 4620              	.L383:
 4621              		.align	2
 4622              	.L382:
 4623 00d4 00000000 		.word	accept_function
 4624              		.cfi_endproc
 4625              	.LFE180:
 4627              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4628              		.align	1
 4629              		.global	lwip_netconn_do_send
 4630              		.syntax unified
 4631              		.thumb
 4632              		.thumb_func
 4633              		.fpu fpv4-sp-d16
 4635              	lwip_netconn_do_send:
 4636              	.LVL452:
 4637              	.LFB181:
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4638              		.loc 1 1533 1 is_stmt 1 view -0
 4639              		.cfi_startproc
 4640              		@ args = 0, pretend = 0, frame = 0
 4641              		@ frame_needed = 0, uses_anonymous_args = 0
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4642              		.loc 1 1533 1 is_stmt 0 view .LVU1426
 4643 0000 10B5     		push	{r4, lr}
 4644              	.LCFI31:
 4645              		.cfi_def_cfa_offset 8
 4646              		.cfi_offset 4, -8
 4647              		.cfi_offset 14, -4
 4648 0002 0446     		mov	r4, r0
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4649              		.loc 1 1534 3 is_stmt 1 view .LVU1427
 4650              	.LVL453:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4651              		.loc 1 1536 3 view .LVU1428
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4652              		.loc 1 1536 15 is_stmt 0 view .LVU1429
 4653 0004 0068     		ldr	r0, [r0]
 4654              	.LVL454:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4655              		.loc 1 1536 15 view .LVU1430
 4656 0006 FFF7FEFF 		bl	netconn_err
 4657              	.LVL455:
ARM GAS  /tmp/ccwuqUhA.s 			page 137


1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4658              		.loc 1 1537 3 is_stmt 1 view .LVU1431
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4659              		.loc 1 1537 6 is_stmt 0 view .LVU1432
 4660 000a 0346     		mov	r3, r0
 4661 000c 48B9     		cbnz	r0, .L385
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4662              		.loc 1 1538 5 is_stmt 1 view .LVU1433
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4663              		.loc 1 1538 12 is_stmt 0 view .LVU1434
 4664 000e 2368     		ldr	r3, [r4]
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4665              		.loc 1 1538 23 view .LVU1435
 4666 0010 5868     		ldr	r0, [r3, #4]
 4667              	.LVL456:
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4668              		.loc 1 1538 8 view .LVU1436
 4669 0012 C0B1     		cbz	r0, .L387
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4670              		.loc 1 1539 7 is_stmt 1 view .LVU1437
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4671              		.loc 1 1539 15 is_stmt 0 view .LVU1438
 4672 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4673              		.loc 1 1539 7 view .LVU1439
 4674 0016 03F0F003 		and	r3, r3, #240
 4675 001a 202B     		cmp	r3, #32
 4676 001c 03D0     		beq	.L390
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 4677              		.loc 1 1570 15 view .LVU1440
 4678 001e 6FF00A03 		mvn	r3, #10
 4679              	.L385:
 4680              	.LVL457:
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4681              		.loc 1 1577 3 is_stmt 1 view .LVU1441
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4682              		.loc 1 1577 12 is_stmt 0 view .LVU1442
 4683 0022 2371     		strb	r3, [r4, #4]
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4684              		.loc 1 1578 24 is_stmt 1 view .LVU1443
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4685              		.loc 1 1579 1 is_stmt 0 view .LVU1444
 4686 0024 10BD     		pop	{r4, pc}
 4687              	.LVL458:
 4688              	.L390:
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4689              		.loc 1 1561 11 is_stmt 1 view .LVU1445
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4690              		.loc 1 1561 15 is_stmt 0 view .LVU1446
 4691 0026 A168     		ldr	r1, [r4, #8]
 4692 0028 8B68     		ldr	r3, [r1, #8]
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4693              		.loc 1 1561 14 view .LVU1447
 4694 002a 23B9     		cbnz	r3, .L386
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4695              		.loc 1 1562 13 is_stmt 1 view .LVU1448
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
ARM GAS  /tmp/ccwuqUhA.s 			page 138


 4696              		.loc 1 1562 19 is_stmt 0 view .LVU1449
 4697 002c 0968     		ldr	r1, [r1]
 4698 002e FFF7FEFF 		bl	udp_send
 4699              	.LVL459:
 4700 0032 0346     		mov	r3, r0
 4701              	.LVL460:
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4702              		.loc 1 1562 19 view .LVU1450
 4703 0034 F5E7     		b	.L385
 4704              	.LVL461:
 4705              	.L386:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4706              		.loc 1 1564 13 is_stmt 1 view .LVU1451
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4707              		.loc 1 1564 19 is_stmt 0 view .LVU1452
 4708 0036 8B89     		ldrh	r3, [r1, #12]
 4709 0038 01F10802 		add	r2, r1, #8
 4710 003c 0968     		ldr	r1, [r1]
 4711 003e FFF7FEFF 		bl	udp_sendto
 4712              	.LVL462:
 4713 0042 0346     		mov	r3, r0
 4714              	.LVL463:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4715              		.loc 1 1564 19 view .LVU1453
 4716 0044 EDE7     		b	.L385
 4717              	.LVL464:
 4718              	.L387:
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4719              		.loc 1 1574 11 view .LVU1454
 4720 0046 6FF00A03 		mvn	r3, #10
 4721 004a EAE7     		b	.L385
 4722              		.cfi_endproc
 4723              	.LFE181:
 4725              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4726              		.align	1
 4727              		.global	lwip_netconn_do_recv
 4728              		.syntax unified
 4729              		.thumb
 4730              		.thumb_func
 4731              		.fpu fpv4-sp-d16
 4733              	lwip_netconn_do_recv:
 4734              	.LVL465:
 4735              	.LFB182:
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4736              		.loc 1 1590 1 is_stmt 1 view -0
 4737              		.cfi_startproc
 4738              		@ args = 0, pretend = 0, frame = 0
 4739              		@ frame_needed = 0, uses_anonymous_args = 0
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4740              		.loc 1 1591 3 view .LVU1456
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4741              		.loc 1 1593 3 view .LVU1457
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4742              		.loc 1 1593 12 is_stmt 0 view .LVU1458
 4743 0000 0023     		movs	r3, #0
 4744 0002 0371     		strb	r3, [r0, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
ARM GAS  /tmp/ccwuqUhA.s 			page 139


 4745              		.loc 1 1594 3 is_stmt 1 view .LVU1459
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4746              		.loc 1 1594 10 is_stmt 0 view .LVU1460
 4747 0004 0368     		ldr	r3, [r0]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4748              		.loc 1 1594 21 view .LVU1461
 4749 0006 5A68     		ldr	r2, [r3, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4750              		.loc 1 1594 6 view .LVU1462
 4751 0008 BAB1     		cbz	r2, .L397
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4752              		.loc 1 1590 1 view .LVU1463
 4753 000a 70B5     		push	{r4, r5, r6, lr}
 4754              	.LCFI32:
 4755              		.cfi_def_cfa_offset 16
 4756              		.cfi_offset 4, -16
 4757              		.cfi_offset 5, -12
 4758              		.cfi_offset 6, -8
 4759              		.cfi_offset 14, -4
 4760 000c 0646     		mov	r6, r0
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4761              		.loc 1 1595 5 is_stmt 1 view .LVU1464
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4762              		.loc 1 1595 9 is_stmt 0 view .LVU1465
 4763 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4764              		.loc 1 1595 8 view .LVU1466
 4765 0010 03F0F003 		and	r3, r3, #240
 4766 0014 102B     		cmp	r3, #16
 4767 0016 00D0     		beq	.L400
 4768              	.LVL466:
 4769              	.L391:
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4770              		.loc 1 1605 1 view .LVU1467
 4771 0018 70BD     		pop	{r4, r5, r6, pc}
 4772              	.LVL467:
 4773              	.L400:
 4774              	.LBB24:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4775              		.loc 1 1596 7 is_stmt 1 view .LVU1468
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4776              		.loc 1 1596 14 is_stmt 0 view .LVU1469
 4777 001a 8468     		ldr	r4, [r0, #8]
 4778              	.LVL468:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4779              		.loc 1 1596 14 view .LVU1470
 4780 001c 07E0     		b	.L394
 4781              	.LVL469:
 4782              	.L401:
 4783              	.LBB25:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4784              		.loc 1 1598 24 discriminator 1 view .LVU1471
 4785 001e A5B2     		uxth	r5, r4
 4786              	.L393:
 4787              	.LVL470:
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4788              		.loc 1 1599 9 is_stmt 1 discriminator 4 view .LVU1472
ARM GAS  /tmp/ccwuqUhA.s 			page 140


1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4789              		.loc 1 1599 23 is_stmt 0 discriminator 4 view .LVU1473
 4790 0020 3368     		ldr	r3, [r6]
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4791              		.loc 1 1599 9 discriminator 4 view .LVU1474
 4792 0022 2946     		mov	r1, r5
 4793 0024 5868     		ldr	r0, [r3, #4]
 4794 0026 FFF7FEFF 		bl	tcp_recved
 4795              	.LVL471:
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4796              		.loc 1 1600 9 is_stmt 1 discriminator 4 view .LVU1475
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4797              		.loc 1 1600 9 is_stmt 0 discriminator 4 view .LVU1476
 4798              	.LBE25:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4799              		.loc 1 1601 15 is_stmt 1 discriminator 4 view .LVU1477
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4800              		.loc 1 1601 7 is_stmt 0 discriminator 4 view .LVU1478
 4801 002a 641B     		subs	r4, r4, r5
 4802              	.LVL472:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4803              		.loc 1 1601 7 discriminator 4 view .LVU1479
 4804 002c F4D0     		beq	.L391
 4805              	.LVL473:
 4806              	.L394:
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
 4807              		.loc 1 1597 7 is_stmt 1 view .LVU1480
 4808              	.LBB26:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4809              		.loc 1 1598 9 view .LVU1481
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4810              		.loc 1 1598 24 is_stmt 0 view .LVU1482
 4811 002e B4F5803F 		cmp	r4, #65536
 4812 0032 F4D3     		bcc	.L401
 4813 0034 4FF6FF75 		movw	r5, #65535
 4814 0038 F2E7     		b	.L393
 4815              	.LVL474:
 4816              	.L397:
 4817              	.LCFI33:
 4818              		.cfi_def_cfa_offset 0
 4819              		.cfi_restore 4
 4820              		.cfi_restore 5
 4821              		.cfi_restore 6
 4822              		.cfi_restore 14
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4823              		.loc 1 1598 24 view .LVU1483
 4824 003a 7047     		bx	lr
 4825              	.LBE26:
 4826              	.LBE24:
 4827              		.cfi_endproc
 4828              	.LFE182:
 4830              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4831              		.align	2
 4832              	.LC39:
 4833 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4833      3E6D7367 
 4833      2E772E6C 
ARM GAS  /tmp/ccwuqUhA.s 			page 141


 4833      656E2021 
 4833      3D203000 
 4834              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4835              		.align	1
 4836              		.global	lwip_netconn_do_write
 4837              		.syntax unified
 4838              		.thumb
 4839              		.thumb_func
 4840              		.fpu fpv4-sp-d16
 4842              	lwip_netconn_do_write:
 4843              	.LVL475:
 4844              	.LFB184:
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4845              		.loc 1 1814 1 is_stmt 1 view -0
 4846              		.cfi_startproc
 4847              		@ args = 0, pretend = 0, frame = 0
 4848              		@ frame_needed = 0, uses_anonymous_args = 0
 4849              		.loc 1 1814 1 is_stmt 0 view .LVU1485
 4850 0000 38B5     		push	{r3, r4, r5, lr}
 4851              	.LCFI34:
 4852              		.cfi_def_cfa_offset 16
 4853              		.cfi_offset 3, -16
 4854              		.cfi_offset 4, -12
 4855              		.cfi_offset 5, -8
 4856              		.cfi_offset 14, -4
 4857 0002 0446     		mov	r4, r0
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4858              		.loc 1 1815 3 is_stmt 1 view .LVU1486
 4859              	.LVL476:
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4860              		.loc 1 1817 3 view .LVU1487
 4861              		.loc 1 1817 15 is_stmt 0 view .LVU1488
 4862 0004 0068     		ldr	r0, [r0]
 4863              	.LVL477:
 4864              		.loc 1 1817 15 view .LVU1489
 4865 0006 FFF7FEFF 		bl	netconn_err
 4866              	.LVL478:
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4867              		.loc 1 1818 3 is_stmt 1 view .LVU1490
 4868              		.loc 1 1818 6 is_stmt 0 view .LVU1491
 4869 000a 0346     		mov	r3, r0
 4870 000c 38B9     		cbnz	r0, .L403
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4871              		.loc 1 1819 5 is_stmt 1 view .LVU1492
 4872              		.loc 1 1819 9 is_stmt 0 view .LVU1493
 4873 000e 2268     		ldr	r2, [r4]
ARM GAS  /tmp/ccwuqUhA.s 			page 142


 4874 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4875              		.loc 1 1819 8 view .LVU1494
 4876 0012 03F0F003 		and	r3, r3, #240
 4877 0016 102B     		cmp	r3, #16
 4878 0018 03D0     		beq	.L413
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_INPROGRESS;
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1847:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
1849:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1850:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
 4879              		.loc 1 1852 11 view .LVU1495
 4880 001a 6FF00503 		mvn	r3, #5
 4881              	.L403:
 4882              	.LVL479:
1853:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 4883              		.loc 1 1856 3 is_stmt 1 view .LVU1496
 4884              		.loc 1 1856 12 is_stmt 0 view .LVU1497
 4885 001e 2371     		strb	r3, [r4, #4]
1857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4886              		.loc 1 1857 24 is_stmt 1 view .LVU1498
 4887              	.LVL480:
 4888              	.L402:
1858:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4889              		.loc 1 1858 1 is_stmt 0 view .LVU1499
 4890 0020 38BD     		pop	{r3, r4, r5, pc}
 4891              	.LVL481:
ARM GAS  /tmp/ccwuqUhA.s 			page 143


 4892              	.L413:
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4893              		.loc 1 1821 7 is_stmt 1 view .LVU1500
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4894              		.loc 1 1821 20 is_stmt 0 view .LVU1501
 4895 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4896              		.loc 1 1821 10 view .LVU1502
 4897 0024 002B     		cmp	r3, #0
 4898 0026 44D1     		bne	.L410
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4899              		.loc 1 1824 14 is_stmt 1 view .LVU1503
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4900              		.loc 1 1824 32 is_stmt 0 view .LVU1504
 4901 0028 5368     		ldr	r3, [r2, #4]
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4902              		.loc 1 1824 17 view .LVU1505
 4903 002a 002B     		cmp	r3, #0
 4904 002c 44D0     		beq	.L411
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4905              		.loc 1 1825 9 is_stmt 1 view .LVU1506
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4906              		.loc 1 1825 26 is_stmt 0 view .LVU1507
 4907 002e 0123     		movs	r3, #1
 4908 0030 5370     		strb	r3, [r2, #1]
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4909              		.loc 1 1827 9 is_stmt 1 view .LVU1508
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4910              		.loc 1 1827 9 view .LVU1509
 4911 0032 2368     		ldr	r3, [r4]
 4912 0034 1B6A     		ldr	r3, [r3, #32]
 4913 0036 33B1     		cbz	r3, .L404
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4914              		.loc 1 1827 9 discriminator 1 view .LVU1510
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4915              		.loc 1 1827 9 discriminator 1 view .LVU1511
 4916 0038 214B     		ldr	r3, .L416
 4917 003a 40F22372 		movw	r2, #1827
 4918 003e 2149     		ldr	r1, .L416+4
 4919 0040 2148     		ldr	r0, .L416+8
 4920              	.LVL482:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4921              		.loc 1 1827 9 is_stmt 0 discriminator 1 view .LVU1512
 4922 0042 FFF7FEFF 		bl	printf
 4923              	.LVL483:
 4924              	.L404:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4925              		.loc 1 1827 9 is_stmt 1 discriminator 3 view .LVU1513
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4926              		.loc 1 1827 9 discriminator 3 view .LVU1514
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4927              		.loc 1 1828 9 discriminator 3 view .LVU1515
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4928              		.loc 1 1828 9 discriminator 3 view .LVU1516
 4929 0046 6369     		ldr	r3, [r4, #20]
 4930 0048 1BB3     		cbz	r3, .L414
 4931              	.L405:
ARM GAS  /tmp/ccwuqUhA.s 			page 144


1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4932              		.loc 1 1828 9 discriminator 3 view .LVU1517
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4933              		.loc 1 1828 9 discriminator 3 view .LVU1518
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4934              		.loc 1 1829 9 discriminator 3 view .LVU1519
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4935              		.loc 1 1829 12 is_stmt 0 discriminator 3 view .LVU1520
 4936 004a 2368     		ldr	r3, [r4]
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4937              		.loc 1 1829 32 discriminator 3 view .LVU1521
 4938 004c 1C62     		str	r4, [r3, #32]
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4939              		.loc 1 1831 9 is_stmt 1 discriminator 3 view .LVU1522
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4940              		.loc 1 1831 13 is_stmt 0 discriminator 3 view .LVU1523
 4941 004e 0021     		movs	r1, #0
 4942 0050 2068     		ldr	r0, [r4]
 4943 0052 FFF7FEFF 		bl	lwip_netconn_do_writemore
 4944              	.LVL484:
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4945              		.loc 1 1831 12 discriminator 3 view .LVU1524
 4946 0056 0028     		cmp	r0, #0
 4947 0058 E2D0     		beq	.L402
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4948              		.loc 1 1832 11 is_stmt 1 view .LVU1525
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4949              		.loc 1 1832 11 view .LVU1526
 4950 005a 2368     		ldr	r3, [r4]
 4951 005c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4952 005e 012B     		cmp	r3, #1
 4953 0060 1FD1     		bne	.L415
 4954              	.L407:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4955              		.loc 1 1832 11 discriminator 3 view .LVU1527
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4956              		.loc 1 1832 11 discriminator 3 view .LVU1528
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4957              		.loc 1 1833 11 discriminator 3 view .LVU1529
 4958 0062 1A4D     		ldr	r5, .L416+12
 4959 0064 2846     		mov	r0, r5
 4960 0066 FFF7FEFF 		bl	sys_mutex_unlock
 4961              	.LVL485:
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4962              		.loc 1 1834 11 discriminator 3 view .LVU1530
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4963              		.loc 1 1834 29 is_stmt 0 discriminator 3 view .LVU1531
 4964 006a 2068     		ldr	r0, [r4]
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4965              		.loc 1 1834 11 discriminator 3 view .LVU1532
 4966 006c 0021     		movs	r1, #0
 4967 006e 0C30     		adds	r0, r0, #12
 4968 0070 FFF7FEFF 		bl	sys_arch_sem_wait
 4969              	.LVL486:
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 4970              		.loc 1 1835 11 is_stmt 1 discriminator 3 view .LVU1533
 4971 0074 2846     		mov	r0, r5
ARM GAS  /tmp/ccwuqUhA.s 			page 145


 4972 0076 FFF7FEFF 		bl	sys_mutex_lock
 4973              	.LVL487:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4974              		.loc 1 1836 11 discriminator 3 view .LVU1534
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4975              		.loc 1 1836 11 discriminator 3 view .LVU1535
 4976 007a 2368     		ldr	r3, [r4]
 4977 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4978 007e 012B     		cmp	r3, #1
 4979 0080 CED1     		bne	.L402
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4980              		.loc 1 1836 11 discriminator 1 view .LVU1536
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4981              		.loc 1 1836 11 discriminator 1 view .LVU1537
 4982 0082 0F4B     		ldr	r3, .L416
 4983 0084 40F22C72 		movw	r2, #1836
 4984 0088 1149     		ldr	r1, .L416+16
 4985 008a 0F48     		ldr	r0, .L416+8
 4986 008c FFF7FEFF 		bl	printf
 4987              	.LVL488:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4988              		.loc 1 1836 11 discriminator 1 view .LVU1538
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4989              		.loc 1 1836 11 discriminator 1 view .LVU1539
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4990              		.loc 1 1843 9 discriminator 1 view .LVU1540
 4991 0090 C6E7     		b	.L402
 4992              	.L414:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4993              		.loc 1 1828 9 discriminator 1 view .LVU1541
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4994              		.loc 1 1828 9 discriminator 1 view .LVU1542
 4995 0092 0B4B     		ldr	r3, .L416
 4996 0094 40F22472 		movw	r2, #1828
 4997 0098 0E49     		ldr	r1, .L416+20
 4998 009a 0B48     		ldr	r0, .L416+8
 4999 009c FFF7FEFF 		bl	printf
 5000              	.LVL489:
 5001 00a0 D3E7     		b	.L405
 5002              	.L415:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 5003              		.loc 1 1832 11 discriminator 1 view .LVU1543
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 5004              		.loc 1 1832 11 discriminator 1 view .LVU1544
 5005 00a2 074B     		ldr	r3, .L416
 5006 00a4 4FF4E562 		mov	r2, #1832
 5007 00a8 0949     		ldr	r1, .L416+16
 5008 00aa 0748     		ldr	r0, .L416+8
 5009 00ac FFF7FEFF 		bl	printf
 5010              	.LVL490:
 5011 00b0 D7E7     		b	.L407
 5012              	.LVL491:
 5013              	.L410:
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 5014              		.loc 1 1823 13 is_stmt 0 view .LVU1545
 5015 00b2 6FF00403 		mvn	r3, #4
 5016 00b6 B2E7     		b	.L403
ARM GAS  /tmp/ccwuqUhA.s 			page 146


 5017              	.L411:
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5018              		.loc 1 1845 13 view .LVU1546
 5019 00b8 6FF00A03 		mvn	r3, #10
 5020 00bc AFE7     		b	.L403
 5021              	.L417:
 5022 00be 00BF     		.align	2
 5023              	.L416:
 5024 00c0 00000000 		.word	.LC0
 5025 00c4 34000000 		.word	.LC36
 5026 00c8 40000000 		.word	.LC2
 5027 00cc 00000000 		.word	lock_tcpip_core
 5028 00d0 50000000 		.word	.LC37
 5029 00d4 00000000 		.word	.LC39
 5030              		.cfi_endproc
 5031              	.LFE184:
 5033              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 5034              		.align	2
 5035              	.LC40:
 5036 0000 696E7661 		.ascii	"invalid netconn_type\000"
 5036      6C696420 
 5036      6E657463 
 5036      6F6E6E5F 
 5036      74797065 
 5037              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 5038              		.align	1
 5039              		.global	lwip_netconn_do_getaddr
 5040              		.syntax unified
 5041              		.thumb
 5042              		.thumb_func
 5043              		.fpu fpv4-sp-d16
 5045              	lwip_netconn_do_getaddr:
 5046              	.LVL492:
 5047              	.LFB185:
1859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1866:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1868:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5048              		.loc 1 1868 1 is_stmt 1 view -0
 5049              		.cfi_startproc
 5050              		@ args = 0, pretend = 0, frame = 0
 5051              		@ frame_needed = 0, uses_anonymous_args = 0
 5052              		.loc 1 1868 1 is_stmt 0 view .LVU1548
 5053 0000 08B5     		push	{r3, lr}
 5054              	.LCFI35:
 5055              		.cfi_def_cfa_offset 8
 5056              		.cfi_offset 3, -8
 5057              		.cfi_offset 14, -4
1869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5058              		.loc 1 1869 3 is_stmt 1 view .LVU1549
 5059              	.LVL493:
ARM GAS  /tmp/ccwuqUhA.s 			page 147


1870:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 5060              		.loc 1 1871 3 view .LVU1550
 5061              		.loc 1 1871 10 is_stmt 0 view .LVU1551
 5062 0002 0368     		ldr	r3, [r0]
 5063              		.loc 1 1871 21 view .LVU1552
 5064 0004 5B68     		ldr	r3, [r3, #4]
 5065              		.loc 1 1871 6 view .LVU1553
 5066 0006 002B     		cmp	r3, #0
 5067 0008 3FD0     		beq	.L419
1872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 5068              		.loc 1 1872 5 is_stmt 1 view .LVU1554
 5069              		.loc 1 1872 20 is_stmt 0 view .LVU1555
 5070 000a 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 5071              		.loc 1 1872 8 view .LVU1556
 5072 000c 9AB1     		cbz	r2, .L420
1873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5073              		.loc 1 1873 7 is_stmt 1 view .LVU1557
 5074 000e 8268     		ldr	r2, [r0, #8]
 5075 0010 1B68     		ldr	r3, [r3]
 5076 0012 1360     		str	r3, [r2]
 5077              	.L421:
1874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->local_ip);
1875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
1878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1879:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 5078              		.loc 1 1880 5 view .LVU1558
 5079              		.loc 1 1880 14 is_stmt 0 view .LVU1559
 5080 0014 0023     		movs	r3, #0
 5081 0016 0371     		strb	r3, [r0, #4]
1881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 5082              		.loc 1 1881 5 is_stmt 1 view .LVU1560
 5083              		.loc 1 1881 13 is_stmt 0 view .LVU1561
 5084 0018 0268     		ldr	r2, [r0]
 5085 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5086 001c 03F0F003 		and	r3, r3, #240
 5087              		.loc 1 1881 5 view .LVU1562
 5088 0020 102B     		cmp	r3, #16
 5089 0022 18D0     		beq	.L422
 5090 0024 202B     		cmp	r3, #32
 5091 0026 28D1     		bne	.L423
1882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
1885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* return an error as connecting is only a helper for upper layers */
1888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
ARM GAS  /tmp/ccwuqUhA.s 			page 148


 5092              		.loc 1 1894 9 is_stmt 1 view .LVU1563
 5093              		.loc 1 1894 24 is_stmt 0 view .LVU1564
 5094 0028 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5095              		.loc 1 1894 12 view .LVU1565
 5096 002a 43B1     		cbz	r3, .L424
1895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 5097              		.loc 1 1895 11 is_stmt 1 view .LVU1566
 5098              		.loc 1 1895 60 is_stmt 0 view .LVU1567
 5099 002c 5268     		ldr	r2, [r2, #4]
 5100              		.loc 1 1895 11 view .LVU1568
 5101 002e C368     		ldr	r3, [r0, #12]
 5102              		.loc 1 1895 64 view .LVU1569
 5103 0030 528A     		ldrh	r2, [r2, #18]
 5104              		.loc 1 1895 44 view .LVU1570
 5105 0032 1A80     		strh	r2, [r3]	@ movhi
 5106 0034 2BE0     		b	.L418
 5107              	.L420:
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
 5108              		.loc 1 1876 7 is_stmt 1 view .LVU1571
 5109 0036 8268     		ldr	r2, [r0, #8]
 5110 0038 5B68     		ldr	r3, [r3, #4]
 5111 003a 1360     		str	r3, [r2]
 5112 003c EAE7     		b	.L421
 5113              	.L424:
1896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
 5114              		.loc 1 1897 11 view .LVU1572
 5115              		.loc 1 1897 30 is_stmt 0 view .LVU1573
 5116 003e 5368     		ldr	r3, [r2, #4]
 5117              		.loc 1 1897 34 view .LVU1574
 5118 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 5119              		.loc 1 1897 14 view .LVU1575
 5120 0042 12F0040F 		tst	r2, #4
 5121 0046 02D1     		bne	.L426
1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5122              		.loc 1 1898 13 is_stmt 1 view .LVU1576
 5123              		.loc 1 1898 22 is_stmt 0 view .LVU1577
 5124 0048 F523     		movs	r3, #245
 5125 004a 0371     		strb	r3, [r0, #4]
 5126 004c 1FE0     		b	.L418
 5127              	.L426:
1899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
 5128              		.loc 1 1900 13 is_stmt 1 view .LVU1578
 5129 004e C268     		ldr	r2, [r0, #12]
 5130              		.loc 1 1900 66 is_stmt 0 view .LVU1579
 5131 0050 9B8A     		ldrh	r3, [r3, #20]
 5132              		.loc 1 1900 46 view .LVU1580
 5133 0052 1380     		strh	r3, [r2]	@ movhi
 5134 0054 1BE0     		b	.L418
 5135              	.L422:
1901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1904:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1905:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
ARM GAS  /tmp/ccwuqUhA.s 			page 149


1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->msg.ad.local == 0) &&
 5136              		.loc 1 1907 9 is_stmt 1 view .LVU1581
 5137              		.loc 1 1907 25 is_stmt 0 view .LVU1582
 5138 0056 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5139              		.loc 1 1907 12 view .LVU1583
 5140 0058 1BB9     		cbnz	r3, .L427
1908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5141              		.loc 1 1908 29 discriminator 1 view .LVU1584
 5142 005a 5168     		ldr	r1, [r2, #4]
 5143              		.loc 1 1908 33 discriminator 1 view .LVU1585
 5144 005c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5145              		.loc 1 1907 38 discriminator 1 view .LVU1586
 5146 005e 0129     		cmp	r1, #1
 5147 0060 05D9     		bls	.L431
 5148              	.L427:
1909:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb is not connected and remote name is requested */
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : 
 5149              		.loc 1 1912 11 is_stmt 1 view .LVU1587
 5150              		.loc 1 1912 44 is_stmt 0 view .LVU1588
 5151 0062 3BB1     		cbz	r3, .L428
 5152              		.loc 1 1912 81 discriminator 1 view .LVU1589
 5153 0064 5368     		ldr	r3, [r2, #4]
 5154              		.loc 1 1912 44 discriminator 1 view .LVU1590
 5155 0066 DA8A     		ldrh	r2, [r3, #22]
 5156              	.L429:
 5157              		.loc 1 1912 11 discriminator 4 view .LVU1591
 5158 0068 C368     		ldr	r3, [r0, #12]
 5159              		.loc 1 1912 44 discriminator 4 view .LVU1592
 5160 006a 1A80     		strh	r2, [r3]	@ movhi
 5161 006c 0FE0     		b	.L418
 5162              	.L431:
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5163              		.loc 1 1910 11 is_stmt 1 view .LVU1593
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5164              		.loc 1 1910 20 is_stmt 0 view .LVU1594
 5165 006e F523     		movs	r3, #245
 5166 0070 0371     		strb	r3, [r0, #4]
 5167 0072 0CE0     		b	.L418
 5168              	.L428:
 5169              		.loc 1 1912 114 discriminator 2 view .LVU1595
 5170 0074 5368     		ldr	r3, [r2, #4]
 5171              		.loc 1 1912 44 discriminator 2 view .LVU1596
 5172 0076 1A8B     		ldrh	r2, [r3, #24]
 5173 0078 F6E7     		b	.L429
 5174              	.L423:
1913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1915:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("invalid netconn_type", 0);
 5175              		.loc 1 1917 9 is_stmt 1 discriminator 1 view .LVU1597
 5176              		.loc 1 1917 9 discriminator 1 view .LVU1598
 5177              		.loc 1 1917 9 discriminator 1 view .LVU1599
 5178              		.loc 1 1917 9 discriminator 1 view .LVU1600
ARM GAS  /tmp/ccwuqUhA.s 			page 150


 5179 007a 054B     		ldr	r3, .L432
 5180 007c 40F27D72 		movw	r2, #1917
 5181 0080 0449     		ldr	r1, .L432+4
 5182 0082 0548     		ldr	r0, .L432+8
 5183              	.LVL494:
 5184              		.loc 1 1917 9 is_stmt 0 discriminator 1 view .LVU1601
 5185 0084 FFF7FEFF 		bl	printf
 5186              	.LVL495:
 5187              		.loc 1 1917 9 is_stmt 1 discriminator 1 view .LVU1602
 5188              		.loc 1 1917 9 discriminator 1 view .LVU1603
1918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5189              		.loc 1 1918 9 discriminator 1 view .LVU1604
 5190 0088 01E0     		b	.L418
 5191              	.LVL496:
 5192              	.L419:
1919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5193              		.loc 1 1921 5 view .LVU1605
 5194              		.loc 1 1921 14 is_stmt 0 view .LVU1606
 5195 008a F523     		movs	r3, #245
 5196 008c 0371     		strb	r3, [r0, #4]
1922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5197              		.loc 1 1923 24 is_stmt 1 view .LVU1607
 5198              	.LVL497:
 5199              	.L418:
1924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5200              		.loc 1 1924 1 is_stmt 0 view .LVU1608
 5201 008e 08BD     		pop	{r3, pc}
 5202              	.L433:
 5203              		.align	2
 5204              	.L432:
 5205 0090 00000000 		.word	.LC0
 5206 0094 00000000 		.word	.LC40
 5207 0098 40000000 		.word	.LC2
 5208              		.cfi_endproc
 5209              	.LFE185:
 5211              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5212              		.align	1
 5213              		.global	lwip_netconn_do_close
 5214              		.syntax unified
 5215              		.thumb
 5216              		.thumb_func
 5217              		.fpu fpv4-sp-d16
 5219              	lwip_netconn_do_close:
 5220              	.LVL498:
 5221              	.LFB186:
1925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
ARM GAS  /tmp/ccwuqUhA.s 			page 151


1934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5222              		.loc 1 1935 1 is_stmt 1 view -0
 5223              		.cfi_startproc
 5224              		@ args = 0, pretend = 0, frame = 0
 5225              		@ frame_needed = 0, uses_anonymous_args = 0
 5226              		.loc 1 1935 1 is_stmt 0 view .LVU1610
 5227 0000 38B5     		push	{r3, r4, r5, lr}
 5228              	.LCFI36:
 5229              		.cfi_def_cfa_offset 16
 5230              		.cfi_offset 3, -16
 5231              		.cfi_offset 4, -12
 5232              		.cfi_offset 5, -8
 5233              		.cfi_offset 14, -4
 5234 0002 0446     		mov	r4, r0
1936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5235              		.loc 1 1936 3 is_stmt 1 view .LVU1611
 5236              	.LVL499:
1937:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5237              		.loc 1 1939 3 view .LVU1612
 5238              		.loc 1 1939 33 is_stmt 0 view .LVU1613
 5239 0004 0068     		ldr	r0, [r0]
 5240              	.LVL500:
 5241              		.loc 1 1939 22 view .LVU1614
 5242 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5243              	.LVL501:
1940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5244              		.loc 1 1942 3 is_stmt 1 view .LVU1615
 5245              		.loc 1 1942 22 is_stmt 0 view .LVU1616
 5246 0008 4368     		ldr	r3, [r0, #4]
 5247              		.loc 1 1942 6 view .LVU1617
 5248 000a 23B1     		cbz	r3, .L435
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5249              		.loc 1 1943 8 discriminator 1 view .LVU1618
 5250 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5251              		.loc 1 1942 36 discriminator 1 view .LVU1619
 5252 000e 03F0F003 		and	r3, r3, #240
 5253 0012 102B     		cmp	r3, #16
 5254 0014 02D0     		beq	.L445
 5255              	.L435:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
1947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1950:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t *write_completed_sem;
1954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
ARM GAS  /tmp/ccwuqUhA.s 			page 152


1956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
1965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1969:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1972:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1974:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Mark mboxes invalid */
1976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_mark_mbox_invalid(msg->conn);
1977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
1979:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
1984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1992:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1994:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
1997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1999:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
2000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
2001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5256              		.loc 1 2001 5 is_stmt 1 view .LVU1620
 5257              		.loc 1 2001 14 is_stmt 0 view .LVU1621
 5258 0016 F523     		movs	r3, #245
 5259 0018 2371     		strb	r3, [r4, #4]
2002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5260              		.loc 1 2003 24 is_stmt 1 view .LVU1622
 5261              	.LVL502:
 5262              	.L434:
2004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5263              		.loc 1 2004 1 is_stmt 0 view .LVU1623
ARM GAS  /tmp/ccwuqUhA.s 			page 153


 5264 001a 38BD     		pop	{r3, r4, r5, pc}
 5265              	.LVL503:
 5266              	.L445:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5267              		.loc 1 1944 20 view .LVU1624
 5268 001c 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5269              		.loc 1 1943 59 view .LVU1625
 5270 001e 032B     		cmp	r3, #3
 5271 0020 01D0     		beq	.L436
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 5272              		.loc 1 1944 48 view .LVU1626
 5273 0022 022A     		cmp	r2, #2
 5274 0024 F7D0     		beq	.L435
 5275              	.L436:
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5276              		.loc 1 1946 5 is_stmt 1 view .LVU1627
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5277              		.loc 1 1946 8 is_stmt 0 view .LVU1628
 5278 0026 032A     		cmp	r2, #3
 5279 0028 04D0     		beq	.L446
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5280              		.loc 1 1949 12 is_stmt 1 view .LVU1629
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5281              		.loc 1 1949 15 is_stmt 0 view .LVU1630
 5282 002a 012A     		cmp	r2, #1
 5283 002c 05D1     		bne	.L439
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5284              		.loc 1 1970 7 is_stmt 1 view .LVU1631
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5285              		.loc 1 1970 16 is_stmt 0 view .LVU1632
 5286 002e FB23     		movs	r3, #251
 5287 0030 2371     		strb	r3, [r4, #4]
 5288 0032 F2E7     		b	.L434
 5289              	.L446:
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5290              		.loc 1 1948 7 is_stmt 1 view .LVU1633
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5291              		.loc 1 1948 16 is_stmt 0 view .LVU1634
 5292 0034 F523     		movs	r3, #245
 5293 0036 2371     		strb	r3, [r4, #4]
 5294 0038 EFE7     		b	.L434
 5295              	.L439:
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5296              		.loc 1 1973 7 is_stmt 1 view .LVU1635
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5297              		.loc 1 1973 10 is_stmt 0 view .LVU1636
 5298 003a 13F0010F 		tst	r3, #1
 5299 003e 30D1     		bne	.L447
 5300              	.LVL504:
 5301              	.L440:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5302              		.loc 1 1981 7 is_stmt 1 view .LVU1637
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5303              		.loc 1 1981 7 view .LVU1638
 5304 0040 2368     		ldr	r3, [r4]
 5305 0042 1B6A     		ldr	r3, [r3, #32]
ARM GAS  /tmp/ccwuqUhA.s 			page 154


 5306 0044 33B1     		cbz	r3, .L441
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5307              		.loc 1 1981 7 discriminator 1 view .LVU1639
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5308              		.loc 1 1981 7 discriminator 1 view .LVU1640
 5309 0046 1C4B     		ldr	r3, .L449
 5310 0048 40F2BD72 		movw	r2, #1981
 5311 004c 1B49     		ldr	r1, .L449+4
 5312 004e 1C48     		ldr	r0, .L449+8
 5313 0050 FFF7FEFF 		bl	printf
 5314              	.LVL505:
 5315              	.L441:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5316              		.loc 1 1981 7 discriminator 3 view .LVU1641
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5317              		.loc 1 1981 7 discriminator 3 view .LVU1642
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5318              		.loc 1 1982 7 discriminator 3 view .LVU1643
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5319              		.loc 1 1982 10 is_stmt 0 discriminator 3 view .LVU1644
 5320 0054 2368     		ldr	r3, [r4]
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5321              		.loc 1 1982 24 discriminator 3 view .LVU1645
 5322 0056 0422     		movs	r2, #4
 5323 0058 5A70     		strb	r2, [r3, #1]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5324              		.loc 1 1983 7 is_stmt 1 discriminator 3 view .LVU1646
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5325              		.loc 1 1983 10 is_stmt 0 discriminator 3 view .LVU1647
 5326 005a 2368     		ldr	r3, [r4]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5327              		.loc 1 1983 30 discriminator 3 view .LVU1648
 5328 005c 1C62     		str	r4, [r3, #32]
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5329              		.loc 1 1985 7 is_stmt 1 discriminator 3 view .LVU1649
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5330              		.loc 1 1985 11 is_stmt 0 discriminator 3 view .LVU1650
 5331 005e 0021     		movs	r1, #0
 5332 0060 2068     		ldr	r0, [r4]
 5333 0062 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5334              	.LVL506:
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5335              		.loc 1 1985 10 discriminator 3 view .LVU1651
 5336 0066 0028     		cmp	r0, #0
 5337 0068 D7D0     		beq	.L434
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5338              		.loc 1 1986 9 is_stmt 1 view .LVU1652
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5339              		.loc 1 1986 9 view .LVU1653
 5340 006a 2368     		ldr	r3, [r4]
 5341 006c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5342 006e 042B     		cmp	r3, #4
 5343 0070 1AD1     		bne	.L448
 5344              	.L443:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5345              		.loc 1 1986 9 discriminator 3 view .LVU1654
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
ARM GAS  /tmp/ccwuqUhA.s 			page 155


 5346              		.loc 1 1986 9 discriminator 3 view .LVU1655
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5347              		.loc 1 1987 9 discriminator 3 view .LVU1656
 5348 0072 144D     		ldr	r5, .L449+12
 5349 0074 2846     		mov	r0, r5
 5350 0076 FFF7FEFF 		bl	sys_mutex_unlock
 5351              	.LVL507:
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5352              		.loc 1 1988 9 discriminator 3 view .LVU1657
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5353              		.loc 1 1988 27 is_stmt 0 discriminator 3 view .LVU1658
 5354 007a 2068     		ldr	r0, [r4]
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5355              		.loc 1 1988 9 discriminator 3 view .LVU1659
 5356 007c 0021     		movs	r1, #0
 5357 007e 0C30     		adds	r0, r0, #12
 5358 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 5359              	.LVL508:
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5360              		.loc 1 1989 9 is_stmt 1 discriminator 3 view .LVU1660
 5361 0084 2846     		mov	r0, r5
 5362 0086 FFF7FEFF 		bl	sys_mutex_lock
 5363              	.LVL509:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5364              		.loc 1 1990 9 discriminator 3 view .LVU1661
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5365              		.loc 1 1990 9 discriminator 3 view .LVU1662
 5366 008a 2368     		ldr	r3, [r4]
 5367 008c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5368 008e 002B     		cmp	r3, #0
 5369 0090 C3D0     		beq	.L434
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5370              		.loc 1 1990 9 discriminator 1 view .LVU1663
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5371              		.loc 1 1990 9 discriminator 1 view .LVU1664
 5372 0092 094B     		ldr	r3, .L449
 5373 0094 40F2C672 		movw	r2, #1990
 5374 0098 0B49     		ldr	r1, .L449+16
 5375 009a 0948     		ldr	r0, .L449+8
 5376 009c FFF7FEFF 		bl	printf
 5377              	.LVL510:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5378              		.loc 1 1990 9 discriminator 1 view .LVU1665
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5379              		.loc 1 1990 9 discriminator 1 view .LVU1666
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 5380              		.loc 1 1996 7 discriminator 1 view .LVU1667
 5381 00a0 BBE7     		b	.L434
 5382              	.LVL511:
 5383              	.L447:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5384              		.loc 1 1978 9 view .LVU1668
 5385 00a2 FFF7FEFF 		bl	netconn_drain
 5386              	.LVL512:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5387              		.loc 1 1978 9 is_stmt 0 view .LVU1669
 5388 00a6 CBE7     		b	.L440
ARM GAS  /tmp/ccwuqUhA.s 			page 156


 5389              	.L448:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5390              		.loc 1 1986 9 is_stmt 1 discriminator 1 view .LVU1670
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5391              		.loc 1 1986 9 discriminator 1 view .LVU1671
 5392 00a8 034B     		ldr	r3, .L449
 5393 00aa 40F2C272 		movw	r2, #1986
 5394 00ae 0649     		ldr	r1, .L449+16
 5395 00b0 0348     		ldr	r0, .L449+8
 5396 00b2 FFF7FEFF 		bl	printf
 5397              	.LVL513:
 5398 00b6 DCE7     		b	.L443
 5399              	.L450:
 5400              		.align	2
 5401              	.L449:
 5402 00b8 00000000 		.word	.LC0
 5403 00bc 34000000 		.word	.LC36
 5404 00c0 40000000 		.word	.LC2
 5405 00c4 00000000 		.word	lock_tcpip_core
 5406 00c8 50000000 		.word	.LC37
 5407              		.cfi_endproc
 5408              	.LFE186:
 5410              		.global	netconn_closed
 5411              		.global	netconn_reset
 5412              		.global	netconn_aborted
 5413              		.section	.rodata.netconn_aborted,"a"
 5414              		.set	.LANCHOR2,. + 0
 5417              	netconn_aborted:
 5418 0000 00       		.space	1
 5419              		.section	.rodata.netconn_closed,"a"
 5420              		.set	.LANCHOR1,. + 0
 5423              	netconn_closed:
 5424 0000 00       		.space	1
 5425              		.section	.rodata.netconn_reset,"a"
 5426              		.set	.LANCHOR0,. + 0
 5429              	netconn_reset:
 5430 0000 00       		.space	1
 5431              		.text
 5432              	.Letext0:
 5433              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 5434              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 5435              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5436              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 5437              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 5438              		.file 7 "/usr/include/newlib/sys/_types.h"
 5439              		.file 8 "/usr/include/newlib/sys/reent.h"
 5440              		.file 9 "/usr/include/newlib/sys/lock.h"
 5441              		.file 10 "/usr/include/newlib/stdlib.h"
 5442              		.file 11 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5443              		.file 12 "/usr/include/newlib/time.h"
 5444              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5445              		.file 14 "/usr/include/newlib/ctype.h"
 5446              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5447              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5448              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5449              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 5450              		.file 19 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
ARM GAS  /tmp/ccwuqUhA.s 			page 157


 5451              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5452              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5453              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 5454              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5455              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5456              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5457              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5458              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5459              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5460              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 5461              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 5462              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5463              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 5464              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 5465              		.file 34 "/usr/include/newlib/stdio.h"
 5466              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
ARM GAS  /tmp/ccwuqUhA.s 			page 158


DEFINED SYMBOLS
                            *ABS*:0000000000000000 api_msg.c
     /tmp/ccwuqUhA.s:18     .rodata.lwip_netconn_err_to_msg.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:28     .text.lwip_netconn_err_to_msg:0000000000000000 $t
     /tmp/ccwuqUhA.s:35     .text.lwip_netconn_err_to_msg:0000000000000000 lwip_netconn_err_to_msg
     /tmp/ccwuqUhA.s:108    .text.lwip_netconn_err_to_msg:0000000000000038 $d
     /tmp/ccwuqUhA.s:118    .rodata.recv_udp.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:128    .text.recv_udp:0000000000000000 $t
     /tmp/ccwuqUhA.s:134    .text.recv_udp:0000000000000000 recv_udp
     /tmp/ccwuqUhA.s:329    .text.recv_udp:00000000000000b0 $d
     /tmp/ccwuqUhA.s:338    .text.setup_tcp:0000000000000000 $t
     /tmp/ccwuqUhA.s:344    .text.setup_tcp:0000000000000000 setup_tcp
     /tmp/ccwuqUhA.s:397    .text.setup_tcp:0000000000000030 $d
     /tmp/ccwuqUhA.s:2528   .text.recv_tcp:0000000000000000 recv_tcp
     /tmp/ccwuqUhA.s:2391   .text.sent_tcp:0000000000000000 sent_tcp
     /tmp/ccwuqUhA.s:2256   .text.poll_tcp:0000000000000000 poll_tcp
     /tmp/ccwuqUhA.s:571    .text.err_tcp:0000000000000000 err_tcp
     /tmp/ccwuqUhA.s:405    .rodata.pcb_new.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:409    .text.pcb_new:0000000000000000 $t
     /tmp/ccwuqUhA.s:415    .text.pcb_new:0000000000000000 pcb_new
     /tmp/ccwuqUhA.s:544    .text.pcb_new:0000000000000078 $d
     /tmp/ccwuqUhA.s:552    .rodata.err_tcp.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:565    .text.err_tcp:0000000000000000 $t
     /tmp/ccwuqUhA.s:849    .text.err_tcp:000000000000010c $d
     /tmp/ccwuqUhA.s:861    .rodata.lwip_netconn_do_connected.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:872    .text.lwip_netconn_do_connected:0000000000000000 $t
     /tmp/ccwuqUhA.s:878    .text.lwip_netconn_do_connected:0000000000000000 lwip_netconn_do_connected
     /tmp/ccwuqUhA.s:1072   .text.lwip_netconn_do_connected:00000000000000a8 $d
     /tmp/ccwuqUhA.s:1081   .rodata.lwip_netconn_do_writemore.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:1098   .text.lwip_netconn_do_writemore:0000000000000000 $t
     /tmp/ccwuqUhA.s:1104   .text.lwip_netconn_do_writemore:0000000000000000 lwip_netconn_do_writemore
     /tmp/ccwuqUhA.s:1737   .text.lwip_netconn_do_writemore:0000000000000270 $d
     /tmp/ccwuqUhA.s:1750   .rodata.lwip_netconn_do_close_internal.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:1766   .text.lwip_netconn_do_close_internal:0000000000000000 $t
     /tmp/ccwuqUhA.s:1772   .text.lwip_netconn_do_close_internal:0000000000000000 lwip_netconn_do_close_internal
     /tmp/ccwuqUhA.s:2235   .text.lwip_netconn_do_close_internal:00000000000001f4 $d
     /tmp/ccwuqUhA.s:2250   .text.poll_tcp:0000000000000000 $t
     /tmp/ccwuqUhA.s:2378   .text.poll_tcp:0000000000000074 $d
     /tmp/ccwuqUhA.s:2385   .text.sent_tcp:0000000000000000 $t
     /tmp/ccwuqUhA.s:2502   .text.sent_tcp:0000000000000068 $d
     /tmp/ccwuqUhA.s:2509   .rodata.recv_tcp.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:2522   .text.recv_tcp:0000000000000000 $t
     /tmp/ccwuqUhA.s:2723   .text.recv_tcp:00000000000000ac $d
     /tmp/ccwuqUhA.s:2734   .rodata.lwip_netconn_is_err_msg.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:2738   .text.lwip_netconn_is_err_msg:0000000000000000 $t
     /tmp/ccwuqUhA.s:2745   .text.lwip_netconn_is_err_msg:0000000000000000 lwip_netconn_is_err_msg
     /tmp/ccwuqUhA.s:2834   .text.lwip_netconn_is_err_msg:0000000000000044 $d
     /tmp/ccwuqUhA.s:2844   .text.lwip_netconn_do_newconn:0000000000000000 $t
     /tmp/ccwuqUhA.s:2851   .text.lwip_netconn_do_newconn:0000000000000000 lwip_netconn_do_newconn
     /tmp/ccwuqUhA.s:2893   .rodata.netconn_alloc.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:2897   .text.netconn_alloc:0000000000000000 $t
     /tmp/ccwuqUhA.s:2904   .text.netconn_alloc:0000000000000000 netconn_alloc
     /tmp/ccwuqUhA.s:3039   .text.netconn_alloc:000000000000007c $d
     /tmp/ccwuqUhA.s:3046   .rodata.netconn_free.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:3058   .text.netconn_free:0000000000000000 $t
     /tmp/ccwuqUhA.s:3065   .text.netconn_free:0000000000000000 netconn_free
     /tmp/ccwuqUhA.s:3156   .text.netconn_free:0000000000000064 $d
ARM GAS  /tmp/ccwuqUhA.s 			page 159


     /tmp/ccwuqUhA.s:3165   .text.netconn_drain:0000000000000000 $t
     /tmp/ccwuqUhA.s:3171   .text.netconn_drain:0000000000000000 netconn_drain
     /tmp/ccwuqUhA.s:3346   .rodata.accept_function.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:3350   .text.accept_function:0000000000000000 $t
     /tmp/ccwuqUhA.s:3356   .text.accept_function:0000000000000000 accept_function
     /tmp/ccwuqUhA.s:3591   .text.accept_function:00000000000000fc $d
     /tmp/ccwuqUhA.s:3598   .rodata.lwip_netconn_do_delconn.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:3611   .text.lwip_netconn_do_delconn:0000000000000000 $t
     /tmp/ccwuqUhA.s:3618   .text.lwip_netconn_do_delconn:0000000000000000 lwip_netconn_do_delconn
     /tmp/ccwuqUhA.s:3895   .text.lwip_netconn_do_delconn:000000000000012c $d
     /tmp/ccwuqUhA.s:3906   .text.lwip_netconn_do_bind:0000000000000000 $t
     /tmp/ccwuqUhA.s:3913   .text.lwip_netconn_do_bind:0000000000000000 lwip_netconn_do_bind
     /tmp/ccwuqUhA.s:3986   .text.lwip_netconn_do_bind_if:0000000000000000 $t
     /tmp/ccwuqUhA.s:3993   .text.lwip_netconn_do_bind_if:0000000000000000 lwip_netconn_do_bind_if
     /tmp/ccwuqUhA.s:4084   .rodata.lwip_netconn_do_connect.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:4088   .text.lwip_netconn_do_connect:0000000000000000 $t
     /tmp/ccwuqUhA.s:4095   .text.lwip_netconn_do_connect:0000000000000000 lwip_netconn_do_connect
     /tmp/ccwuqUhA.s:4330   .text.lwip_netconn_do_connect:00000000000000e4 $d
     /tmp/ccwuqUhA.s:4340   .text.lwip_netconn_do_disconnect:0000000000000000 $t
     /tmp/ccwuqUhA.s:4347   .text.lwip_netconn_do_disconnect:0000000000000000 lwip_netconn_do_disconnect
     /tmp/ccwuqUhA.s:4397   .text.lwip_netconn_do_listen:0000000000000000 $t
     /tmp/ccwuqUhA.s:4404   .text.lwip_netconn_do_listen:0000000000000000 lwip_netconn_do_listen
     /tmp/ccwuqUhA.s:4623   .text.lwip_netconn_do_listen:00000000000000d4 $d
     /tmp/ccwuqUhA.s:4628   .text.lwip_netconn_do_send:0000000000000000 $t
     /tmp/ccwuqUhA.s:4635   .text.lwip_netconn_do_send:0000000000000000 lwip_netconn_do_send
     /tmp/ccwuqUhA.s:4726   .text.lwip_netconn_do_recv:0000000000000000 $t
     /tmp/ccwuqUhA.s:4733   .text.lwip_netconn_do_recv:0000000000000000 lwip_netconn_do_recv
     /tmp/ccwuqUhA.s:4831   .rodata.lwip_netconn_do_write.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:4835   .text.lwip_netconn_do_write:0000000000000000 $t
     /tmp/ccwuqUhA.s:4842   .text.lwip_netconn_do_write:0000000000000000 lwip_netconn_do_write
     /tmp/ccwuqUhA.s:5024   .text.lwip_netconn_do_write:00000000000000c0 $d
     /tmp/ccwuqUhA.s:5034   .rodata.lwip_netconn_do_getaddr.str1.4:0000000000000000 $d
     /tmp/ccwuqUhA.s:5038   .text.lwip_netconn_do_getaddr:0000000000000000 $t
     /tmp/ccwuqUhA.s:5045   .text.lwip_netconn_do_getaddr:0000000000000000 lwip_netconn_do_getaddr
     /tmp/ccwuqUhA.s:5205   .text.lwip_netconn_do_getaddr:0000000000000090 $d
     /tmp/ccwuqUhA.s:5212   .text.lwip_netconn_do_close:0000000000000000 $t
     /tmp/ccwuqUhA.s:5219   .text.lwip_netconn_do_close:0000000000000000 lwip_netconn_do_close
     /tmp/ccwuqUhA.s:5402   .text.lwip_netconn_do_close:00000000000000b8 $d
     /tmp/ccwuqUhA.s:5423   .rodata.netconn_closed:0000000000000000 netconn_closed
     /tmp/ccwuqUhA.s:5429   .rodata.netconn_reset:0000000000000000 netconn_reset
     /tmp/ccwuqUhA.s:5417   .rodata.netconn_aborted:0000000000000000 netconn_aborted
     /tmp/ccwuqUhA.s:5418   .rodata.netconn_aborted:0000000000000000 $d
     /tmp/ccwuqUhA.s:5424   .rodata.netconn_closed:0000000000000000 $d
     /tmp/ccwuqUhA.s:5430   .rodata.netconn_reset:0000000000000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
ARM GAS  /tmp/ccwuqUhA.s 			page 160


udp_new_ip_type
udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_close
tcp_accept
tcp_shutdown
tcp_abort
tcp_recved
sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
netif_get_by_index
udp_bind_netif
tcp_bind_netif
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
netconn_err
udp_send
udp_sendto
